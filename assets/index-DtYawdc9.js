(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function xf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var y_={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function jD(){if($x)return Ad;$x=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Ad.Fragment=t,Ad.jsx=e,Ad.jsxs=e,Ad}var qx;function LD(){return qx||(qx=1,y_.exports=jD()),y_.exports}var y=LD(),__={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function VD(){if(Gx)return de;Gx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(P,ht,Et){this.props=P,this.context=ht,this.refs=k,this.updater=Et||T}R.prototype.isReactComponent={},R.prototype.setState=function(P,ht){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ht,"setState")},R.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function V(){}V.prototype=R.prototype;function $(P,ht,Et){this.props=P,this.context=ht,this.refs=k,this.updater=Et||T}var q=$.prototype=new V;q.constructor=$,C(q,R.prototype),q.isPureReactComponent=!0;var Q=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function U(P,ht,Et,ft,At,Lt){return Et=Lt.ref,{$$typeof:n,type:P,key:ht,ref:Et!==void 0?Et:null,props:Lt}}function I(P,ht){return U(P.type,ht,void 0,void 0,void 0,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function F(P){var ht={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Et){return ht[Et]})}var H=/\/+/g;function B(P,ht){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):ht.toString(36)}function z(){}function kt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(z,z):(P.status="pending",P.then(function(ht){P.status==="pending"&&(P.status="fulfilled",P.value=ht)},function(ht){P.status==="pending"&&(P.status="rejected",P.reason=ht)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function pt(P,ht,Et,ft,At){var Lt=typeof P;(Lt==="undefined"||Lt==="boolean")&&(P=null);var Dt=!1;if(P===null)Dt=!0;else switch(Lt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(P.$$typeof){case n:case t:Dt=!0;break;case g:return Dt=P._init,pt(Dt(P._payload),ht,Et,ft,At)}}if(Dt)return At=At(P),Dt=ft===""?"."+B(P,0):ft,Q(At)?(Et="",Dt!=null&&(Et=Dt.replace(H,"$&/")+"/"),pt(At,ht,Et,"",function(pe){return pe})):At!=null&&(O(At)&&(At=I(At,Et+(At.key==null||P&&P.key===At.key?"":(""+At.key).replace(H,"$&/")+"/")+Dt)),ht.push(At)),1;Dt=0;var Bt=ft===""?".":ft+":";if(Q(P))for(var xt=0;xt<P.length;xt++)ft=P[xt],Lt=Bt+B(ft,xt),Dt+=pt(ft,ht,Et,Lt,At);else if(xt=E(P),typeof xt=="function")for(P=xt.call(P),xt=0;!(ft=P.next()).done;)ft=ft.value,Lt=Bt+B(ft,xt++),Dt+=pt(ft,ht,Et,Lt,At);else if(Lt==="object"){if(typeof P.then=="function")return pt(kt(P),ht,Et,ft,At);throw ht=String(P),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function K(P,ht,Et){if(P==null)return P;var ft=[],At=0;return pt(P,ft,"","",function(Lt){return ht.call(Et,Lt,At++)}),ft}function nt(P){if(P._status===-1){var ht=P._result;ht=ht(),ht.then(function(Et){(P._status===0||P._status===-1)&&(P._status=1,P._result=Et)},function(Et){(P._status===0||P._status===-1)&&(P._status=2,P._result=Et)}),P._status===-1&&(P._status=0,P._result=ht)}if(P._status===1)return P._result.default;throw P._result}var _t=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ot(){}return de.Children={map:K,forEach:function(P,ht,Et){K(P,function(){ht.apply(this,arguments)},Et)},count:function(P){var ht=0;return K(P,function(){ht++}),ht},toArray:function(P){return K(P,function(ht){return ht})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},de.Component=R,de.Fragment=e,de.Profiler=s,de.PureComponent=$,de.StrictMode=i,de.Suspense=h,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,de.__COMPILER_RUNTIME={__proto__:null,c:function(P){return W.H.useMemoCache(P)}},de.cache=function(P){return function(){return P.apply(null,arguments)}},de.cloneElement=function(P,ht,Et){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ft=C({},P.props),At=P.key,Lt=void 0;if(ht!=null)for(Dt in ht.ref!==void 0&&(Lt=void 0),ht.key!==void 0&&(At=""+ht.key),ht)!Z.call(ht,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&ht.ref===void 0||(ft[Dt]=ht[Dt]);var Dt=arguments.length-2;if(Dt===1)ft.children=Et;else if(1<Dt){for(var Bt=Array(Dt),xt=0;xt<Dt;xt++)Bt[xt]=arguments[xt+2];ft.children=Bt}return U(P.type,At,void 0,void 0,Lt,ft)},de.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},de.createElement=function(P,ht,Et){var ft,At={},Lt=null;if(ht!=null)for(ft in ht.key!==void 0&&(Lt=""+ht.key),ht)Z.call(ht,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=ht[ft]);var Dt=arguments.length-2;if(Dt===1)At.children=Et;else if(1<Dt){for(var Bt=Array(Dt),xt=0;xt<Dt;xt++)Bt[xt]=arguments[xt+2];At.children=Bt}if(P&&P.defaultProps)for(ft in Dt=P.defaultProps,Dt)At[ft]===void 0&&(At[ft]=Dt[ft]);return U(P,Lt,void 0,void 0,null,At)},de.createRef=function(){return{current:null}},de.forwardRef=function(P){return{$$typeof:u,render:P}},de.isValidElement=O,de.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:nt}},de.memo=function(P,ht){return{$$typeof:f,type:P,compare:ht===void 0?null:ht}},de.startTransition=function(P){var ht=W.T,Et={};W.T=Et;try{var ft=P(),At=W.S;At!==null&&At(Et,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(Ot,_t)}catch(Lt){_t(Lt)}finally{W.T=ht}},de.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},de.use=function(P){return W.H.use(P)},de.useActionState=function(P,ht,Et){return W.H.useActionState(P,ht,Et)},de.useCallback=function(P,ht){return W.H.useCallback(P,ht)},de.useContext=function(P){return W.H.useContext(P)},de.useDebugValue=function(){},de.useDeferredValue=function(P,ht){return W.H.useDeferredValue(P,ht)},de.useEffect=function(P,ht,Et){var ft=W.H;if(typeof Et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ft.useEffect(P,ht)},de.useId=function(){return W.H.useId()},de.useImperativeHandle=function(P,ht,Et){return W.H.useImperativeHandle(P,ht,Et)},de.useInsertionEffect=function(P,ht){return W.H.useInsertionEffect(P,ht)},de.useLayoutEffect=function(P,ht){return W.H.useLayoutEffect(P,ht)},de.useMemo=function(P,ht){return W.H.useMemo(P,ht)},de.useOptimistic=function(P,ht){return W.H.useOptimistic(P,ht)},de.useReducer=function(P,ht,Et){return W.H.useReducer(P,ht,Et)},de.useRef=function(P){return W.H.useRef(P)},de.useState=function(P){return W.H.useState(P)},de.useSyncExternalStore=function(P,ht,Et){return W.H.useSyncExternalStore(P,ht,Et)},de.useTransition=function(){return W.H.useTransition()},de.version="19.1.1",de}var Kx;function eb(){return Kx||(Kx=1,__.exports=VD()),__.exports}var D=eb();const lr=xf(D);var v_={exports:{}},Cd={},b_={exports:{}},E_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function UD(){return Wx||(Wx=1,function(n){function t(K,nt){var _t=K.length;K.push(nt);t:for(;0<_t;){var Ot=_t-1>>>1,P=K[Ot];if(0<s(P,nt))K[Ot]=nt,K[_t]=P,_t=Ot;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var nt=K[0],_t=K.pop();if(_t!==nt){K[0]=_t;t:for(var Ot=0,P=K.length,ht=P>>>1;Ot<ht;){var Et=2*(Ot+1)-1,ft=K[Et],At=Et+1,Lt=K[At];if(0>s(ft,_t))At<P&&0>s(Lt,ft)?(K[Ot]=Lt,K[At]=_t,Ot=At):(K[Ot]=ft,K[Et]=_t,Ot=Et);else if(At<P&&0>s(Lt,_t))K[Ot]=Lt,K[At]=_t,Ot=At;else break t}}return nt}function s(K,nt){var _t=K.sortIndex-nt.sortIndex;return _t!==0?_t:K.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,b=null,E=3,T=!1,C=!1,k=!1,R=!1,V=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Q(K){for(var nt=e(f);nt!==null;){if(nt.callback===null)i(f);else if(nt.startTime<=K)i(f),nt.sortIndex=nt.expirationTime,t(h,nt);else break;nt=e(f)}}function W(K){if(k=!1,Q(K),!C)if(e(h)!==null)C=!0,Z||(Z=!0,B());else{var nt=e(f);nt!==null&&pt(W,nt.startTime-K)}}var Z=!1,U=-1,I=5,O=-1;function F(){return R?!0:!(n.unstable_now()-O<I)}function H(){if(R=!1,Z){var K=n.unstable_now();O=K;var nt=!0;try{t:{C=!1,k&&(k=!1,$(U),U=-1),T=!0;var _t=E;try{e:{for(Q(K),b=e(h);b!==null&&!(b.expirationTime>K&&F());){var Ot=b.callback;if(typeof Ot=="function"){b.callback=null,E=b.priorityLevel;var P=Ot(b.expirationTime<=K);if(K=n.unstable_now(),typeof P=="function"){b.callback=P,Q(K),nt=!0;break e}b===e(h)&&i(h),Q(K)}else i(h);b=e(h)}if(b!==null)nt=!0;else{var ht=e(f);ht!==null&&pt(W,ht.startTime-K),nt=!1}}break t}finally{b=null,E=_t,T=!1}nt=void 0}}finally{nt?B():Z=!1}}}var B;if(typeof q=="function")B=function(){q(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,kt=z.port2;z.port1.onmessage=H,B=function(){kt.postMessage(null)}}else B=function(){V(H,0)};function pt(K,nt){U=V(function(){K(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var nt=3;break;default:nt=E}var _t=E;E=nt;try{return K()}finally{E=_t}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(K,nt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var _t=E;E=K;try{return nt()}finally{E=_t}},n.unstable_scheduleCallback=function(K,nt,_t){var Ot=n.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Ot+_t:Ot):_t=Ot,K){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=_t+P,K={id:g++,callback:nt,priorityLevel:K,startTime:_t,expirationTime:P,sortIndex:-1},_t>Ot?(K.sortIndex=_t,t(f,K),e(h)===null&&K===e(f)&&(k?($(U),U=-1):k=!0,pt(W,_t-Ot))):(K.sortIndex=P,t(h,K),C||T||(C=!0,Z||(Z=!0,B()))),K},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(K){var nt=E;return function(){var _t=E;E=nt;try{return K.apply(this,arguments)}finally{E=_t}}}}(E_)),E_}var Yx;function FD(){return Yx||(Yx=1,b_.exports=UD()),b_.exports}var x_={exports:{}},ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function zD(){if(Xx)return ki;Xx=1;var n=eb();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ki.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,g)},ki.flushSync=function(h){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=g,i.d.f()}},ki.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},ki.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ki.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:T}):g==="script"&&i.d.X(h,{crossOrigin:b,integrity:E,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ki.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},ki.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ki.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},ki.requestFormReset=function(h){i.d.r(h)},ki.unstable_batchedUpdates=function(h,f){return h(f)},ki.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},ki.useFormStatus=function(){return l.H.useHostTransitionStatus()},ki.version="19.1.1",ki}var Qx;function DA(){if(Qx)return x_.exports;Qx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),x_.exports=zD(),x_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function BD(){if(Zx)return Cd;Zx=1;var n=FD(),t=eb(),e=DA();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,d=o;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return u(p),r;if(v===d)return u(p),o;v=v.sibling}throw Error(i(188))}if(c.return!==d.return)c=p,d=v;else{for(var A=!1,M=p.child;M;){if(M===c){A=!0,c=p,d=v;break}if(M===d){A=!0,d=p,c=v;break}M=M.sibling}if(!A){for(M=v.child;M;){if(M===c){A=!0,c=v,d=p;break}if(M===d){A=!0,d=v,c=p;break}M=M.sibling}if(!A)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function kt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case q:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case Q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return o=r.displayName||null,o!==null?o:kt(r.type)||"Memo";case I:o=r._payload,r=r._init;try{return kt(r(o))}catch{}}return null}var pt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Ot=[],P=-1;function ht(r){return{current:r}}function Et(r){0>P||(r.current=Ot[P],Ot[P]=null,P--)}function ft(r,o){P++,Ot[P]=r.current,r.current=o}var At=ht(null),Lt=ht(null),Dt=ht(null),Bt=ht(null);function xt(r,o){switch(ft(Dt,o),ft(Lt,r),ft(At,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?_x(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=_x(o),r=vx(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Et(At),ft(At,r)}function pe(){Et(At),Et(Lt),Et(Dt)}function Tt(r){r.memoizedState!==null&&ft(Bt,r);var o=At.current,c=vx(o,r.type);o!==c&&(ft(Lt,r),ft(At,c))}function lt(r){Lt.current===r&&(Et(At),Et(Lt)),Bt.current===r&&(Et(Bt),Ed._currentValue=_t)}var Rt=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,me=n.unstable_cancelCallback,rt=n.unstable_shouldYield,Ct=n.unstable_requestPaint,St=n.unstable_now,Wt=n.unstable_getCurrentPriorityLevel,ge=n.unstable_ImmediatePriority,Ie=n.unstable_UserBlockingPriority,ze=n.unstable_NormalPriority,mi=n.unstable_LowPriority,Ps=n.unstable_IdlePriority,zi=n.log,dt=n.unstable_setDisableYieldValue,Vt=null,$t=null;function De(r){if(typeof zi=="function"&&dt(r),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Vt,r)}catch{}}var Ve=Math.clz32?Math.clz32:fn,Kn=Math.log,bn=Math.LN2;function fn(r){return r>>>=0,r===0?32:31-(Kn(r)/bn|0)|0}var js=256,Yi=4194304;function nn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fr(r,o,c){var d=r.pendingLanes;if(d===0)return 0;var p=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var M=d&134217727;return M!==0?(d=M&~v,d!==0?p=nn(d):(A&=M,A!==0?p=nn(A):c||(c=M&~r,c!==0&&(p=nn(c))))):(M=d&~v,M!==0?p=nn(M):A!==0?p=nn(A):c||(c=d&~r,c!==0&&(p=nn(c)))),p===0?0:o!==0&&o!==p&&(o&v)===0&&(v=p&-p,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:p}function Ca(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ql(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(){var r=js;return js<<=1,(js&4194048)===0&&(js=256),r}function Kl(){var r=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),r}function Ls(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Xi(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function No(r,o,c,d,p,v){var A=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var M=r.entanglements,G=r.expirationTimes,st=r.hiddenUpdates;for(c=A&~c;0<c;){var mt=31-Ve(c),vt=1<<mt;M[mt]=0,G[mt]=-1;var at=st[mt];if(at!==null)for(st[mt]=null,mt=0;mt<at.length;mt++){var ot=at[mt];ot!==null&&(ot.lane&=-536870913)}c&=~vt}d!==0&&ps(r,d,0),v!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~o))}function ps(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Ve(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function Wl(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var d=31-Ve(c),p=1<<d;p&o|r[d]&o&&(r[d]|=o),c&=~p}}function Ur(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Do(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fr(){var r=nt.p;return r!==0?r:(r=window.event,r===void 0?32:Vx(r.type))}function mr(r,o){var c=nt.p;try{return nt.p=r,o()}finally{nt.p=c}}var Be=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Be,En="__reactProps$"+Be,Qi="__reactContainer$"+Be,Yl="__reactEvents$"+Be,_h="__reactListeners$"+Be,Vs="__reactHandles$"+Be,pr="__reactResources$"+Be,Us="__reactMarker$"+Be;function zr(r){delete r[Sn],delete r[En],delete r[Yl],delete r[_h],delete r[Vs]}function gs(r){var o=r[Sn];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Qi]||c[Sn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=wx(r);r!==null;){if(c=r[Sn])return c;r=wx(r)}return o}r=c,c=r.parentNode}return null}function Fs(r){if(r=r[Sn]||r[Qi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function zs(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function xn(r){var o=r[pr];return o||(o=r[pr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function _e(r){r[Us]=!0}var Wn=new Set,Vn={};function sn(r,o){Zi(r,o),Zi(r+"Capture",o)}function Zi(r,o){for(Vn[r]=o,r=0;r<o.length;r++)Wn.add(o[r])}var gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},Ji={};function Xl(r){return Rt.call(Ji,r)?!0:Rt.call(Bs,r)?!1:gr.test(r)?Ji[r]=!0:(Bs[r]=!0,!1)}function Hs(r,o,c){if(Xl(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function pi(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Un(r,o,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+d)}}var yr,ko;function $s(r){if(yr===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);yr=o&&o[1]||"",ko=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+r+ko}var Ra=!1;function Ia(r,o){if(!r||Ra)return"";Ra=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(ot){var at=ot}Reflect.construct(r,[],vt)}else{try{vt.call()}catch(ot){at=ot}r.call(vt.prototype)}}else{try{throw Error()}catch(ot){at=ot}(vt=r())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(ot){if(ot&&at&&typeof ot.stack=="string")return[ot.stack,at.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),A=v[0],M=v[1];if(A&&M){var G=A.split(`
`),st=M.split(`
`);for(p=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;p<st.length&&!st[p].includes("DetermineComponentFrameRoot");)p++;if(d===G.length||p===st.length)for(d=G.length-1,p=st.length-1;1<=d&&0<=p&&G[d]!==st[p];)p--;for(;1<=d&&0<=p;d--,p--)if(G[d]!==st[p]){if(d!==1||p!==1)do if(d--,p--,0>p||G[d]!==st[p]){var mt=`
`+G[d].replace(" at new "," at ");return r.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",r.displayName)),mt}while(1<=d&&0<=p);break}}}finally{Ra=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?$s(c):""}function Oo(r){switch(r.tag){case 26:case 27:case 5:return $s(r.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 15:return Ia(r.type,!1);case 11:return Ia(r.type.render,!1);case 1:return Ia(r.type,!0);case 31:return $s("Activity");default:return""}}function Na(r){try{var o="";do o+=Oo(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ai(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Mo(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Wc(r){var o=Mo(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return p.call(this)},set:function(A){d=""+A,v.call(this,A)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Da(r){r._valueTracker||(r._valueTracker=Wc(r))}function Po(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return r&&(d=Mo(r)?r.checked?"true":"false":r.value),r=d,r!==c?(o.setValue(r),!0):!1}function oi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var gi=/[\n"\\]/g;function Qe(r){return r.replace(gi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function on(r,o,c,d,p,v,A,M){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ai(o)):r.value!==""+ai(o)&&(r.value=""+ai(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?qs(r,A,ai(o)):c!=null?qs(r,A,ai(c)):d!=null&&r.removeAttribute("value"),p==null&&v!=null&&(r.defaultChecked=!!v),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+ai(M):r.removeAttribute("name")}function _r(r,o,c,d,p,v,A,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+ai(c):"",o=o!=null?""+ai(o):c,M||o===r.value||(r.value=o),r.defaultValue=o}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=M?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function qs(r,o,c){o==="number"&&oi(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Fn(r,o,c,d){if(r=r.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=o.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&d&&(r[c].defaultSelected=!0)}else{for(c=""+ai(c),o=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}o!==null||r[p].disabled||(o=r[p])}o!==null&&(o.selected=!0)}}function xe(r,o,c){if(o!=null&&(o=""+ai(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+ai(c):""}function Gs(r,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(pt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=ai(o),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function Yn(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(r,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,c):typeof c!="number"||c===0||vr.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Ks(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var p in o)d=o[p],o.hasOwnProperty(p)&&c[p]!==d&&Ql(r,p,d)}else for(var v in o)o.hasOwnProperty(v)&&Ql(r,v,o[v])}function ka(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(r){return ys.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var li=null;function yi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ws=null,Bi=null;function Oa(r){var o=Fs(r);if(o&&(r=o.stateNode)){var c=r[En]||null;t:switch(r=o.stateNode,o.type){case"input":if(on(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Qe(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==r&&d.form===r.form){var p=d[En]||null;if(!p)throw Error(i(90));on(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===r.form&&Po(d)}break t;case"textarea":xe(r,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Fn(r,!!c.multiple,o,!1)}}}var Ai=!1;function Zl(r,o,c){if(Ai)return r(o,c);Ai=!0;try{var d=r(o);return d}finally{if(Ai=!1,(Ws!==null||Bi!==null)&&(Tm(),Ws&&(o=Ws,r=Bi,Bi=Ws=null,Oa(o),r)))for(o=0;o<r.length;o++)Oa(r[o])}}function Br(r,o){var c=r.stateNode;if(c===null)return null;var d=c[En]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(ts)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Xn=!1}var _s=null,Ys=null,es=null;function Pa(){if(es)return es;var r,o=Ys,c=o.length,d,p="value"in _s?_s.value:_s.textContent,v=p.length;for(r=0;r<c&&o[r]===p[r];r++);var A=c-r;for(d=1;d<=A&&o[c-d]===p[v-d];d++);return es=p.slice(r,1<d?1-d:void 0)}function Xs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Hi(){return!0}function Jl(){return!1}function An(r){function o(c,d,p,v,A){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(c=r[M],this[M]=c?c(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Hi:Jl,this.isPropagationStopped=Jl,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),o}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=An(ke),br=g({},ke,{view:0,detail:0}),tc=An(br),Qs,$r,vs,qr=g({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vs&&(vs&&r.type==="mousemove"?(Qs=r.screenX-vs.screenX,$r=r.screenY-vs.screenY):$r=Qs=0,vs=r),Qs)},movementY:function(r){return"movementY"in r?r.movementY:$r}}),Qn=An(qr),Xc=g({},qr,{dataTransfer:0}),Qc=An(Xc),Gr=g({},br,{relatedTarget:0}),ja=An(Gr),Lo=g({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),La=An(Lo),Vo=g({},ke,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Va=An(Vo),vh=g({},ke,{data:0}),ec=An(vh),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ua[r])?!!o[r]:!1}function Fa(){return ic}var Uo=g({},br,{key:function(r){if(r.key){var o=Kr[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Xs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(r){return r.type==="keypress"?Xs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),za=An(Uo),sc=g({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=An(sc),Es=g({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Zc=An(Es),rc=g({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jc=An(rc),tu=g({},qr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=An(tu),_i=g({},ke,{newState:0,oldState:0}),ac=An(_i),oc=[9,13,27,32],Zs=ts&&"CompositionEvent"in window,m=null;ts&&"documentMode"in document&&(m=document.documentMode);var x=ts&&"TextEvent"in window&&!m,S=ts&&(!Zs||m&&8<m&&11>=m),L=" ",et=!1;function ct(r,o){switch(r){case"keyup":return oc.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var we=!1;function Cn(r,o){switch(r){case"compositionend":return Nt(o);case"keypress":return o.which!==32?null:(et=!0,L);case"textInput":return r=o.data,r===L&&et?null:r;default:return null}}function Te(r,o){if(we)return r==="compositionend"||!Zs&&ct(r,o)?(r=Pa(),es=Ys=_s=null,we=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!zn[r.type]:o==="textarea"}function In(r,o,c,d){Ws?Bi?Bi.push(d):Bi=[d]:Ws=d,o=Nm(o,"onChange"),0<o.length&&(c=new Hr("onChange","change",null,c,d),r.push({event:c,listeners:o}))}var Bn=null,xs=null;function zo(r){fx(r,0)}function eu(r){var o=zs(r);if(Po(o))return r}function Lf(r,o){if(r==="change")return o}var bh=!1;if(ts){var Bo;if(ts){var Eh="oninput"in document;if(!Eh){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),Eh=typeof Vf.oninput=="function"}Bo=Eh}else Bo=!1;bh=Bo&&(!document.documentMode||9<document.documentMode)}function xh(){Bn&&(Bn.detachEvent("onpropertychange",Uf),xs=Bn=null)}function Uf(r){if(r.propertyName==="value"&&eu(xs)){var o=[];In(o,xs,r,yi(r)),Zl(zo,o)}}function ay(r,o,c){r==="focusin"?(xh(),Bn=o,xs=c,Bn.attachEvent("onpropertychange",Uf)):r==="focusout"&&xh()}function Ff(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return eu(xs)}function zf(r,o){if(r==="click")return eu(o)}function Bf(r,o){if(r==="input"||r==="change")return eu(o)}function nu(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ci=typeof Object.is=="function"?Object.is:nu;function Ba(r,o){if(Ci(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!Rt.call(o,p)||!Ci(r[p],o[p]))return!1}return!0}function $i(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hf(r,o){var c=$i(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=o&&d>=o)return{node:c,offset:o-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=$i(c)}}function $f(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?$f(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function wh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=oi(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=oi(r.document)}return o}function iu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var oy=ts&&"documentMode"in document&&11>=document.documentMode,Ho=null,Th=null,lc=null,Sh=!1;function qf(r,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sh||Ho==null||Ho!==oi(d)||(d=Ho,"selectionStart"in d&&iu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),lc&&Ba(lc,d)||(lc=d,d=Nm(Th,"onSelect"),0<d.length&&(o=new Hr("onSelect","select",null,o,c),r.push({event:o,listeners:d}),o.target=Ho)))}function Wr(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Ha={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},cc={},Gf={};ts&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function $a(r){if(cc[r])return cc[r];if(!Ha[r])return r;var o=Ha[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Gf)return cc[r]=o[c];return r}var Yr=$a("animationend"),Js=$a("animationiteration"),Ah=$a("animationstart"),ly=$a("transitionrun"),Kf=$a("transitionstart"),Wf=$a("transitioncancel"),Ch=$a("transitionend"),Rh=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function ws(r,o){Rh.set(r,o),sn(o,[r])}var Yf=new WeakMap;function qi(r,o){if(typeof r=="object"&&r!==null){var c=Yf.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Na(o)},Yf.set(r,o),o)}return{value:r,source:o,stack:Na(o)}}var Gi=[],$o=0,Nh=0;function su(){for(var r=$o,o=Nh=$o=0;o<r;){var c=Gi[o];Gi[o++]=null;var d=Gi[o];Gi[o++]=null;var p=Gi[o];Gi[o++]=null;var v=Gi[o];if(Gi[o++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}v!==0&&kh(c,p,v)}}function ru(r,o,c,d){Gi[$o++]=r,Gi[$o++]=o,Gi[$o++]=c,Gi[$o++]=d,Nh|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Dh(r,o,c,d){return ru(r,o,c,d),au(r)}function Ri(r,o){return ru(r,null,null,o),au(r)}function kh(r,o,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var p=!1,v=r.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(p=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,p&&o!==null&&(p=31-Ve(c),r=v.hiddenUpdates,d=r[p],d===null?r[p]=[o]:d.push(o),o.lane=c|536870912),v):null}function au(r){if(50<fd)throw fd=0,zy=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var qo={};function cy(r,o,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(r,o,c,d){return new cy(r,o,c,d)}function Oh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Er(r,o){var c=r.alternate;return c===null?(c=Ki(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Xf(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function ou(r,o,c,d,p,v){var A=0;if(d=r,typeof r=="function")Oh(r)&&(A=1);else if(typeof r=="string")A=wD(r,c,At.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case O:return r=Ki(31,c,o,p),r.elementType=O,r.lanes=v,r;case C:return xr(c.children,p,v,o);case k:A=8,p|=24;break;case R:return r=Ki(12,c,o,p|2),r.elementType=R,r.lanes=v,r;case W:return r=Ki(13,c,o,p),r.elementType=W,r.lanes=v,r;case Z:return r=Ki(19,c,o,p),r.elementType=Z,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case q:A=10;break t;case $:A=9;break t;case Q:A=11;break t;case U:A=14;break t;case I:A=16,d=null;break t}A=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Ki(A,c,o,p),o.elementType=r,o.type=d,o.lanes=v,o}function xr(r,o,c,d){return r=Ki(7,r,d,o),r.lanes=c,r}function Go(r,o,c){return r=Ki(6,r,null,o),r.lanes=c,r}function Mh(r,o,c){return o=Ki(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var qa=[],Ga=0,Xr=null,Ko=0,Ii=[],ns=0,Ka=null,wr=1,vi="";function Wa(r,o){qa[Ga++]=Ko,qa[Ga++]=Xr,Xr=r,Ko=o}function Qf(r,o,c){Ii[ns++]=wr,Ii[ns++]=vi,Ii[ns++]=Ka,Ka=r;var d=wr;r=vi;var p=32-Ve(d)-1;d&=~(1<<p),c+=1;var v=32-Ve(o)+p;if(30<v){var A=p-p%5;v=(d&(1<<A)-1).toString(32),d>>=A,p-=A,wr=1<<32-Ve(o)+p|c<<p|d,vi=v+r}else wr=1<<v|c<<p|d,vi=r}function Ph(r){r.return!==null&&(Wa(r,1),Qf(r,1,0))}function jh(r){for(;r===Xr;)Xr=qa[--Ga],qa[Ga]=null,Ko=qa[--Ga],qa[Ga]=null;for(;r===Ka;)Ka=Ii[--ns],Ii[ns]=null,vi=Ii[--ns],Ii[ns]=null,wr=Ii[--ns],Ii[ns]=null}var Hn=null,ln=null,je=!1,Qr=null,tr=!1,Zr=Error(i(519));function Tr(r){var o=Error(i(418,""));throw Ts(qi(o,r)),Zr}function Lh(r){var o=r.stateNode,c=r.type,d=r.memoizedProps;switch(o[Sn]=r,o[En]=d,c){case"dialog":be("cancel",o),be("close",o);break;case"iframe":case"object":case"embed":be("load",o);break;case"video":case"audio":for(c=0;c<pd.length;c++)be(pd[c],o);break;case"source":be("error",o);break;case"img":case"image":case"link":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"input":be("invalid",o),_r(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Da(o);break;case"select":be("invalid",o);break;case"textarea":be("invalid",o),Gs(o,d.value,d.defaultValue,d.children),Da(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||yx(o.textContent,c)?(d.popover!=null&&(be("beforetoggle",o),be("toggle",o)),d.onScroll!=null&&be("scroll",o),d.onScrollEnd!=null&&be("scrollend",o),d.onClick!=null&&(o.onclick=Dm),o=!0):o=!1,o||Tr(r)}function Zf(r){for(Hn=r.return;Hn;)switch(Hn.tag){case 5:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Hn=Hn.return}}function uc(r){if(r!==Hn)return!1;if(!je)return Zf(r),je=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||i_(r.type,r.memoizedProps)),c=!c),c&&ln&&Tr(r),Zf(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){ln=Rr(r.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}ln=null}}else o===27?(o=ln,ll(r.type)?(r=o_,o_=null,ln=r):ln=o):ln=Hn?Rr(r.stateNode.nextSibling):null;return!0}function hc(){ln=Hn=null,je=!1}function Wo(){var r=Qr;return r!==null&&(ls===null?ls=r:ls.push.apply(ls,r),Qr=null),r}function Ts(r){Qr===null?Qr=[r]:Qr.push(r)}var Vh=ht(null),Ya=null,Sr=null;function Jr(r,o,c){ft(Vh,o._currentValue),o._currentValue=c}function Ar(r){r._currentValue=Vh.current,Et(Vh)}function Uh(r,o,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===c)break;r=r.return}}function Fh(r,o,c,d){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){var A=p.child;v=v.firstContext;t:for(;v!==null;){var M=v;v=p;for(var G=0;G<o.length;G++)if(M.context===o[G]){v.lanes|=c,M=v.alternate,M!==null&&(M.lanes|=c),Uh(v.return,c,r),d||(A=null);break t}v=M.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(i(341));A.lanes|=c,v=A.alternate,v!==null&&(v.lanes|=c),Uh(A,c,r),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===r){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function dc(r,o,c,d){r=null;for(var p=o,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var M=p.type;Ci(p.pendingProps.value,A.value)||(r!==null?r.push(M):r=[M])}}else if(p===Bt.current){if(A=p.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Ed):r=[Ed])}p=p.return}r!==null&&Fh(o,r,c,d),o.flags|=262144}function fc(r){for(r=r.firstContext;r!==null;){if(!Ci(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Xa(r){Ya=r,Sr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zn(r){return zh(Ya,r)}function Yo(r,o){return Ya===null&&Xa(r),zh(r,o)}function zh(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Sr===null){if(r===null)throw Error(i(308));Sr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Sr=Sr.next=o;return c}var Qa=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},Jf=n.unstable_scheduleCallback,Bh=n.unstable_NormalPriority,wn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new Qa,data:new Map,refCount:0}}function Xo(r){r.refCount--,r.refCount===0&&Jf(Bh,function(){r.controller.abort()})}var Za=null,Hh=0,is=0,Wi=null;function uy(r,o){if(Za===null){var c=Za=[];Hh=0,is=Wy(),Wi={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Hh++,o.then(tm,tm),o}function tm(){if(--Hh===0&&Za!==null){Wi!==null&&(Wi.status="fulfilled");var r=Za;Za=null,is=0,Wi=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function hy(r,o){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var p=0;p<c.length;p++)(0,c[p])(o)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var em=K.S;K.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&uy(r,o),em!==null&&em(r,o)};var Ja=ht(null);function $h(){var r=Ja.current;return r!==null?r:cn.pooledCache}function lu(r,o){o===null?ft(Ja,Ja.current):ft(Ja,o.pool)}function nm(){var r=$h();return r===null?null:{parent:wn._currentValue,pool:r}}var Qo=Error(i(460)),pc=Error(i(474)),to=Error(i(542)),qh={then:function(){}};function im(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ta(){}function N(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(ta,ta),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,j(r),r;default:if(typeof o.status=="string")o.then(ta,ta);else{if(r=cn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=d}},function(d){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,j(r),r}throw _=o,Qo}}var _=null;function w(){if(_===null)throw Error(i(459));var r=_;return _=null,r}function j(r){if(r===Qo||r===to)throw Error(i(483))}var X=!1;function J(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ut(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function gt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function It(r,o,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,o=au(r),kh(r,null,c),o}return ru(r,d,o,c),au(r)}function jt(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Wl(r,c)}}function Ft(r,o){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?p=v=A:v=v.next=A,c=c.next}while(c!==null);v===null?p=v=o:v=v.next=o}else p=v=o;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Mt=!1;function ae(){if(Mt){var r=Wi;if(r!==null)throw r}}function Yt(r,o,c,d){Mt=!1;var p=r.updateQueue;X=!1;var v=p.firstBaseUpdate,A=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var G=M,st=G.next;G.next=null,A===null?v=st:A.next=st,A=G;var mt=r.alternate;mt!==null&&(mt=mt.updateQueue,M=mt.lastBaseUpdate,M!==A&&(M===null?mt.firstBaseUpdate=st:M.next=st,mt.lastBaseUpdate=G))}if(v!==null){var vt=p.baseState;A=0,mt=st=G=null,M=v;do{var at=M.lane&-536870913,ot=at!==M.lane;if(ot?(Me&at)===at:(d&at)===at){at!==0&&at===is&&(Mt=!0),mt!==null&&(mt=mt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var re=r,Zt=M;at=o;var tn=c;switch(Zt.tag){case 1:if(re=Zt.payload,typeof re=="function"){vt=re.call(tn,vt,at);break t}vt=re;break t;case 3:re.flags=re.flags&-65537|128;case 0:if(re=Zt.payload,at=typeof re=="function"?re.call(tn,vt,at):re,at==null)break t;vt=g({},vt,at);break t;case 2:X=!0}}at=M.callback,at!==null&&(r.flags|=64,ot&&(r.flags|=8192),ot=p.callbacks,ot===null?p.callbacks=[at]:ot.push(at))}else ot={lane:at,tag:M.tag,payload:M.payload,callback:M.callback,next:null},mt===null?(st=mt=ot,G=vt):mt=mt.next=ot,A|=at;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ot=M,M=ot.next,ot.next=null,p.lastBaseUpdate=ot,p.shared.pending=null}}while(!0);mt===null&&(G=vt),p.baseState=G,p.firstBaseUpdate=st,p.lastBaseUpdate=mt,v===null&&(p.shared.lanes=0),sl|=A,r.lanes=A,r.memoizedState=vt}}function oe(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function te(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)oe(c[r],o)}var Qt=ht(null),Le=ht(0);function qe(r,o){r=oo,ft(Le,r),ft(Qt,o),oo=r|o.baseLanes}function he(){ft(Le,oo),ft(Qt,Qt.current)}function Ne(){oo=Le.current,Et(Qt),Et(Le)}var ee=0,Pt=null,Gt=null,ne=null,Oe=!1,Ze=!1,Nn=!1,Ni=0,Dn=0,Jn=null,ss=0;function ce(){throw Error(i(321))}function rs(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Ci(r[c],o[c]))return!1;return!0}function as(r,o,c,d,p,v){return ee=v,Pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=r===null||r.memoizedState===null?Q0:Z0,Nn=!1,v=c(d,p),Nn=!1,Ze&&(v=kn(o,c,d,p)),eo(r),v}function eo(r){K.H=hm;var o=Gt!==null&&Gt.next!==null;if(ee=0,ne=Gt=Pt=null,Oe=!1,Dn=0,Jn=null,o)throw Error(i(300));r===null||ci||(r=r.dependencies,r!==null&&fc(r)&&(ci=!0))}function kn(r,o,c,d){Pt=r;var p=0;do{if(Ze&&(Jn=null),Dn=0,Ze=!1,25<=p)throw Error(i(301));if(p+=1,ne=Gt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=MN,v=o(c,d)}while(Ze);return v}function Ge(){var r=K.H,o=r.useState()[0];return o=typeof o.then=="function"?ea(o):o,r=r.useState()[0],(Gt!==null?Gt.memoizedState:null)!==r&&(Pt.flags|=1024),o}function ti(){var r=Ni!==0;return Ni=0,r}function Di(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function er(r){if(Oe){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Oe=!1}ee=0,ne=Gt=Pt=null,Ze=!1,Dn=Ni=0,Jn=null}function ei(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?Pt.memoizedState=ne=r:ne=ne.next=r,ne}function gn(){if(Gt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var o=ne===null?Pt.memoizedState:ne.next;if(o!==null)ne=o,Gt=r;else{if(r===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ne===null?Pt.memoizedState=ne=r:ne=ne.next=r}return ne}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ea(r){var o=Dn;return Dn+=1,Jn===null&&(Jn=[]),r=N(Jn,r,o),o=Pt,(ne===null?o.memoizedState:ne.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?Q0:Z0),r}function uu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ea(r);if(r.$$typeof===q)return Zn(r)}throw Error(i(438,String(r)))}function Gh(r){var o=null,c=Pt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Pt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=cu(),Pt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),d=0;d<r;d++)c[d]=F;return o.index++,c}function Ss(r,o){return typeof o=="function"?o(r):o}function hu(r){var o=gn();return du(o,Gt,r)}function du(r,o,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var p=r.baseQueue,v=d.pending;if(v!==null){if(p!==null){var A=p.next;p.next=v.next,v.next=A}o.baseQueue=p=v,d.pending=null}if(v=r.baseState,p===null)r.memoizedState=v;else{o=p.next;var M=A=null,G=null,st=o,mt=!1;do{var vt=st.lane&-536870913;if(vt!==st.lane?(Me&vt)===vt:(ee&vt)===vt){var at=st.revertLane;if(at===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),vt===is&&(mt=!0);else if((ee&at)===at){st=st.next,at===is&&(mt=!0);continue}else vt={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},G===null?(M=G=vt,A=v):G=G.next=vt,Pt.lanes|=at,sl|=at;vt=st.action,Nn&&c(v,vt),v=st.hasEagerState?st.eagerState:c(v,vt)}else at={lane:vt,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},G===null?(M=G=at,A=v):G=G.next=at,Pt.lanes|=vt,sl|=vt;st=st.next}while(st!==null&&st!==o);if(G===null?A=v:G.next=M,!Ci(v,r.memoizedState)&&(ci=!0,mt&&(c=Wi,c!==null)))throw c;r.memoizedState=v,r.baseState=A,r.baseQueue=G,d.lastRenderedState=v}return p===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Kh(r){var o=gn(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,p=c.pending,v=o.memoizedState;if(p!==null){c.pending=null;var A=p=p.next;do v=r(v,A.action),A=A.next;while(A!==p);Ci(v,o.memoizedState)||(ci=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,d]}function Wh(r,o,c){var d=Pt,p=gn(),v=je;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=o();var A=!Ci((Gt||p).memoizedState,c);A&&(p.memoizedState=c,ci=!0),p=p.queue;var M=rm.bind(null,d,p,r);if(nd(2048,8,M,[r]),p.getSnapshot!==o||A||ne!==null&&ne.memoizedState.tag&1){if(d.flags|=2048,gu(9,lm(),sm.bind(null,d,p,c,o),null),cn===null)throw Error(i(349));v||(ee&124)!==0||Yh(d,o,c)}return c}function Yh(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Pt.updateQueue,o===null?(o=cu(),Pt.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function sm(r,o,c,d){o.value=c,o.getSnapshot=d,na(o)&&gc(r)}function rm(r,o,c){return c(function(){na(o)&&gc(r)})}function na(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Ci(r,c)}catch{return!0}}function gc(r){var o=Ri(r,2);o!==null&&Ns(o,r,2)}function fu(r){var o=ei();if(typeof r=="function"){var c=r;if(r=c(),Nn){De(!0);try{c()}finally{De(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:r},o}function Xh(r,o,c,d){return r.baseState=c,du(r,Gt,typeof d=="function"?d:Ss)}function Qh(r,o,c,d,p){if(um(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};K.T!==null?c(!0):v.isTransition=!1,d(v),c=o.pending,c===null?(v.next=o.pending=v,Zh(o,v)):(v.next=c.next,o.pending=c.next=v)}}function Zh(r,o){var c=o.action,d=o.payload,p=r.state;if(o.isTransition){var v=K.T,A={};K.T=A;try{var M=c(p,d),G=K.S;G!==null&&G(A,M),Jh(r,o,M)}catch(st){mu(r,o,st)}finally{K.T=v}}else try{v=c(p,d),Jh(r,o,v)}catch(st){mu(r,o,st)}}function Jh(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){td(r,o,d)},function(d){return mu(r,o,d)}):td(r,o,c)}function td(r,o,c){o.status="fulfilled",o.value=c,am(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,Zh(r,c)))}function mu(r,o,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,am(o),o=o.next;while(o!==d)}r.action=null}function am(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function om(r,o){return o}function pu(r,o){if(je){var c=cn.formState;if(c!==null){t:{var d=Pt;if(je){if(ln){e:{for(var p=ln,v=tr;p.nodeType!==8;){if(!v){p=null;break e}if(p=Rr(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){ln=Rr(p.nextSibling),d=p.data==="F!";break t}}Tr(d)}d=!1}d&&(o=c[0])}}return c=ei(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:o},c.queue=d,c=W0.bind(null,Pt,d),d.dispatch=c,d=fu(!1),v=gy.bind(null,Pt,!1,d.queue),d=ei(),p={state:o,dispatch:null,action:r,pending:null},d.queue=p,c=Qh.bind(null,Pt,p,v,c),p.dispatch=c,d.memoizedState=r,[o,c,!1]}function ed(r){var o=gn();return D0(o,Gt,r)}function D0(r,o,c){if(o=du(r,o,om)[0],r=hu(Ss)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=ea(o)}catch(A){throw A===Qo?to:A}else d=o;o=gn();var p=o.queue,v=p.dispatch;return c!==o.memoizedState&&(Pt.flags|=2048,gu(9,lm(),NN.bind(null,p,c),null)),[d,v,r]}function NN(r,o){r.action=o}function k0(r){var o=gn(),c=Gt;if(c!==null)return D0(o,c,r);gn(),o=o.memoizedState,c=gn();var d=c.queue.dispatch;return c.memoizedState=r,[o,d,!1]}function gu(r,o,c,d){return r={tag:r,create:c,deps:d,inst:o,next:null},o=Pt.updateQueue,o===null&&(o=cu(),Pt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,o.lastEffect=r),r}function lm(){return{destroy:void 0,resource:void 0}}function O0(){return gn().memoizedState}function cm(r,o,c,d){var p=ei();d=d===void 0?null:d,Pt.flags|=r,p.memoizedState=gu(1|o,lm(),c,d)}function nd(r,o,c,d){var p=gn();d=d===void 0?null:d;var v=p.memoizedState.inst;Gt!==null&&d!==null&&rs(d,Gt.memoizedState.deps)?p.memoizedState=gu(o,v,c,d):(Pt.flags|=r,p.memoizedState=gu(1|o,v,c,d))}function M0(r,o){cm(8390656,8,r,o)}function P0(r,o){nd(2048,8,r,o)}function j0(r,o){return nd(4,2,r,o)}function L0(r,o){return nd(4,4,r,o)}function V0(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function U0(r,o,c){c=c!=null?c.concat([r]):null,nd(4,4,V0.bind(null,o,r),c)}function dy(){}function F0(r,o){var c=gn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&rs(o,d[1])?d[0]:(c.memoizedState=[r,o],r)}function z0(r,o){var c=gn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&rs(o,d[1]))return d[0];if(d=r(),Nn){De(!0);try{r()}finally{De(!1)}}return c.memoizedState=[d,o],d}function fy(r,o,c){return c===void 0||(ee&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=$E(),Pt.lanes|=r,sl|=r,c)}function B0(r,o,c,d){return Ci(c,o)?c:Qt.current!==null?(r=fy(r,c,d),Ci(r,o)||(ci=!0),r):(ee&42)===0?(ci=!0,r.memoizedState=c):(r=$E(),Pt.lanes|=r,sl|=r,o)}function H0(r,o,c,d,p){var v=nt.p;nt.p=v!==0&&8>v?v:8;var A=K.T,M={};K.T=M,gy(r,!1,o,c);try{var G=p(),st=K.S;if(st!==null&&st(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var mt=hy(G,d);id(r,o,mt,Is(r))}else id(r,o,d,Is(r))}catch(vt){id(r,o,{then:function(){},status:"rejected",reason:vt},Is())}finally{nt.p=v,K.T=A}}function DN(){}function my(r,o,c,d){if(r.tag!==5)throw Error(i(476));var p=$0(r).queue;H0(r,p,o,_t,c===null?DN:function(){return q0(r),c(d)})}function $0(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:_t},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function q0(r){var o=$0(r).next.queue;id(r,o,{},Is())}function py(){return Zn(Ed)}function G0(){return gn().memoizedState}function K0(){return gn().memoizedState}function kN(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Is();r=gt(c);var d=It(o,r,c);d!==null&&(Ns(d,o,c),jt(d,o,c)),o={cache:mc()},r.payload=o;return}o=o.return}}function ON(r,o,c){var d=Is();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},um(r)?Y0(o,c):(c=Dh(r,o,c,d),c!==null&&(Ns(c,r,d),X0(c,o,d)))}function W0(r,o,c){var d=Is();id(r,o,c,d)}function id(r,o,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(um(r))Y0(o,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,M=v(A,c);if(p.hasEagerState=!0,p.eagerState=M,Ci(M,A))return ru(r,o,p,0),cn===null&&su(),!1}catch{}finally{}if(c=Dh(r,o,p,d),c!==null)return Ns(c,r,d),X0(c,o,d),!0}return!1}function gy(r,o,c,d){if(d={lane:2,revertLane:Wy(),action:d,hasEagerState:!1,eagerState:null,next:null},um(r)){if(o)throw Error(i(479))}else o=Dh(r,c,d,2),o!==null&&Ns(o,r,2)}function um(r){var o=r.alternate;return r===Pt||o!==null&&o===Pt}function Y0(r,o){Ze=Oe=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function X0(r,o,c){if((c&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Wl(r,c)}}var hm={readContext:Zn,use:uu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Q0={readContext:Zn,use:uu,useCallback:function(r,o){return ei().memoizedState=[r,o===void 0?null:o],r},useContext:Zn,useEffect:M0,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,cm(4194308,4,V0.bind(null,o,r),c)},useLayoutEffect:function(r,o){return cm(4194308,4,r,o)},useInsertionEffect:function(r,o){cm(4,2,r,o)},useMemo:function(r,o){var c=ei();o=o===void 0?null:o;var d=r();if(Nn){De(!0);try{r()}finally{De(!1)}}return c.memoizedState=[d,o],d},useReducer:function(r,o,c){var d=ei();if(c!==void 0){var p=c(o);if(Nn){De(!0);try{c(o)}finally{De(!1)}}}else p=o;return d.memoizedState=d.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},d.queue=r,r=r.dispatch=ON.bind(null,Pt,r),[d.memoizedState,r]},useRef:function(r){var o=ei();return r={current:r},o.memoizedState=r},useState:function(r){r=fu(r);var o=r.queue,c=W0.bind(null,Pt,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:dy,useDeferredValue:function(r,o){var c=ei();return fy(c,r,o)},useTransition:function(){var r=fu(!1);return r=H0.bind(null,Pt,r.queue,!0,!1),ei().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var d=Pt,p=ei();if(je){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),cn===null)throw Error(i(349));(Me&124)!==0||Yh(d,o,c)}p.memoizedState=c;var v={value:c,getSnapshot:o};return p.queue=v,M0(rm.bind(null,d,v,r),[r]),d.flags|=2048,gu(9,lm(),sm.bind(null,d,v,c,o),null),c},useId:function(){var r=ei(),o=cn.identifierPrefix;if(je){var c=vi,d=wr;c=(d&~(1<<32-Ve(d)-1)).toString(32)+c,o=""+o+"R"+c,c=Ni++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=ss++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:py,useFormState:pu,useActionState:pu,useOptimistic:function(r){var o=ei();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=gy.bind(null,Pt,!0,c),c.dispatch=o,[r,o]},useMemoCache:Gh,useCacheRefresh:function(){return ei().memoizedState=kN.bind(null,Pt)}},Z0={readContext:Zn,use:uu,useCallback:F0,useContext:Zn,useEffect:P0,useImperativeHandle:U0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:z0,useReducer:hu,useRef:O0,useState:function(){return hu(Ss)},useDebugValue:dy,useDeferredValue:function(r,o){var c=gn();return B0(c,Gt.memoizedState,r,o)},useTransition:function(){var r=hu(Ss)[0],o=gn().memoizedState;return[typeof r=="boolean"?r:ea(r),o]},useSyncExternalStore:Wh,useId:G0,useHostTransitionStatus:py,useFormState:ed,useActionState:ed,useOptimistic:function(r,o){var c=gn();return Xh(c,Gt,r,o)},useMemoCache:Gh,useCacheRefresh:K0},MN={readContext:Zn,use:uu,useCallback:F0,useContext:Zn,useEffect:P0,useImperativeHandle:U0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:z0,useReducer:Kh,useRef:O0,useState:function(){return Kh(Ss)},useDebugValue:dy,useDeferredValue:function(r,o){var c=gn();return Gt===null?fy(c,r,o):B0(c,Gt.memoizedState,r,o)},useTransition:function(){var r=Kh(Ss)[0],o=gn().memoizedState;return[typeof r=="boolean"?r:ea(r),o]},useSyncExternalStore:Wh,useId:G0,useHostTransitionStatus:py,useFormState:k0,useActionState:k0,useOptimistic:function(r,o){var c=gn();return Gt!==null?Xh(c,Gt,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:K0},yu=null,sd=0;function dm(r){var o=sd;return sd+=1,yu===null&&(yu=[]),N(yu,r,o)}function rd(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function fm(r,o){throw o.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function J0(r){var o=r._init;return o(r._payload)}function tE(r){function o(tt,Y){if(r){var it=tt.deletions;it===null?(tt.deletions=[Y],tt.flags|=16):it.push(Y)}}function c(tt,Y){if(!r)return null;for(;Y!==null;)o(tt,Y),Y=Y.sibling;return null}function d(tt){for(var Y=new Map;tt!==null;)tt.key!==null?Y.set(tt.key,tt):Y.set(tt.index,tt),tt=tt.sibling;return Y}function p(tt,Y){return tt=Er(tt,Y),tt.index=0,tt.sibling=null,tt}function v(tt,Y,it){return tt.index=it,r?(it=tt.alternate,it!==null?(it=it.index,it<Y?(tt.flags|=67108866,Y):it):(tt.flags|=67108866,Y)):(tt.flags|=1048576,Y)}function A(tt){return r&&tt.alternate===null&&(tt.flags|=67108866),tt}function M(tt,Y,it,yt){return Y===null||Y.tag!==6?(Y=Go(it,tt.mode,yt),Y.return=tt,Y):(Y=p(Y,it),Y.return=tt,Y)}function G(tt,Y,it,yt){var Ht=it.type;return Ht===C?mt(tt,Y,it.props.children,yt,it.key):Y!==null&&(Y.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&J0(Ht)===Y.type)?(Y=p(Y,it.props),rd(Y,it),Y.return=tt,Y):(Y=ou(it.type,it.key,it.props,null,tt.mode,yt),rd(Y,it),Y.return=tt,Y)}function st(tt,Y,it,yt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==it.containerInfo||Y.stateNode.implementation!==it.implementation?(Y=Mh(it,tt.mode,yt),Y.return=tt,Y):(Y=p(Y,it.children||[]),Y.return=tt,Y)}function mt(tt,Y,it,yt,Ht){return Y===null||Y.tag!==7?(Y=xr(it,tt.mode,yt,Ht),Y.return=tt,Y):(Y=p(Y,it),Y.return=tt,Y)}function vt(tt,Y,it){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Go(""+Y,tt.mode,it),Y.return=tt,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return it=ou(Y.type,Y.key,Y.props,null,tt.mode,it),rd(it,Y),it.return=tt,it;case T:return Y=Mh(Y,tt.mode,it),Y.return=tt,Y;case I:var yt=Y._init;return Y=yt(Y._payload),vt(tt,Y,it)}if(pt(Y)||B(Y))return Y=xr(Y,tt.mode,it,null),Y.return=tt,Y;if(typeof Y.then=="function")return vt(tt,dm(Y),it);if(Y.$$typeof===q)return vt(tt,Yo(tt,Y),it);fm(tt,Y)}return null}function at(tt,Y,it,yt){var Ht=Y!==null?Y.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Ht!==null?null:M(tt,Y,""+it,yt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case E:return it.key===Ht?G(tt,Y,it,yt):null;case T:return it.key===Ht?st(tt,Y,it,yt):null;case I:return Ht=it._init,it=Ht(it._payload),at(tt,Y,it,yt)}if(pt(it)||B(it))return Ht!==null?null:mt(tt,Y,it,yt,null);if(typeof it.then=="function")return at(tt,Y,dm(it),yt);if(it.$$typeof===q)return at(tt,Y,Yo(tt,it),yt);fm(tt,it)}return null}function ot(tt,Y,it,yt,Ht){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return tt=tt.get(it)||null,M(Y,tt,""+yt,Ht);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case E:return tt=tt.get(yt.key===null?it:yt.key)||null,G(Y,tt,yt,Ht);case T:return tt=tt.get(yt.key===null?it:yt.key)||null,st(Y,tt,yt,Ht);case I:var ye=yt._init;return yt=ye(yt._payload),ot(tt,Y,it,yt,Ht)}if(pt(yt)||B(yt))return tt=tt.get(it)||null,mt(Y,tt,yt,Ht,null);if(typeof yt.then=="function")return ot(tt,Y,it,dm(yt),Ht);if(yt.$$typeof===q)return ot(tt,Y,it,Yo(Y,yt),Ht);fm(Y,yt)}return null}function re(tt,Y,it,yt){for(var Ht=null,ye=null,Kt=Y,Jt=Y=0,hi=null;Kt!==null&&Jt<it.length;Jt++){Kt.index>Jt?(hi=Kt,Kt=null):hi=Kt.sibling;var Ue=at(tt,Kt,it[Jt],yt);if(Ue===null){Kt===null&&(Kt=hi);break}r&&Kt&&Ue.alternate===null&&o(tt,Kt),Y=v(Ue,Y,Jt),ye===null?Ht=Ue:ye.sibling=Ue,ye=Ue,Kt=hi}if(Jt===it.length)return c(tt,Kt),je&&Wa(tt,Jt),Ht;if(Kt===null){for(;Jt<it.length;Jt++)Kt=vt(tt,it[Jt],yt),Kt!==null&&(Y=v(Kt,Y,Jt),ye===null?Ht=Kt:ye.sibling=Kt,ye=Kt);return je&&Wa(tt,Jt),Ht}for(Kt=d(Kt);Jt<it.length;Jt++)hi=ot(Kt,tt,Jt,it[Jt],yt),hi!==null&&(r&&hi.alternate!==null&&Kt.delete(hi.key===null?Jt:hi.key),Y=v(hi,Y,Jt),ye===null?Ht=hi:ye.sibling=hi,ye=hi);return r&&Kt.forEach(function(fl){return o(tt,fl)}),je&&Wa(tt,Jt),Ht}function Zt(tt,Y,it,yt){if(it==null)throw Error(i(151));for(var Ht=null,ye=null,Kt=Y,Jt=Y=0,hi=null,Ue=it.next();Kt!==null&&!Ue.done;Jt++,Ue=it.next()){Kt.index>Jt?(hi=Kt,Kt=null):hi=Kt.sibling;var fl=at(tt,Kt,Ue.value,yt);if(fl===null){Kt===null&&(Kt=hi);break}r&&Kt&&fl.alternate===null&&o(tt,Kt),Y=v(fl,Y,Jt),ye===null?Ht=fl:ye.sibling=fl,ye=fl,Kt=hi}if(Ue.done)return c(tt,Kt),je&&Wa(tt,Jt),Ht;if(Kt===null){for(;!Ue.done;Jt++,Ue=it.next())Ue=vt(tt,Ue.value,yt),Ue!==null&&(Y=v(Ue,Y,Jt),ye===null?Ht=Ue:ye.sibling=Ue,ye=Ue);return je&&Wa(tt,Jt),Ht}for(Kt=d(Kt);!Ue.done;Jt++,Ue=it.next())Ue=ot(Kt,tt,Jt,Ue.value,yt),Ue!==null&&(r&&Ue.alternate!==null&&Kt.delete(Ue.key===null?Jt:Ue.key),Y=v(Ue,Y,Jt),ye===null?Ht=Ue:ye.sibling=Ue,ye=Ue);return r&&Kt.forEach(function(PD){return o(tt,PD)}),je&&Wa(tt,Jt),Ht}function tn(tt,Y,it,yt){if(typeof it=="object"&&it!==null&&it.type===C&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case E:t:{for(var Ht=it.key;Y!==null;){if(Y.key===Ht){if(Ht=it.type,Ht===C){if(Y.tag===7){c(tt,Y.sibling),yt=p(Y,it.props.children),yt.return=tt,tt=yt;break t}}else if(Y.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&J0(Ht)===Y.type){c(tt,Y.sibling),yt=p(Y,it.props),rd(yt,it),yt.return=tt,tt=yt;break t}c(tt,Y);break}else o(tt,Y);Y=Y.sibling}it.type===C?(yt=xr(it.props.children,tt.mode,yt,it.key),yt.return=tt,tt=yt):(yt=ou(it.type,it.key,it.props,null,tt.mode,yt),rd(yt,it),yt.return=tt,tt=yt)}return A(tt);case T:t:{for(Ht=it.key;Y!==null;){if(Y.key===Ht)if(Y.tag===4&&Y.stateNode.containerInfo===it.containerInfo&&Y.stateNode.implementation===it.implementation){c(tt,Y.sibling),yt=p(Y,it.children||[]),yt.return=tt,tt=yt;break t}else{c(tt,Y);break}else o(tt,Y);Y=Y.sibling}yt=Mh(it,tt.mode,yt),yt.return=tt,tt=yt}return A(tt);case I:return Ht=it._init,it=Ht(it._payload),tn(tt,Y,it,yt)}if(pt(it))return re(tt,Y,it,yt);if(B(it)){if(Ht=B(it),typeof Ht!="function")throw Error(i(150));return it=Ht.call(it),Zt(tt,Y,it,yt)}if(typeof it.then=="function")return tn(tt,Y,dm(it),yt);if(it.$$typeof===q)return tn(tt,Y,Yo(tt,it),yt);fm(tt,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,Y!==null&&Y.tag===6?(c(tt,Y.sibling),yt=p(Y,it),yt.return=tt,tt=yt):(c(tt,Y),yt=Go(it,tt.mode,yt),yt.return=tt,tt=yt),A(tt)):c(tt,Y)}return function(tt,Y,it,yt){try{sd=0;var Ht=tn(tt,Y,it,yt);return yu=null,Ht}catch(Kt){if(Kt===Qo||Kt===to)throw Kt;var ye=Ki(29,Kt,null,tt.mode);return ye.lanes=yt,ye.return=tt,ye}finally{}}}var _u=tE(!0),eE=tE(!1),nr=ht(null),ia=null;function Zo(r){var o=r.alternate;ft(ni,ni.current&1),ft(nr,r),ia===null&&(o===null||Qt.current!==null||o.memoizedState!==null)&&(ia=r)}function nE(r){if(r.tag===22){if(ft(ni,ni.current),ft(nr,r),ia===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(ia=r)}}else Jo()}function Jo(){ft(ni,ni.current),ft(nr,nr.current)}function no(r){Et(nr),ia===r&&(ia=null),Et(ni)}var ni=ht(0);function mm(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||a_(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function yy(r,o,c,d){o=r.memoizedState,c=c(d,o),c=c==null?o:g({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var _y={enqueueSetState:function(r,o,c){r=r._reactInternals;var d=Is(),p=gt(d);p.payload=o,c!=null&&(p.callback=c),o=It(r,p,d),o!==null&&(Ns(o,r,d),jt(o,r,d))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var d=Is(),p=gt(d);p.tag=1,p.payload=o,c!=null&&(p.callback=c),o=It(r,p,d),o!==null&&(Ns(o,r,d),jt(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Is(),d=gt(c);d.tag=2,o!=null&&(d.callback=o),o=It(r,d,c),o!==null&&(Ns(o,r,c),jt(o,r,c))}};function iE(r,o,c,d,p,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,A):o.prototype&&o.prototype.isPureReactComponent?!Ba(c,d)||!Ba(p,v):!0}function sE(r,o,c,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==r&&_y.enqueueReplaceState(o,o.state,null)}function yc(r,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(r=r.defaultProps){c===o&&(c=g({},c));for(var p in r)c[p]===void 0&&(c[p]=r[p])}return c}var pm=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function rE(r){pm(r)}function aE(r){console.error(r)}function oE(r){pm(r)}function gm(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function lE(r,o,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vy(r,o,c){return c=gt(c),c.tag=3,c.payload={element:null},c.callback=function(){gm(r,o)},c}function cE(r){return r=gt(r),r.tag=3,r}function uE(r,o,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;r.payload=function(){return p(v)},r.callback=function(){lE(o,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){lE(o,c,d),typeof p!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function PN(r,o,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&dc(o,c,p,!0),c=nr.current,c!==null){switch(c.tag){case 13:return ia===null?Hy():c.alternate===null&&Tn===0&&(Tn=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===qh?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),qy(r,d,p)),!1;case 22:return c.flags|=65536,d===qh?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),qy(r,d,p)),!1}throw Error(i(435,c.tag))}return qy(r,d,p),Hy(),!1}if(je)return o=nr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,d!==Zr&&(r=Error(i(422),{cause:d}),Ts(qi(r,c)))):(d!==Zr&&(o=Error(i(423),{cause:d}),Ts(qi(o,c))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,d=qi(d,c),p=vy(r.stateNode,d,p),Ft(r,p),Tn!==4&&(Tn=2)),!1;var v=Error(i(520),{cause:d});if(v=qi(v,c),dd===null?dd=[v]:dd.push(v),Tn!==4&&(Tn=2),o===null)return!0;d=qi(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=p&-p,c.lanes|=r,r=vy(c.stateNode,d,r),Ft(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rl===null||!rl.has(v))))return c.flags|=65536,p&=-p,c.lanes|=p,p=cE(p),uE(p,r,c,d),Ft(c,p),!1}c=c.return}while(c!==null);return!1}var hE=Error(i(461)),ci=!1;function bi(r,o,c,d){o.child=r===null?eE(o,null,c,d):_u(o,r.child,c,d)}function dE(r,o,c,d,p){c=c.render;var v=o.ref;if("ref"in d){var A={};for(var M in d)M!=="ref"&&(A[M]=d[M])}else A=d;return Xa(o),d=as(r,o,c,A,v,p),M=ti(),r!==null&&!ci?(Di(r,o,p),io(r,o,p)):(je&&M&&Ph(o),o.flags|=1,bi(r,o,d,p),o.child)}function fE(r,o,c,d,p){if(r===null){var v=c.type;return typeof v=="function"&&!Oh(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,mE(r,o,v,d,p)):(r=ou(c.type,null,d,o,o.mode,p),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Cy(r,p)){var A=v.memoizedProps;if(c=c.compare,c=c!==null?c:Ba,c(A,d)&&r.ref===o.ref)return io(r,o,p)}return o.flags|=1,r=Er(v,d),r.ref=o.ref,r.return=o,o.child=r}function mE(r,o,c,d,p){if(r!==null){var v=r.memoizedProps;if(Ba(v,d)&&r.ref===o.ref)if(ci=!1,o.pendingProps=d=v,Cy(r,p))(r.flags&131072)!==0&&(ci=!0);else return o.lanes=r.lanes,io(r,o,p)}return by(r,o,c,d,p)}function pE(r,o,c){var d=o.pendingProps,p=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,r!==null){for(p=o.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return gE(r,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&lu(o,v!==null?v.cachePool:null),v!==null?qe(o,v):he(),nE(o);else return o.lanes=o.childLanes=536870912,gE(r,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(lu(o,v.cachePool),qe(o,v),Jo(),o.memoizedState=null):(r!==null&&lu(o,null),he(),Jo());return bi(r,o,p,c),o.child}function gE(r,o,c,d){var p=$h();return p=p===null?null:{parent:wn._currentValue,pool:p},o.memoizedState={baseLanes:c,cachePool:p},r!==null&&lu(o,null),he(),nE(o),r!==null&&dc(r,o,d,!0),null}function ym(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function by(r,o,c,d,p){return Xa(o),c=as(r,o,c,d,void 0,p),d=ti(),r!==null&&!ci?(Di(r,o,p),io(r,o,p)):(je&&d&&Ph(o),o.flags|=1,bi(r,o,c,p),o.child)}function yE(r,o,c,d,p,v){return Xa(o),o.updateQueue=null,c=kn(o,d,c,p),eo(r),d=ti(),r!==null&&!ci?(Di(r,o,v),io(r,o,v)):(je&&d&&Ph(o),o.flags|=1,bi(r,o,c,v),o.child)}function _E(r,o,c,d,p){if(Xa(o),o.stateNode===null){var v=qo,A=c.contextType;typeof A=="object"&&A!==null&&(v=Zn(A)),v=new c(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=_y,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},J(o),A=c.contextType,v.context=typeof A=="object"&&A!==null?Zn(A):qo,v.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(yy(o,c,A,d),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&_y.enqueueReplaceState(v,v.state,null),Yt(o,d,v,p),ae(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var M=o.memoizedProps,G=yc(c,M);v.props=G;var st=v.context,mt=c.contextType;A=qo,typeof mt=="object"&&mt!==null&&(A=Zn(mt));var vt=c.getDerivedStateFromProps;mt=typeof vt=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,mt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||st!==A)&&sE(o,v,d,A),X=!1;var at=o.memoizedState;v.state=at,Yt(o,d,v,p),ae(),st=o.memoizedState,M||at!==st||X?(typeof vt=="function"&&(yy(o,c,vt,d),st=o.memoizedState),(G=X||iE(o,c,G,d,at,st,A))?(mt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=st),v.props=d,v.state=st,v.context=A,d=G):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,ut(r,o),A=o.memoizedProps,mt=yc(c,A),v.props=mt,vt=o.pendingProps,at=v.context,st=c.contextType,G=qo,typeof st=="object"&&st!==null&&(G=Zn(st)),M=c.getDerivedStateFromProps,(st=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==vt||at!==G)&&sE(o,v,d,G),X=!1,at=o.memoizedState,v.state=at,Yt(o,d,v,p),ae();var ot=o.memoizedState;A!==vt||at!==ot||X||r!==null&&r.dependencies!==null&&fc(r.dependencies)?(typeof M=="function"&&(yy(o,c,M,d),ot=o.memoizedState),(mt=X||iE(o,c,mt,d,at,ot,G)||r!==null&&r.dependencies!==null&&fc(r.dependencies))?(st||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ot,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ot,G)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&at===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&at===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ot),v.props=d,v.state=ot,v.context=G,d=mt):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&at===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&at===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,ym(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=_u(o,r.child,null,p),o.child=_u(o,null,c,p)):bi(r,o,c,p),o.memoizedState=v.state,r=o.child):r=io(r,o,p),r}function vE(r,o,c,d){return hc(),o.flags|=256,bi(r,o,c,d),o.child}var Ey={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xy(r){return{baseLanes:r,cachePool:nm()}}function wy(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=ir),r}function bE(r,o,c){var d=o.pendingProps,p=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(ni.current&2)!==0),A&&(p=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(je){if(p?Zo(o):Jo(),je){var M=ln,G;if(G=M){t:{for(G=M,M=tr;G.nodeType!==8;){if(!M){M=null;break t}if(G=Rr(G.nextSibling),G===null){M=null;break t}}M=G}M!==null?(o.memoizedState={dehydrated:M,treeContext:Ka!==null?{id:wr,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},G=Ki(18,null,null,0),G.stateNode=M,G.return=o,o.child=G,Hn=o,ln=null,G=!0):G=!1}G||Tr(o)}if(M=o.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return a_(M)?o.lanes=32:o.lanes=536870912,null;no(o)}return M=d.children,d=d.fallback,p?(Jo(),p=o.mode,M=_m({mode:"hidden",children:M},p),d=xr(d,p,c,null),M.return=o,d.return=o,M.sibling=d,o.child=M,p=o.child,p.memoizedState=xy(c),p.childLanes=wy(r,A,c),o.memoizedState=Ey,d):(Zo(o),Ty(o,M))}if(G=r.memoizedState,G!==null&&(M=G.dehydrated,M!==null)){if(v)o.flags&256?(Zo(o),o.flags&=-257,o=Sy(r,o,c)):o.memoizedState!==null?(Jo(),o.child=r.child,o.flags|=128,o=null):(Jo(),p=d.fallback,M=o.mode,d=_m({mode:"visible",children:d.children},M),p=xr(p,M,c,null),p.flags|=2,d.return=o,p.return=o,d.sibling=p,o.child=d,_u(o,r.child,null,c),d=o.child,d.memoizedState=xy(c),d.childLanes=wy(r,A,c),o.memoizedState=Ey,o=p);else if(Zo(o),a_(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var st=A.dgst;A=st,d=Error(i(419)),d.stack="",d.digest=A,Ts({value:d,source:null,stack:null}),o=Sy(r,o,c)}else if(ci||dc(r,o,c,!1),A=(c&r.childLanes)!==0,ci||A){if(A=cn,A!==null&&(d=c&-c,d=(d&42)!==0?1:Ur(d),d=(d&(A.suspendedLanes|c))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,Ri(r,d),Ns(A,r,d),hE;M.data==="$?"||Hy(),o=Sy(r,o,c)}else M.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=G.treeContext,ln=Rr(M.nextSibling),Hn=o,je=!0,Qr=null,tr=!1,r!==null&&(Ii[ns++]=wr,Ii[ns++]=vi,Ii[ns++]=Ka,wr=r.id,vi=r.overflow,Ka=o),o=Ty(o,d.children),o.flags|=4096);return o}return p?(Jo(),p=d.fallback,M=o.mode,G=r.child,st=G.sibling,d=Er(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,st!==null?p=Er(st,p):(p=xr(p,M,c,null),p.flags|=2),p.return=o,d.return=o,d.sibling=p,o.child=d,d=p,p=o.child,M=r.child.memoizedState,M===null?M=xy(c):(G=M.cachePool,G!==null?(st=wn._currentValue,G=G.parent!==st?{parent:st,pool:st}:G):G=nm(),M={baseLanes:M.baseLanes|c,cachePool:G}),p.memoizedState=M,p.childLanes=wy(r,A,c),o.memoizedState=Ey,d):(Zo(o),c=r.child,r=c.sibling,c=Er(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=c,o.memoizedState=null,c)}function Ty(r,o){return o=_m({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function _m(r,o){return r=Ki(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Sy(r,o,c){return _u(o,r.child,null,c),r=Ty(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function EE(r,o,c){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Uh(r.return,o,c)}function Ay(r,o,c,d,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=p)}function xE(r,o,c){var d=o.pendingProps,p=d.revealOrder,v=d.tail;if(bi(r,o,d.children,c),d=ni.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&EE(r,c,o);else if(r.tag===19)EE(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(ft(ni,d),p){case"forwards":for(c=o.child,p=null;c!==null;)r=c.alternate,r!==null&&mm(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),Ay(o,!1,p,c,v);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(r=p.alternate,r!==null&&mm(r)===null){o.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}Ay(o,!0,c,null,v);break;case"together":Ay(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function io(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),sl|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(dc(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=Er(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Er(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function Cy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&fc(r)))}function jN(r,o,c){switch(o.tag){case 3:xt(o,o.stateNode.containerInfo),Jr(o,wn,r.memoizedState.cache),hc();break;case 27:case 5:Tt(o);break;case 4:xt(o,o.stateNode.containerInfo);break;case 10:Jr(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Zo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?bE(r,o,c):(Zo(o),r=io(r,o,c),r!==null?r.sibling:null);Zo(o);break;case 19:var p=(r.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(dc(r,o,c,!1),d=(c&o.childLanes)!==0),p){if(d)return xE(r,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ft(ni,ni.current),d)break;return null;case 22:case 23:return o.lanes=0,pE(r,o,c);case 24:Jr(o,wn,r.memoizedState.cache)}return io(r,o,c)}function wE(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)ci=!0;else{if(!Cy(r,c)&&(o.flags&128)===0)return ci=!1,jN(r,o,c);ci=(r.flags&131072)!==0}else ci=!1,je&&(o.flags&1048576)!==0&&Qf(o,Ko,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,p=d._init;if(d=p(d._payload),o.type=d,typeof d=="function")Oh(d)?(r=yc(d,r),o.tag=1,o=_E(null,o,d,r,c)):(o.tag=0,o=by(null,o,d,r,c));else{if(d!=null){if(p=d.$$typeof,p===Q){o.tag=11,o=dE(null,o,d,r,c);break t}else if(p===U){o.tag=14,o=fE(null,o,d,r,c);break t}}throw o=kt(d)||d,Error(i(306,o,""))}}return o;case 0:return by(r,o,o.type,o.pendingProps,c);case 1:return d=o.type,p=yc(d,o.pendingProps),_E(r,o,d,p,c);case 3:t:{if(xt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;p=v.element,ut(r,o),Yt(o,d,null,c);var A=o.memoizedState;if(d=A.cache,Jr(o,wn,d),d!==v.cache&&Fh(o,[wn],c,!0),ae(),d=A.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=vE(r,o,d,c);break t}else if(d!==p){p=qi(Error(i(424)),o),Ts(p),o=vE(r,o,d,c);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ln=Rr(r.firstChild),Hn=o,je=!0,Qr=null,tr=!0,c=eE(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(hc(),d===p){o=io(r,o,c);break t}bi(r,o,d,c)}o=o.child}return o;case 26:return ym(r,o),r===null?(c=Cx(o.type,null,o.pendingProps,null))?o.memoizedState=c:je||(c=o.type,r=o.pendingProps,d=km(Dt.current).createElement(c),d[Sn]=o,d[En]=r,xi(d,c,r),_e(d),o.stateNode=d):o.memoizedState=Cx(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Tt(o),r===null&&je&&(d=o.stateNode=Tx(o.type,o.pendingProps,Dt.current),Hn=o,tr=!0,p=ln,ll(o.type)?(o_=p,ln=Rr(d.firstChild)):ln=p),bi(r,o,o.pendingProps.children,c),ym(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&je&&((p=d=ln)&&(d=uD(d,o.type,o.pendingProps,tr),d!==null?(o.stateNode=d,Hn=o,ln=Rr(d.firstChild),tr=!1,p=!0):p=!1),p||Tr(o)),Tt(o),p=o.type,v=o.pendingProps,A=r!==null?r.memoizedProps:null,d=v.children,i_(p,v)?d=null:A!==null&&i_(p,A)&&(o.flags|=32),o.memoizedState!==null&&(p=as(r,o,Ge,null,null,c),Ed._currentValue=p),ym(r,o),bi(r,o,d,c),o.child;case 6:return r===null&&je&&((r=c=ln)&&(c=hD(c,o.pendingProps,tr),c!==null?(o.stateNode=c,Hn=o,ln=null,r=!0):r=!1),r||Tr(o)),null;case 13:return bE(r,o,c);case 4:return xt(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=_u(o,null,d,c):bi(r,o,d,c),o.child;case 11:return dE(r,o,o.type,o.pendingProps,c);case 7:return bi(r,o,o.pendingProps,c),o.child;case 8:return bi(r,o,o.pendingProps.children,c),o.child;case 12:return bi(r,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Jr(o,o.type,d.value),bi(r,o,d.children,c),o.child;case 9:return p=o.type._context,d=o.pendingProps.children,Xa(o),p=Zn(p),d=d(p),o.flags|=1,bi(r,o,d,c),o.child;case 14:return fE(r,o,o.type,o.pendingProps,c);case 15:return mE(r,o,o.type,o.pendingProps,c);case 19:return xE(r,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},r===null?(c=_m(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Er(r.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return pE(r,o,c);case 24:return Xa(o),d=Zn(wn),r===null?(p=$h(),p===null&&(p=cn,v=mc(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=c),p=v),o.memoizedState={parent:d,cache:p},J(o),Jr(o,wn,p)):((r.lanes&c)!==0&&(ut(r,o),Yt(o,null,null,c),ae()),p=r.memoizedState,v=o.memoizedState,p.parent!==d?(p={parent:d,cache:d},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Jr(o,wn,d)):(d=v.cache,Jr(o,wn,d),d!==p.cache&&Fh(o,[wn],c,!0))),bi(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function so(r){r.flags|=4}function TE(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kx(o)){if(o=nr.current,o!==null&&((Me&4194048)===Me?ia!==null:(Me&62914560)!==Me&&(Me&536870912)===0||o!==ia))throw _=qh,pc;r.flags|=8192}}function vm(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Kl():536870912,r.lanes|=o,xu|=o)}function ad(r,o){if(!je)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function yn(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(o)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=c,o}function LN(r,o,c){var d=o.pendingProps;switch(jh(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return yn(o),null;case 3:return c=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ar(wn),pe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(uc(o)?so(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Wo())),yn(o),null;case 26:return c=o.memoizedState,r===null?(so(o),c!==null?(yn(o),TE(o,c)):(yn(o),o.flags&=-16777217)):c?c!==r.memoizedState?(so(o),yn(o),TE(o,c)):(yn(o),o.flags&=-16777217):(r.memoizedProps!==d&&so(o),yn(o),o.flags&=-16777217),null;case 27:lt(o),c=Dt.current;var p=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&so(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return yn(o),null}r=At.current,uc(o)?Lh(o):(r=Tx(p,d,c),o.stateNode=r,so(o))}return yn(o),null;case 5:if(lt(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&so(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return yn(o),null}if(r=At.current,uc(o))Lh(o);else{switch(p=km(Dt.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}r[Sn]=o,r[En]=d;t:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break t;for(;p.sibling===null;){if(p.return===null||p.return===o)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=r;t:switch(xi(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&so(o)}}return yn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&so(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=Dt.current,uc(o)){if(r=o.stateNode,c=o.memoizedProps,d=null,p=Hn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}r[Sn]=o,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||yx(r.nodeValue,c)),r||Tr(o)}else r=km(r).createTextNode(d),r[Sn]=o,o.stateNode=r}return yn(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=uc(o),d!==null&&d.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Sn]=o}else hc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),p=!1}else p=Wo(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(no(o),o):(no(o),null)}if(no(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=o.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),vm(o,o.updateQueue),yn(o),null;case 4:return pe(),r===null&&Zy(o.stateNode.containerInfo),yn(o),null;case 10:return Ar(o.type),yn(o),null;case 19:if(Et(ni),p=o.memoizedState,p===null)return yn(o),null;if(d=(o.flags&128)!==0,v=p.rendering,v===null)if(d)ad(p,!1);else{if(Tn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=mm(r),v!==null){for(o.flags|=128,ad(p,!1),r=v.updateQueue,o.updateQueue=r,vm(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)Xf(c,r),c=c.sibling;return ft(ni,ni.current&1|2),o.child}r=r.sibling}p.tail!==null&&St()>xm&&(o.flags|=128,d=!0,ad(p,!1),o.lanes=4194304)}else{if(!d)if(r=mm(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,vm(o,r),ad(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!je)return yn(o),null}else 2*St()-p.renderingStartTime>xm&&c!==536870912&&(o.flags|=128,d=!0,ad(p,!1),o.lanes=4194304);p.isBackwards?(v.sibling=o.child,o.child=v):(r=p.last,r!==null?r.sibling=v:o.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=St(),o.sibling=null,r=ni.current,ft(ni,d?r&1|2:r&1),o):(yn(o),null);case 22:case 23:return no(o),Ne(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),c=o.updateQueue,c!==null&&vm(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),r!==null&&Et(Ja),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ar(wn),yn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function VN(r,o){switch(jh(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ar(wn),pe(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return lt(o),null;case 13:if(no(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));hc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Et(ni),null;case 4:return pe(),null;case 10:return Ar(o.type),null;case 22:case 23:return no(o),Ne(),r!==null&&Et(Ja),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ar(wn),null;case 25:return null;default:return null}}function SE(r,o){switch(jh(o),o.tag){case 3:Ar(wn),pe();break;case 26:case 27:case 5:lt(o);break;case 4:pe();break;case 13:no(o);break;case 19:Et(ni);break;case 10:Ar(o.type);break;case 22:case 23:no(o),Ne(),r!==null&&Et(Ja);break;case 24:Ar(wn)}}function od(r,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&r)===r){d=void 0;var v=c.create,A=c.inst;d=v(),A.destroy=d}c=c.next}while(c!==p)}}catch(M){rn(o,o.return,M)}}function tl(r,o,c){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&r)===r){var A=d.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,p=o;var G=c,st=M;try{st()}catch(mt){rn(p,G,mt)}}}d=d.next}while(d!==v)}}catch(mt){rn(o,o.return,mt)}}function AE(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{te(o,c)}catch(d){rn(r,r.return,d)}}}function CE(r,o,c){c.props=yc(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){rn(r,o,d)}}function ld(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(p){rn(r,o,p)}}function sa(r,o){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){rn(r,o,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){rn(r,o,p)}else c.current=null}function RE(r){var o=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){rn(r,r.return,p)}}function Ry(r,o,c){try{var d=r.stateNode;rD(d,r.type,c,o),d[En]=o}catch(p){rn(r,r.return,p)}}function IE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ll(r.type)||r.tag===4}function Iy(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||IE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ll(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ny(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Dm));else if(d!==4&&(d===27&&ll(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(Ny(r,o,c),r=r.sibling;r!==null;)Ny(r,o,c),r=r.sibling}function bm(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(d!==4&&(d===27&&ll(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(bm(r,o,c),r=r.sibling;r!==null;)bm(r,o,c),r=r.sibling}function NE(r){var o=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);xi(o,d,c),o[Sn]=r,o[En]=c}catch(v){rn(r,r.return,v)}}var ro=!1,On=!1,Dy=!1,DE=typeof WeakSet=="function"?WeakSet:Set,ui=null;function UN(r,o){if(r=r.containerInfo,e_=Vm,r=wh(r),iu(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var A=0,M=-1,G=-1,st=0,mt=0,vt=r,at=null;e:for(;;){for(var ot;vt!==c||p!==0&&vt.nodeType!==3||(M=A+p),vt!==v||d!==0&&vt.nodeType!==3||(G=A+d),vt.nodeType===3&&(A+=vt.nodeValue.length),(ot=vt.firstChild)!==null;)at=vt,vt=ot;for(;;){if(vt===r)break e;if(at===c&&++st===p&&(M=A),at===v&&++mt===d&&(G=A),(ot=vt.nextSibling)!==null)break;vt=at,at=vt.parentNode}vt=ot}c=M===-1||G===-1?null:{start:M,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(n_={focusedElem:r,selectionRange:c},Vm=!1,ui=o;ui!==null;)if(o=ui,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,ui=r;else for(;ui!==null;){switch(o=ui,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,p=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var re=yc(c.type,p,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(re,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Zt){rn(c,c.return,Zt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)r_(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":r_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,ui=r;break}ui=o.return}}function kE(r,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:el(r,c),d&4&&od(5,c);break;case 1:if(el(r,c),d&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(A){rn(c,c.return,A)}else{var p=yc(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(p,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){rn(c,c.return,A)}}d&64&&AE(c),d&512&&ld(c,c.return);break;case 3:if(el(r,c),d&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{te(r,o)}catch(A){rn(c,c.return,A)}}break;case 27:o===null&&d&4&&NE(c);case 26:case 5:el(r,c),o===null&&d&4&&RE(c),d&512&&ld(c,c.return);break;case 12:el(r,c);break;case 13:el(r,c),d&4&&PE(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=WN.bind(null,c),dD(r,c))));break;case 22:if(d=c.memoizedState!==null||ro,!d){o=o!==null&&o.memoizedState!==null||On,p=ro;var v=On;ro=d,(On=o)&&!v?nl(r,c,(c.subtreeFlags&8772)!==0):el(r,c),ro=p,On=v}break;case 30:break;default:el(r,c)}}function OE(r){var o=r.alternate;o!==null&&(r.alternate=null,OE(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&zr(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mn=null,os=!1;function ao(r,o,c){for(c=c.child;c!==null;)ME(r,o,c),c=c.sibling}function ME(r,o,c){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Vt,c)}catch{}switch(c.tag){case 26:On||sa(c,o),ao(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:On||sa(c,o);var d=mn,p=os;ll(c.type)&&(mn=c.stateNode,os=!1),ao(r,o,c),yd(c.stateNode),mn=d,os=p;break;case 5:On||sa(c,o);case 6:if(d=mn,p=os,mn=null,ao(r,o,c),mn=d,os=p,mn!==null)if(os)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(c.stateNode)}catch(v){rn(c,o,v)}else try{mn.removeChild(c.stateNode)}catch(v){rn(c,o,v)}break;case 18:mn!==null&&(os?(r=mn,xx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Sd(r)):xx(mn,c.stateNode));break;case 4:d=mn,p=os,mn=c.stateNode.containerInfo,os=!0,ao(r,o,c),mn=d,os=p;break;case 0:case 11:case 14:case 15:On||tl(2,c,o),On||tl(4,c,o),ao(r,o,c);break;case 1:On||(sa(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&CE(c,o,d)),ao(r,o,c);break;case 21:ao(r,o,c);break;case 22:On=(d=On)||c.memoizedState!==null,ao(r,o,c),On=d;break;default:ao(r,o,c)}}function PE(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Sd(r)}catch(c){rn(o,o.return,c)}}function FN(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new DE),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new DE),o;default:throw Error(i(435,r.tag))}}function ky(r,o){var c=FN(r);o.forEach(function(d){var p=YN.bind(null,r,d);c.has(d)||(c.add(d),d.then(p,p))})}function As(r,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],v=r,A=o,M=A;t:for(;M!==null;){switch(M.tag){case 27:if(ll(M.type)){mn=M.stateNode,os=!1;break t}break;case 5:mn=M.stateNode,os=!1;break t;case 3:case 4:mn=M.stateNode.containerInfo,os=!0;break t}M=M.return}if(mn===null)throw Error(i(160));ME(v,A,p),mn=null,os=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)jE(o,r),o=o.sibling}var Cr=null;function jE(r,o){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:As(o,r),Cs(r),d&4&&(tl(3,r,r.return),od(3,r),tl(5,r,r.return));break;case 1:As(o,r),Cs(r),d&512&&(On||c===null||sa(c,c.return)),d&64&&ro&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Cr;if(As(o,r),Cs(r),d&512&&(On||c===null||sa(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,p=p.ownerDocument||p;e:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Us]||v[Sn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),xi(v,d,c),v[Sn]=r,_e(v),d=v;break t;case"link":var A=Nx("link","href",p).get(d+(c.href||""));if(A){for(var M=0;M<A.length;M++)if(v=A[M],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(M,1);break e}}v=p.createElement(d),xi(v,d,c),p.head.appendChild(v);break;case"meta":if(A=Nx("meta","content",p).get(d+(c.content||""))){for(M=0;M<A.length;M++)if(v=A[M],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(M,1);break e}}v=p.createElement(d),xi(v,d,c),p.head.appendChild(v);break;default:throw Error(i(468,d))}v[Sn]=r,_e(v),d=v}r.stateNode=d}else Dx(p,r.type,r.stateNode);else r.stateNode=Ix(p,d,r.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?Dx(p,r.type,r.stateNode):Ix(p,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Ry(r,r.memoizedProps,c.memoizedProps)}break;case 27:As(o,r),Cs(r),d&512&&(On||c===null||sa(c,c.return)),c!==null&&d&4&&Ry(r,r.memoizedProps,c.memoizedProps);break;case 5:if(As(o,r),Cs(r),d&512&&(On||c===null||sa(c,c.return)),r.flags&32){p=r.stateNode;try{Yn(p,"")}catch(ot){rn(r,r.return,ot)}}d&4&&r.stateNode!=null&&(p=r.memoizedProps,Ry(r,p,c!==null?c.memoizedProps:p)),d&1024&&(Dy=!0);break;case 6:if(As(o,r),Cs(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(ot){rn(r,r.return,ot)}}break;case 3:if(Pm=null,p=Cr,Cr=Om(o.containerInfo),As(o,r),Cr=p,Cs(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Sd(o.containerInfo)}catch(ot){rn(r,r.return,ot)}Dy&&(Dy=!1,LE(r));break;case 4:d=Cr,Cr=Om(r.stateNode.containerInfo),As(o,r),Cs(r),Cr=d;break;case 12:As(o,r),Cs(r);break;case 13:As(o,r),Cs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Vy=St()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,ky(r,d)));break;case 22:p=r.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,st=ro,mt=On;if(ro=st||p,On=mt||G,As(o,r),On=mt,ro=st,Cs(r),d&8192)t:for(o=r.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(c===null||G||ro||On||_c(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(v=G.stateNode,p)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=G.stateNode;var vt=G.memoizedProps.style,at=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;M.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(ot){rn(G,G.return,ot)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=p?"":G.memoizedProps}catch(ot){rn(G,G.return,ot)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,ky(r,c))));break;case 19:As(o,r),Cs(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,ky(r,d)));break;case 30:break;case 21:break;default:As(o,r),Cs(r)}}function Cs(r){var o=r.flags;if(o&2){try{for(var c,d=r.return;d!==null;){if(IE(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var p=c.stateNode,v=Iy(r);bm(r,v,p);break;case 5:var A=c.stateNode;c.flags&32&&(Yn(A,""),c.flags&=-33);var M=Iy(r);bm(r,M,A);break;case 3:case 4:var G=c.stateNode.containerInfo,st=Iy(r);Ny(r,st,G);break;default:throw Error(i(161))}}catch(mt){rn(r,r.return,mt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function LE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;LE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function el(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kE(r,o.alternate,o),o=o.sibling}function _c(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:tl(4,o,o.return),_c(o);break;case 1:sa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&CE(o,o.return,c),_c(o);break;case 27:yd(o.stateNode);case 26:case 5:sa(o,o.return),_c(o);break;case 22:o.memoizedState===null&&_c(o);break;case 30:_c(o);break;default:_c(o)}r=r.sibling}}function nl(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,p=r,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:nl(p,v,c),od(4,v);break;case 1:if(nl(p,v,c),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(st){rn(d,d.return,st)}if(d=v,p=d.updateQueue,p!==null){var M=d.stateNode;try{var G=p.shared.hiddenCallbacks;if(G!==null)for(p.shared.hiddenCallbacks=null,p=0;p<G.length;p++)oe(G[p],M)}catch(st){rn(d,d.return,st)}}c&&A&64&&AE(v),ld(v,v.return);break;case 27:NE(v);case 26:case 5:nl(p,v,c),c&&d===null&&A&4&&RE(v),ld(v,v.return);break;case 12:nl(p,v,c);break;case 13:nl(p,v,c),c&&A&4&&PE(p,v);break;case 22:v.memoizedState===null&&nl(p,v,c),ld(v,v.return);break;case 30:break;default:nl(p,v,c)}o=o.sibling}}function Oy(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Xo(c))}function My(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xo(r))}function ra(r,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)VE(r,o,c,d),o=o.sibling}function VE(r,o,c,d){var p=o.flags;switch(o.tag){case 0:case 11:case 15:ra(r,o,c,d),p&2048&&od(9,o);break;case 1:ra(r,o,c,d);break;case 3:ra(r,o,c,d),p&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xo(r)));break;case 12:if(p&2048){ra(r,o,c,d),r=o.stateNode;try{var v=o.memoizedProps,A=v.id,M=v.onPostCommit;typeof M=="function"&&M(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){rn(o,o.return,G)}}else ra(r,o,c,d);break;case 13:ra(r,o,c,d);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?ra(r,o,c,d):cd(r,o):v._visibility&2?ra(r,o,c,d):(v._visibility|=2,vu(r,o,c,d,(o.subtreeFlags&10256)!==0)),p&2048&&Oy(A,o);break;case 24:ra(r,o,c,d),p&2048&&My(o.alternate,o);break;default:ra(r,o,c,d)}}function vu(r,o,c,d,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,A=o,M=c,G=d,st=A.flags;switch(A.tag){case 0:case 11:case 15:vu(v,A,M,G,p),od(8,A);break;case 23:break;case 22:var mt=A.stateNode;A.memoizedState!==null?mt._visibility&2?vu(v,A,M,G,p):cd(v,A):(mt._visibility|=2,vu(v,A,M,G,p)),p&&st&2048&&Oy(A.alternate,A);break;case 24:vu(v,A,M,G,p),p&&st&2048&&My(A.alternate,A);break;default:vu(v,A,M,G,p)}o=o.sibling}}function cd(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,d=o,p=d.flags;switch(d.tag){case 22:cd(c,d),p&2048&&Oy(d.alternate,d);break;case 24:cd(c,d),p&2048&&My(d.alternate,d);break;default:cd(c,d)}o=o.sibling}}var ud=8192;function bu(r){if(r.subtreeFlags&ud)for(r=r.child;r!==null;)UE(r),r=r.sibling}function UE(r){switch(r.tag){case 26:bu(r),r.flags&ud&&r.memoizedState!==null&&SD(Cr,r.memoizedState,r.memoizedProps);break;case 5:bu(r);break;case 3:case 4:var o=Cr;Cr=Om(r.stateNode.containerInfo),bu(r),Cr=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ud,ud=16777216,bu(r),ud=o):bu(r));break;default:bu(r)}}function FE(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function hd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];ui=d,BE(d,r)}FE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zE(r),r=r.sibling}function zE(r){switch(r.tag){case 0:case 11:case 15:hd(r),r.flags&2048&&tl(9,r,r.return);break;case 3:hd(r);break;case 12:hd(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Em(r)):hd(r);break;default:hd(r)}}function Em(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];ui=d,BE(d,r)}FE(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:tl(8,o,o.return),Em(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Em(o));break;default:Em(o)}r=r.sibling}}function BE(r,o){for(;ui!==null;){var c=ui;switch(c.tag){case 0:case 11:case 15:tl(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Xo(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,ui=d;else t:for(c=r;ui!==null;){d=ui;var p=d.sibling,v=d.return;if(OE(d),d===c){ui=null;break t}if(p!==null){p.return=v,ui=p;break t}ui=v}}}var zN={getCacheForType:function(r){var o=Zn(wn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},BN=typeof WeakMap=="function"?WeakMap:Map,Ke=0,cn=null,ve=null,Me=0,We=0,Rs=null,il=!1,Eu=!1,Py=!1,oo=0,Tn=0,sl=0,vc=0,jy=0,ir=0,xu=0,dd=null,ls=null,Ly=!1,Vy=0,xm=1/0,wm=null,rl=null,Ei=0,al=null,wu=null,Tu=0,Uy=0,Fy=null,HE=null,fd=0,zy=null;function Is(){if((Ke&2)!==0&&Me!==0)return Me&-Me;if(K.T!==null){var r=is;return r!==0?r:Wy()}return Fr()}function $E(){ir===0&&(ir=(Me&536870912)===0||je?Gl():536870912);var r=nr.current;return r!==null&&(r.flags|=32),ir}function Ns(r,o,c){(r===cn&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(Su(r,0),ol(r,Me,ir,!1)),Xi(r,c),((Ke&2)===0||r!==cn)&&(r===cn&&((Ke&2)===0&&(vc|=c),Tn===4&&ol(r,Me,ir,!1)),aa(r))}function qE(r,o,c){if((Ke&6)!==0)throw Error(i(327));var d=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Ca(r,o),p=d?qN(r,o):$y(r,o,!0),v=d;do{if(p===0){Eu&&!d&&ol(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!HN(c)){p=$y(r,o,!1),v=!1;continue}if(p===2){if(v=o,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var M=r;p=dd;var G=M.current.memoizedState.isDehydrated;if(G&&(Su(M,A).flags|=256),A=$y(M,A,!1),A!==2){if(Py&&!G){M.errorRecoveryDisabledLanes|=v,vc|=v,p=4;break t}v=ls,ls=p,v!==null&&(ls===null?ls=v:ls.push.apply(ls,v))}p=A}if(v=!1,p!==2)continue}}if(p===1){Su(r,0),ol(r,o,0,!0);break}t:{switch(d=r,v=p,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ol(d,o,ir,!il);break t;case 2:ls=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(p=Vy+300-St(),10<p)){if(ol(d,o,ir,!il),fr(d,0,!0)!==0)break t;d.timeoutHandle=bx(GE.bind(null,d,c,ls,wm,Ly,o,ir,vc,xu,il,v,2,-0,0),p);break t}GE(d,c,ls,wm,Ly,o,ir,vc,xu,il,v,0,-0,0)}}break}while(!0);aa(r)}function GE(r,o,c,d,p,v,A,M,G,st,mt,vt,at,ot){if(r.timeoutHandle=-1,vt=o.subtreeFlags,(vt&8192||(vt&16785408)===16785408)&&(bd={stylesheets:null,count:0,unsuspend:TD},UE(o),vt=AD(),vt!==null)){r.cancelPendingCommit=vt(JE.bind(null,r,o,v,c,d,p,A,M,G,mt,1,at,ot)),ol(r,v,A,!st);return}JE(r,o,v,c,d,p,A,M,G)}function HN(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],v=p.getSnapshot;p=p.value;try{if(!Ci(v(),p))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ol(r,o,c,d){o&=~jy,o&=~vc,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var p=o;0<p;){var v=31-Ve(p),A=1<<v;d[v]=-1,p&=~A}c!==0&&ps(r,c,o)}function Tm(){return(Ke&6)===0?(md(0),!1):!0}function By(){if(ve!==null){if(We===0)var r=ve.return;else r=ve,Sr=Ya=null,er(r),yu=null,sd=0,r=ve;for(;r!==null;)SE(r.alternate,r),r=r.return;ve=null}}function Su(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,oD(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),By(),cn=r,ve=c=Er(r.current,null),Me=o,We=0,Rs=null,il=!1,Eu=Ca(r,o),Py=!1,xu=ir=jy=vc=sl=Tn=0,ls=dd=null,Ly=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var p=31-Ve(d),v=1<<p;o|=r[p],d&=~v}return oo=o,su(),c}function KE(r,o){Pt=null,K.H=hm,o===Qo||o===to?(o=w(),We=3):o===pc?(o=w(),We=4):We=o===hE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Rs=o,ve===null&&(Tn=1,gm(r,qi(o,r.current)))}function WE(){var r=K.H;return K.H=hm,r===null?hm:r}function YE(){var r=K.A;return K.A=zN,r}function Hy(){Tn=4,il||(Me&4194048)!==Me&&nr.current!==null||(Eu=!0),(sl&134217727)===0&&(vc&134217727)===0||cn===null||ol(cn,Me,ir,!1)}function $y(r,o,c){var d=Ke;Ke|=2;var p=WE(),v=YE();(cn!==r||Me!==o)&&(wm=null,Su(r,o)),o=!1;var A=Tn;t:do try{if(We!==0&&ve!==null){var M=ve,G=Rs;switch(We){case 8:By(),A=6;break t;case 3:case 2:case 9:case 6:nr.current===null&&(o=!0);var st=We;if(We=0,Rs=null,Au(r,M,G,st),c&&Eu){A=0;break t}break;default:st=We,We=0,Rs=null,Au(r,M,G,st)}}$N(),A=Tn;break}catch(mt){KE(r,mt)}while(!0);return o&&r.shellSuspendCounter++,Sr=Ya=null,Ke=d,K.H=p,K.A=v,ve===null&&(cn=null,Me=0,su()),A}function $N(){for(;ve!==null;)XE(ve)}function qN(r,o){var c=Ke;Ke|=2;var d=WE(),p=YE();cn!==r||Me!==o?(wm=null,xm=St()+500,Su(r,o)):Eu=Ca(r,o);t:do try{if(We!==0&&ve!==null){o=ve;var v=Rs;e:switch(We){case 1:We=0,Rs=null,Au(r,o,v,1);break;case 2:case 9:if(im(v)){We=0,Rs=null,QE(o);break}o=function(){We!==2&&We!==9||cn!==r||(We=7),aa(r)},v.then(o,o);break t;case 3:We=7;break t;case 4:We=5;break t;case 7:im(v)?(We=0,Rs=null,QE(o)):(We=0,Rs=null,Au(r,o,v,7));break;case 5:var A=null;switch(ve.tag){case 26:A=ve.memoizedState;case 5:case 27:var M=ve;if(!A||kx(A)){We=0,Rs=null;var G=M.sibling;if(G!==null)ve=G;else{var st=M.return;st!==null?(ve=st,Sm(st)):ve=null}break e}}We=0,Rs=null,Au(r,o,v,5);break;case 6:We=0,Rs=null,Au(r,o,v,6);break;case 8:By(),Tn=6;break t;default:throw Error(i(462))}}GN();break}catch(mt){KE(r,mt)}while(!0);return Sr=Ya=null,K.H=d,K.A=p,Ke=c,ve!==null?0:(cn=null,Me=0,su(),Tn)}function GN(){for(;ve!==null&&!rt();)XE(ve)}function XE(r){var o=wE(r.alternate,r,oo);r.memoizedProps=r.pendingProps,o===null?Sm(r):ve=o}function QE(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=yE(c,o,o.pendingProps,o.type,void 0,Me);break;case 11:o=yE(c,o,o.pendingProps,o.type.render,o.ref,Me);break;case 5:er(o);default:SE(c,o),o=ve=Xf(o,oo),o=wE(c,o,oo)}r.memoizedProps=r.pendingProps,o===null?Sm(r):ve=o}function Au(r,o,c,d){Sr=Ya=null,er(o),yu=null,sd=0;var p=o.return;try{if(PN(r,p,o,c,Me)){Tn=1,gm(r,qi(c,r.current)),ve=null;return}}catch(v){if(p!==null)throw ve=p,v;Tn=1,gm(r,qi(c,r.current)),ve=null;return}o.flags&32768?(je||d===1?r=!0:Eu||(Me&536870912)!==0?r=!1:(il=r=!0,(d===2||d===9||d===3||d===6)&&(d=nr.current,d!==null&&d.tag===13&&(d.flags|=16384))),ZE(o,r)):Sm(o)}function Sm(r){var o=r;do{if((o.flags&32768)!==0){ZE(o,il);return}r=o.return;var c=LN(o.alternate,o,oo);if(c!==null){ve=c;return}if(o=o.sibling,o!==null){ve=o;return}ve=o=r}while(o!==null);Tn===0&&(Tn=5)}function ZE(r,o){do{var c=VN(r.alternate,r);if(c!==null){c.flags&=32767,ve=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){ve=r;return}ve=r=c}while(r!==null);Tn=6,ve=null}function JE(r,o,c,d,p,v,A,M,G){r.cancelPendingCommit=null;do Am();while(Ei!==0);if((Ke&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Nh,No(r,c,v,A,M,G),r===cn&&(ve=cn=null,Me=0),wu=o,al=r,Tu=c,Uy=v,Fy=p,HE=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,XN(ze,function(){return sx(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,p=nt.p,nt.p=2,A=Ke,Ke|=4;try{UN(r,o,c)}finally{Ke=A,nt.p=p,K.T=d}}Ei=1,tx(),ex(),nx()}}function tx(){if(Ei===1){Ei=0;var r=al,o=wu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var d=nt.p;nt.p=2;var p=Ke;Ke|=4;try{jE(o,r);var v=n_,A=wh(r.containerInfo),M=v.focusedElem,G=v.selectionRange;if(A!==M&&M&&M.ownerDocument&&$f(M.ownerDocument.documentElement,M)){if(G!==null&&iu(M)){var st=G.start,mt=G.end;if(mt===void 0&&(mt=st),"selectionStart"in M)M.selectionStart=st,M.selectionEnd=Math.min(mt,M.value.length);else{var vt=M.ownerDocument||document,at=vt&&vt.defaultView||window;if(at.getSelection){var ot=at.getSelection(),re=M.textContent.length,Zt=Math.min(G.start,re),tn=G.end===void 0?Zt:Math.min(G.end,re);!ot.extend&&Zt>tn&&(A=tn,tn=Zt,Zt=A);var tt=Hf(M,Zt),Y=Hf(M,tn);if(tt&&Y&&(ot.rangeCount!==1||ot.anchorNode!==tt.node||ot.anchorOffset!==tt.offset||ot.focusNode!==Y.node||ot.focusOffset!==Y.offset)){var it=vt.createRange();it.setStart(tt.node,tt.offset),ot.removeAllRanges(),Zt>tn?(ot.addRange(it),ot.extend(Y.node,Y.offset)):(it.setEnd(Y.node,Y.offset),ot.addRange(it))}}}}for(vt=[],ot=M;ot=ot.parentNode;)ot.nodeType===1&&vt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<vt.length;M++){var yt=vt[M];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}Vm=!!e_,n_=e_=null}finally{Ke=p,nt.p=d,K.T=c}}r.current=o,Ei=2}}function ex(){if(Ei===2){Ei=0;var r=al,o=wu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var d=nt.p;nt.p=2;var p=Ke;Ke|=4;try{kE(r,o.alternate,o)}finally{Ke=p,nt.p=d,K.T=c}}Ei=3}}function nx(){if(Ei===4||Ei===3){Ei=0,Ct();var r=al,o=wu,c=Tu,d=HE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ei=5:(Ei=0,wu=al=null,ix(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(rl=null),Do(c),o=o.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Vt,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=K.T,p=nt.p,nt.p=2,K.T=null;try{for(var v=r.onRecoverableError,A=0;A<d.length;A++){var M=d[A];v(M.value,{componentStack:M.stack})}}finally{K.T=o,nt.p=p}}(Tu&3)!==0&&Am(),aa(r),p=r.pendingLanes,(c&4194090)!==0&&(p&42)!==0?r===zy?fd++:(fd=0,zy=r):fd=0,md(0)}}function ix(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Xo(o)))}function Am(r){return tx(),ex(),nx(),sx()}function sx(){if(Ei!==5)return!1;var r=al,o=Uy;Uy=0;var c=Do(Tu),d=K.T,p=nt.p;try{nt.p=32>c?32:c,K.T=null,c=Fy,Fy=null;var v=al,A=Tu;if(Ei=0,wu=al=null,Tu=0,(Ke&6)!==0)throw Error(i(331));var M=Ke;if(Ke|=4,zE(v.current),VE(v,v.current,A,c),Ke=M,md(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Vt,v)}catch{}return!0}finally{nt.p=p,K.T=d,ix(r,o)}}function rx(r,o,c){o=qi(c,o),o=vy(r.stateNode,o,2),r=It(r,o,2),r!==null&&(Xi(r,2),aa(r))}function rn(r,o,c){if(r.tag===3)rx(r,r,c);else for(;o!==null;){if(o.tag===3){rx(o,r,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(rl===null||!rl.has(d))){r=qi(c,r),c=cE(2),d=It(o,c,2),d!==null&&(uE(c,d,o,r),Xi(d,2),aa(d));break}}o=o.return}}function qy(r,o,c){var d=r.pingCache;if(d===null){d=r.pingCache=new BN;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(c)||(Py=!0,p.add(c),r=KN.bind(null,r,o,c),o.then(r,r))}function KN(r,o,c){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,cn===r&&(Me&c)===c&&(Tn===4||Tn===3&&(Me&62914560)===Me&&300>St()-Vy?(Ke&2)===0&&Su(r,0):jy|=c,xu===Me&&(xu=0)),aa(r)}function ax(r,o){o===0&&(o=Kl()),r=Ri(r,o),r!==null&&(Xi(r,o),aa(r))}function WN(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),ax(r,c)}function YN(r,o){var c=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),ax(r,c)}function XN(r,o){return Ut(r,o)}var Cm=null,Cu=null,Gy=!1,Rm=!1,Ky=!1,bc=0;function aa(r){r!==Cu&&r.next===null&&(Cu===null?Cm=Cu=r:Cu=Cu.next=r),Rm=!0,Gy||(Gy=!0,ZN())}function md(r,o){if(!Ky&&Rm){Ky=!0;do for(var c=!1,d=Cm;d!==null;){if(r!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var A=d.suspendedLanes,M=d.pingedLanes;v=(1<<31-Ve(42|r)+1)-1,v&=p&~(A&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,ux(d,v))}else v=Me,v=fr(d,d===cn?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Ca(d,v)||(c=!0,ux(d,v));d=d.next}while(c);Ky=!1}}function QN(){ox()}function ox(){Rm=Gy=!1;var r=0;bc!==0&&(aD()&&(r=bc),bc=0);for(var o=St(),c=null,d=Cm;d!==null;){var p=d.next,v=lx(d,o);v===0?(d.next=null,c===null?Cm=p:c.next=p,p===null&&(Cu=c)):(c=d,(r!==0||(v&3)!==0)&&(Rm=!0)),d=p}md(r)}function lx(r,o){for(var c=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-Ve(v),M=1<<A,G=p[A];G===-1?((M&c)===0||(M&d)!==0)&&(p[A]=ql(M,o)):G<=o&&(r.expiredLanes|=M),v&=~M}if(o=cn,c=Me,c=fr(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===o&&(We===2||We===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&me(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ca(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(d!==null&&me(d),Do(c)){case 2:case 8:c=Ie;break;case 32:c=ze;break;case 268435456:c=Ps;break;default:c=ze}return d=cx.bind(null,r),c=Ut(c,d),r.callbackPriority=o,r.callbackNode=c,o}return d!==null&&d!==null&&me(d),r.callbackPriority=2,r.callbackNode=null,2}function cx(r,o){if(Ei!==0&&Ei!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Am()&&r.callbackNode!==c)return null;var d=Me;return d=fr(r,r===cn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(qE(r,d,o),lx(r,St()),r.callbackNode!=null&&r.callbackNode===c?cx.bind(null,r):null)}function ux(r,o){if(Am())return null;qE(r,o,!0)}function ZN(){lD(function(){(Ke&6)!==0?Ut(ge,QN):ox()})}function Wy(){return bc===0&&(bc=Gl()),bc}function hx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jo(""+r)}function dx(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function JN(r,o,c,d,p){if(o==="submit"&&c&&c.stateNode===p){var v=hx((p[En]||null).action),A=d.submitter;A&&(o=(o=A[En]||null)?hx(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var M=new Hr("action","action",null,d,p);r.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(bc!==0){var G=A?dx(p,A):new FormData(p);my(c,{pending:!0,data:G,method:p.method,action:v},null,G)}}else typeof v=="function"&&(M.preventDefault(),G=A?dx(p,A):new FormData(p),my(c,{pending:!0,data:G,method:p.method,action:v},v,G))},currentTarget:p}]})}}for(var Yy=0;Yy<Ih.length;Yy++){var Xy=Ih[Yy],tD=Xy.toLowerCase(),eD=Xy[0].toUpperCase()+Xy.slice(1);ws(tD,"on"+eD)}ws(Yr,"onAnimationEnd"),ws(Js,"onAnimationIteration"),ws(Ah,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(ly,"onTransitionRun"),ws(Kf,"onTransitionStart"),ws(Wf,"onTransitionCancel"),ws(Ch,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function fx(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],p=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var A=d.length-1;0<=A;A--){var M=d[A],G=M.instance,st=M.currentTarget;if(M=M.listener,G!==v&&p.isPropagationStopped())break t;v=M,p.currentTarget=st;try{v(p)}catch(mt){pm(mt)}p.currentTarget=null,v=G}else for(A=0;A<d.length;A++){if(M=d[A],G=M.instance,st=M.currentTarget,M=M.listener,G!==v&&p.isPropagationStopped())break t;v=M,p.currentTarget=st;try{v(p)}catch(mt){pm(mt)}p.currentTarget=null,v=G}}}}function be(r,o){var c=o[Yl];c===void 0&&(c=o[Yl]=new Set);var d=r+"__bubble";c.has(d)||(mx(o,r,2,!1),c.add(d))}function Qy(r,o,c){var d=0;o&&(d|=4),mx(c,r,d,o)}var Im="_reactListening"+Math.random().toString(36).slice(2);function Zy(r){if(!r[Im]){r[Im]=!0,Wn.forEach(function(c){c!=="selectionchange"&&(nD.has(c)||Qy(c,!1,r),Qy(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Im]||(o[Im]=!0,Qy("selectionchange",!1,o))}}function mx(r,o,c,d){switch(Vx(o)){case 2:var p=ID;break;case 8:p=ND;break;default:p=d_}c=p.bind(null,o,c,r),p=void 0,!Xn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(o,c,{capture:!0,passive:p}):r.addEventListener(o,c,!0):p!==void 0?r.addEventListener(o,c,{passive:p}):r.addEventListener(o,c,!1)}function Jy(r,o,c,d,p){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var M=d.stateNode.containerInfo;if(M===p)break;if(A===4)for(A=d.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;M!==null;){if(A=gs(M),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){d=v=A;continue t}M=M.parentNode}}d=d.return}Zl(function(){var st=v,mt=yi(c),vt=[];t:{var at=Rh.get(r);if(at!==void 0){var ot=Hr,re=r;switch(r){case"keypress":if(Xs(c)===0)break t;case"keydown":case"keyup":ot=za;break;case"focusin":re="focus",ot=ja;break;case"focusout":re="blur",ot=ja;break;case"beforeblur":case"afterblur":ot=ja;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Zc;break;case Yr:case Js:case Ah:ot=La;break;case Ch:ot=Jc;break;case"scroll":case"scrollend":ot=tc;break;case"wheel":ot=Fo;break;case"copy":case"cut":case"paste":ot=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=bs;break;case"toggle":case"beforetoggle":ot=ac}var Zt=(o&4)!==0,tn=!Zt&&(r==="scroll"||r==="scrollend"),tt=Zt?at!==null?at+"Capture":null:at;Zt=[];for(var Y=st,it;Y!==null;){var yt=Y;if(it=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||it===null||tt===null||(yt=Br(Y,tt),yt!=null&&Zt.push(gd(Y,yt,it))),tn)break;Y=Y.return}0<Zt.length&&(at=new ot(at,re,null,c,mt),vt.push({event:at,listeners:Zt}))}}if((o&7)===0){t:{if(at=r==="mouseover"||r==="pointerover",ot=r==="mouseout"||r==="pointerout",at&&c!==li&&(re=c.relatedTarget||c.fromElement)&&(gs(re)||re[Qi]))break t;if((ot||at)&&(at=mt.window===mt?mt:(at=mt.ownerDocument)?at.defaultView||at.parentWindow:window,ot?(re=c.relatedTarget||c.toElement,ot=st,re=re?gs(re):null,re!==null&&(tn=a(re),Zt=re.tag,re!==tn||Zt!==5&&Zt!==27&&Zt!==6)&&(re=null)):(ot=null,re=st),ot!==re)){if(Zt=Qn,yt="onMouseLeave",tt="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Zt=bs,yt="onPointerLeave",tt="onPointerEnter",Y="pointer"),tn=ot==null?at:zs(ot),it=re==null?at:zs(re),at=new Zt(yt,Y+"leave",ot,c,mt),at.target=tn,at.relatedTarget=it,yt=null,gs(mt)===st&&(Zt=new Zt(tt,Y+"enter",re,c,mt),Zt.target=it,Zt.relatedTarget=tn,yt=Zt),tn=yt,ot&&re)e:{for(Zt=ot,tt=re,Y=0,it=Zt;it;it=Ru(it))Y++;for(it=0,yt=tt;yt;yt=Ru(yt))it++;for(;0<Y-it;)Zt=Ru(Zt),Y--;for(;0<it-Y;)tt=Ru(tt),it--;for(;Y--;){if(Zt===tt||tt!==null&&Zt===tt.alternate)break e;Zt=Ru(Zt),tt=Ru(tt)}Zt=null}else Zt=null;ot!==null&&px(vt,at,ot,Zt,!1),re!==null&&tn!==null&&px(vt,tn,re,Zt,!0)}}t:{if(at=st?zs(st):window,ot=at.nodeName&&at.nodeName.toLowerCase(),ot==="select"||ot==="input"&&at.type==="file")var Ht=Lf;else if(Rn(at))if(bh)Ht=Bf;else{Ht=Ff;var ye=ay}else ot=at.nodeName,!ot||ot.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?st&&ka(st.elementType)&&(Ht=Lf):Ht=zf;if(Ht&&(Ht=Ht(r,st))){In(vt,Ht,c,mt);break t}ye&&ye(r,at,st),r==="focusout"&&st&&at.type==="number"&&st.memoizedProps.value!=null&&qs(at,"number",at.value)}switch(ye=st?zs(st):window,r){case"focusin":(Rn(ye)||ye.contentEditable==="true")&&(Ho=ye,Th=st,lc=null);break;case"focusout":lc=Th=Ho=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,qf(vt,c,mt);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":qf(vt,c,mt)}var Kt;if(Zs)t:{switch(r){case"compositionstart":var Jt="onCompositionStart";break t;case"compositionend":Jt="onCompositionEnd";break t;case"compositionupdate":Jt="onCompositionUpdate";break t}Jt=void 0}else we?ct(r,c)&&(Jt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Jt="onCompositionStart");Jt&&(S&&c.locale!=="ko"&&(we||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&we&&(Kt=Pa()):(_s=mt,Ys="value"in _s?_s.value:_s.textContent,we=!0)),ye=Nm(st,Jt),0<ye.length&&(Jt=new ec(Jt,r,null,c,mt),vt.push({event:Jt,listeners:ye}),Kt?Jt.data=Kt:(Kt=Nt(c),Kt!==null&&(Jt.data=Kt)))),(Kt=x?Cn(r,c):Te(r,c))&&(Jt=Nm(st,"onBeforeInput"),0<Jt.length&&(ye=new ec("onBeforeInput","beforeinput",null,c,mt),vt.push({event:ye,listeners:Jt}),ye.data=Kt)),JN(vt,r,st,c,mt)}fx(vt,o)})}function gd(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Nm(r,o){for(var c=o+"Capture",d=[];r!==null;){var p=r,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Br(r,c),p!=null&&d.unshift(gd(r,p,v)),p=Br(r,o),p!=null&&d.push(gd(r,p,v))),r.tag===3)return d;r=r.return}return[]}function Ru(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function px(r,o,c,d,p){for(var v=o._reactName,A=[];c!==null&&c!==d;){var M=c,G=M.alternate,st=M.stateNode;if(M=M.tag,G!==null&&G===d)break;M!==5&&M!==26&&M!==27||st===null||(G=st,p?(st=Br(c,v),st!=null&&A.unshift(gd(c,st,G))):p||(st=Br(c,v),st!=null&&A.push(gd(c,st,G)))),c=c.return}A.length!==0&&r.push({event:o,listeners:A})}var iD=/\r\n?/g,sD=/\u0000|\uFFFD/g;function gx(r){return(typeof r=="string"?r:""+r).replace(iD,`
`).replace(sD,"")}function yx(r,o){return o=gx(o),gx(r)===o}function Dm(){}function Je(r,o,c,d,p,v){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Yn(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Yn(r,""+d);break;case"className":pi(r,"class",d);break;case"tabIndex":pi(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(r,c,d);break;case"style":Ks(r,d,v);break;case"data":if(o!=="object"){pi(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=jo(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&Je(r,o,"name",p.name,p,null),Je(r,o,"formEncType",p.formEncType,p,null),Je(r,o,"formMethod",p.formMethod,p,null),Je(r,o,"formTarget",p.formTarget,p,null)):(Je(r,o,"encType",p.encType,p,null),Je(r,o,"method",p.method,p,null),Je(r,o,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=jo(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=Dm);break;case"onScroll":d!=null&&be("scroll",r);break;case"onScrollEnd":d!=null&&be("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=jo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":be("beforetoggle",r),be("toggle",r),Hs(r,"popover",d);break;case"xlinkActuate":Un(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Un(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Un(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Un(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Un(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Un(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Un(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Un(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Un(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hs(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Yc.get(c)||c,Hs(r,c,d))}}function t_(r,o,c,d,p,v){switch(c){case"style":Ks(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?Yn(r,d):(typeof d=="number"||typeof d=="bigint")&&Yn(r,""+d);break;case"onScroll":d!=null&&be("scroll",r);break;case"onScrollEnd":d!=null&&be("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Dm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vn.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),o=c.slice(2,p?c.length-7:void 0),v=r[En]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,d,p);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):Hs(r,c,d)}}}function xi(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",r),be("load",r);var d=!1,p=!1,v;for(v in c)if(c.hasOwnProperty(v)){var A=c[v];if(A!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Je(r,o,v,A,c,null)}}p&&Je(r,o,"srcSet",c.srcSet,c,null),d&&Je(r,o,"src",c.src,c,null);return;case"input":be("invalid",r);var M=v=A=p=null,G=null,st=null;for(d in c)if(c.hasOwnProperty(d)){var mt=c[d];if(mt!=null)switch(d){case"name":p=mt;break;case"type":A=mt;break;case"checked":G=mt;break;case"defaultChecked":st=mt;break;case"value":v=mt;break;case"defaultValue":M=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(i(137,o));break;default:Je(r,o,d,mt,c,null)}}_r(r,v,M,G,st,A,p,!1),Da(r);return;case"select":be("invalid",r),d=A=v=null;for(p in c)if(c.hasOwnProperty(p)&&(M=c[p],M!=null))switch(p){case"value":v=M;break;case"defaultValue":A=M;break;case"multiple":d=M;default:Je(r,o,p,M,c,null)}o=v,c=A,r.multiple=!!d,o!=null?Fn(r,!!d,o,!1):c!=null&&Fn(r,!!d,c,!0);return;case"textarea":be("invalid",r),v=p=d=null;for(A in c)if(c.hasOwnProperty(A)&&(M=c[A],M!=null))switch(A){case"value":d=M;break;case"defaultValue":p=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Je(r,o,A,M,c,null)}Gs(r,d,p,v),Da(r);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(d=c[G],d!=null))switch(G){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Je(r,o,G,d,c,null)}return;case"dialog":be("beforetoggle",r),be("toggle",r),be("cancel",r),be("close",r);break;case"iframe":case"object":be("load",r);break;case"video":case"audio":for(d=0;d<pd.length;d++)be(pd[d],r);break;case"image":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"embed":case"source":case"link":be("error",r),be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in c)if(c.hasOwnProperty(st)&&(d=c[st],d!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Je(r,o,st,d,c,null)}return;default:if(ka(o)){for(mt in c)c.hasOwnProperty(mt)&&(d=c[mt],d!==void 0&&t_(r,o,mt,d,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(d=c[M],d!=null&&Je(r,o,M,d,c,null))}function rD(r,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,A=null,M=null,G=null,st=null,mt=null;for(ot in c){var vt=c[ot];if(c.hasOwnProperty(ot)&&vt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":G=vt;default:d.hasOwnProperty(ot)||Je(r,o,ot,null,d,vt)}}for(var at in d){var ot=d[at];if(vt=c[at],d.hasOwnProperty(at)&&(ot!=null||vt!=null))switch(at){case"type":v=ot;break;case"name":p=ot;break;case"checked":st=ot;break;case"defaultChecked":mt=ot;break;case"value":A=ot;break;case"defaultValue":M=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,o));break;default:ot!==vt&&Je(r,o,at,ot,d,vt)}}on(r,A,M,G,st,mt,v,p);return;case"select":ot=A=M=at=null;for(v in c)if(G=c[v],c.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ot=G;default:d.hasOwnProperty(v)||Je(r,o,v,null,d,G)}for(p in d)if(v=d[p],G=c[p],d.hasOwnProperty(p)&&(v!=null||G!=null))switch(p){case"value":at=v;break;case"defaultValue":M=v;break;case"multiple":A=v;default:v!==G&&Je(r,o,p,v,d,G)}o=M,c=A,d=ot,at!=null?Fn(r,!!c,at,!1):!!d!=!!c&&(o!=null?Fn(r,!!c,o,!0):Fn(r,!!c,c?[]:"",!1));return;case"textarea":ot=at=null;for(M in c)if(p=c[M],c.hasOwnProperty(M)&&p!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Je(r,o,M,null,d,p)}for(A in d)if(p=d[A],v=c[A],d.hasOwnProperty(A)&&(p!=null||v!=null))switch(A){case"value":at=p;break;case"defaultValue":ot=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==v&&Je(r,o,A,p,d,v)}xe(r,at,ot);return;case"option":for(var re in c)if(at=c[re],c.hasOwnProperty(re)&&at!=null&&!d.hasOwnProperty(re))switch(re){case"selected":r.selected=!1;break;default:Je(r,o,re,null,d,at)}for(G in d)if(at=d[G],ot=c[G],d.hasOwnProperty(G)&&at!==ot&&(at!=null||ot!=null))switch(G){case"selected":r.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:Je(r,o,G,at,d,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in c)at=c[Zt],c.hasOwnProperty(Zt)&&at!=null&&!d.hasOwnProperty(Zt)&&Je(r,o,Zt,null,d,at);for(st in d)if(at=d[st],ot=c[st],d.hasOwnProperty(st)&&at!==ot&&(at!=null||ot!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,o));break;default:Je(r,o,st,at,d,ot)}return;default:if(ka(o)){for(var tn in c)at=c[tn],c.hasOwnProperty(tn)&&at!==void 0&&!d.hasOwnProperty(tn)&&t_(r,o,tn,void 0,d,at);for(mt in d)at=d[mt],ot=c[mt],!d.hasOwnProperty(mt)||at===ot||at===void 0&&ot===void 0||t_(r,o,mt,at,d,ot);return}}for(var tt in c)at=c[tt],c.hasOwnProperty(tt)&&at!=null&&!d.hasOwnProperty(tt)&&Je(r,o,tt,null,d,at);for(vt in d)at=d[vt],ot=c[vt],!d.hasOwnProperty(vt)||at===ot||at==null&&ot==null||Je(r,o,vt,at,d,ot)}var e_=null,n_=null;function km(r){return r.nodeType===9?r:r.ownerDocument}function _x(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vx(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function i_(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var s_=null;function aD(){var r=window.event;return r&&r.type==="popstate"?r===s_?!1:(s_=r,!0):(s_=null,!1)}var bx=typeof setTimeout=="function"?setTimeout:void 0,oD=typeof clearTimeout=="function"?clearTimeout:void 0,Ex=typeof Promise=="function"?Promise:void 0,lD=typeof queueMicrotask=="function"?queueMicrotask:typeof Ex<"u"?function(r){return Ex.resolve(null).then(r).catch(cD)}:bx;function cD(r){setTimeout(function(){throw r})}function ll(r){return r==="head"}function xx(r,o){var c=o,d=0,p=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var A=r.ownerDocument;if(c&1&&yd(A.documentElement),c&2&&yd(A.body),c&4)for(c=A.head,yd(c),A=c.firstChild;A;){var M=A.nextSibling,G=A.nodeName;A[Us]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=M}}if(p===0){r.removeChild(v),Sd(o);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);Sd(o)}function r_(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":r_(c),zr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function uD(r,o,c,d){for(;r.nodeType===1;){var p=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Us])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Rr(r.nextSibling),r===null)break}return null}function hD(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Rr(r.nextSibling),r===null))return null;return r}function a_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function dD(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Rr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var o_=null;function wx(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function Tx(r,o,c){switch(o=km(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function yd(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);zr(r)}var sr=new Map,Sx=new Set;function Om(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var lo=nt.d;nt.d={f:fD,r:mD,D:pD,C:gD,L:yD,m:_D,X:bD,S:vD,M:ED};function fD(){var r=lo.f(),o=Tm();return r||o}function mD(r){var o=Fs(r);o!==null&&o.tag===5&&o.type==="form"?q0(o):lo.r(r)}var Iu=typeof document>"u"?null:document;function Ax(r,o,c){var d=Iu;if(d&&typeof o=="string"&&o){var p=Qe(o);p='link[rel="'+r+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),Sx.has(p)||(Sx.add(p),r={rel:r,crossOrigin:c,href:o},d.querySelector(p)===null&&(o=d.createElement("link"),xi(o,"link",r),_e(o),d.head.appendChild(o)))}}function pD(r){lo.D(r),Ax("dns-prefetch",r,null)}function gD(r,o){lo.C(r,o),Ax("preconnect",r,o)}function yD(r,o,c){lo.L(r,o,c);var d=Iu;if(d&&r&&o){var p='link[rel="preload"][as="'+Qe(o)+'"]';o==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+Qe(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+Qe(c.imageSizes)+'"]')):p+='[href="'+Qe(r)+'"]';var v=p;switch(o){case"style":v=Nu(r);break;case"script":v=Du(r)}sr.has(v)||(r=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),sr.set(v,r),d.querySelector(p)!==null||o==="style"&&d.querySelector(_d(v))||o==="script"&&d.querySelector(vd(v))||(o=d.createElement("link"),xi(o,"link",r),_e(o),d.head.appendChild(o)))}}function _D(r,o){lo.m(r,o);var c=Iu;if(c&&r){var d=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Qe(d)+'"][href="'+Qe(r)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Du(r)}if(!sr.has(v)&&(r=g({rel:"modulepreload",href:r},o),sr.set(v,r),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(vd(v)))return}d=c.createElement("link"),xi(d,"link",r),_e(d),c.head.appendChild(d)}}}function vD(r,o,c){lo.S(r,o,c);var d=Iu;if(d&&r){var p=xn(d).hoistableStyles,v=Nu(r);o=o||"default";var A=p.get(v);if(!A){var M={loading:0,preload:null};if(A=d.querySelector(_d(v)))M.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},c),(c=sr.get(v))&&l_(r,c);var G=A=d.createElement("link");_e(G),xi(G,"link",r),G._p=new Promise(function(st,mt){G.onload=st,G.onerror=mt}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Mm(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:M},p.set(v,A)}}}function bD(r,o){lo.X(r,o);var c=Iu;if(c&&r){var d=xn(c).hoistableScripts,p=Du(r),v=d.get(p);v||(v=c.querySelector(vd(p)),v||(r=g({src:r,async:!0},o),(o=sr.get(p))&&c_(r,o),v=c.createElement("script"),_e(v),xi(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function ED(r,o){lo.M(r,o);var c=Iu;if(c&&r){var d=xn(c).hoistableScripts,p=Du(r),v=d.get(p);v||(v=c.querySelector(vd(p)),v||(r=g({src:r,async:!0,type:"module"},o),(o=sr.get(p))&&c_(r,o),v=c.createElement("script"),_e(v),xi(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function Cx(r,o,c,d){var p=(p=Dt.current)?Om(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Nu(c.href),c=xn(p).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Nu(c.href);var v=xn(p).hoistableStyles,A=v.get(r);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=p.querySelector(_d(r)))&&!v._p&&(A.instance=v,A.state.loading=5),sr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},sr.set(r,c),v||xD(p,r,c,A.state))),o&&d===null)throw Error(i(528,""));return A}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Du(c),c=xn(p).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Nu(r){return'href="'+Qe(r)+'"'}function _d(r){return'link[rel="stylesheet"]['+r+"]"}function Rx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function xD(r,o,c,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),xi(o,"link",c),_e(o),r.head.appendChild(o))}function Du(r){return'[src="'+Qe(r)+'"]'}function vd(r){return"script[async]"+r}function Ix(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+Qe(c.href)+'"]');if(d)return o.instance=d,_e(d),d;var p=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),_e(d),xi(d,"style",p),Mm(d,c.precedence,r),o.instance=d;case"stylesheet":p=Nu(c.href);var v=r.querySelector(_d(p));if(v)return o.state.loading|=4,o.instance=v,_e(v),v;d=Rx(c),(p=sr.get(p))&&l_(d,p),v=(r.ownerDocument||r).createElement("link"),_e(v);var A=v;return A._p=new Promise(function(M,G){A.onload=M,A.onerror=G}),xi(v,"link",d),o.state.loading|=4,Mm(v,c.precedence,r),o.instance=v;case"script":return v=Du(c.src),(p=r.querySelector(vd(v)))?(o.instance=p,_e(p),p):(d=c,(p=sr.get(v))&&(d=g({},c),c_(d,p)),r=r.ownerDocument||r,p=r.createElement("script"),_e(p),xi(p,"link",d),r.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Mm(d,c.precedence,r));return o.instance}function Mm(r,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,A=0;A<d.length;A++){var M=d[A];if(M.dataset.precedence===o)v=M;else if(v!==p)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function l_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function c_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Pm=null;function Nx(r,o,c){if(Pm===null){var d=new Map,p=Pm=new Map;p.set(c,d)}else p=Pm,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),p=0;p<c.length;p++){var v=c[p];if(!(v[Us]||v[Sn]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=r+A;var M=d.get(A);M?M.push(v):d.set(A,[v])}}return d}function Dx(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function wD(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var bd=null;function TD(){}function SD(r,o,c){if(bd===null)throw Error(i(475));var d=bd;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Nu(c.href),v=r.querySelector(_d(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=jm.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,_e(v);return}v=r.ownerDocument||r,c=Rx(c),(p=sr.get(p))&&l_(c,p),v=v.createElement("link"),_e(v);var A=v;A._p=new Promise(function(M,G){A.onload=M,A.onerror=G}),xi(v,"link",c),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=jm.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function AD(){if(bd===null)throw Error(i(475));var r=bd;return r.stylesheets&&r.count===0&&u_(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&u_(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function jm(){if(this.count--,this.count===0){if(this.stylesheets)u_(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Lm=null;function u_(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Lm=new Map,o.forEach(CD,r),Lm=null,jm.call(r))}function CD(r,o){if(!(o.state.loading&4)){var c=Lm.get(r);if(c)var d=c.get(null);else{c=new Map,Lm.set(r,c);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var A=p[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),d=A)}d&&c.set(null,d)}p=o.instance,A=p.getAttribute("data-precedence"),v=c.get(A)||d,v===d&&c.set(null,p),c.set(A,p),this.count++,d=jm.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),o.state.loading|=4}}var Ed={$$typeof:q,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function RD(r,o,c,d,p,v,A,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.hiddenUpdates=Ls(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Ox(r,o,c,d,p,v,A,M,G,st,mt,vt){return r=new RD(r,o,c,A,M,G,st,vt),o=1,v===!0&&(o|=24),v=Ki(3,null,null,o),r.current=v,v.stateNode=r,o=mc(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:o},J(v),r}function Mx(r){return r?(r=qo,r):qo}function Px(r,o,c,d,p,v){p=Mx(p),d.context===null?d.context=p:d.pendingContext=p,d=gt(o),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=It(r,d,o),c!==null&&(Ns(c,r,o),jt(c,r,o))}function jx(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function h_(r,o){jx(r,o),(r=r.alternate)&&jx(r,o)}function Lx(r){if(r.tag===13){var o=Ri(r,67108864);o!==null&&Ns(o,r,67108864),h_(r,67108864)}}var Vm=!0;function ID(r,o,c,d){var p=K.T;K.T=null;var v=nt.p;try{nt.p=2,d_(r,o,c,d)}finally{nt.p=v,K.T=p}}function ND(r,o,c,d){var p=K.T;K.T=null;var v=nt.p;try{nt.p=8,d_(r,o,c,d)}finally{nt.p=v,K.T=p}}function d_(r,o,c,d){if(Vm){var p=f_(d);if(p===null)Jy(r,o,d,Um,c),Ux(r,d);else if(kD(p,r,o,c,d))d.stopPropagation();else if(Ux(r,d),o&4&&-1<DD.indexOf(r)){for(;p!==null;){var v=Fs(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=nn(v.pendingLanes);if(A!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var G=1<<31-Ve(A);M.entanglements[1]|=G,A&=~G}aa(v),(Ke&6)===0&&(xm=St()+500,md(0))}}break;case 13:M=Ri(v,2),M!==null&&Ns(M,v,2),Tm(),h_(v,2)}if(v=f_(d),v===null&&Jy(r,o,d,Um,c),v===p)break;p=v}p!==null&&d.stopPropagation()}else Jy(r,o,d,null,c)}}function f_(r){return r=yi(r),m_(r)}var Um=null;function m_(r){if(Um=null,r=gs(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Um=r,null}function Vx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case ge:return 2;case Ie:return 8;case ze:case mi:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var p_=!1,cl=null,ul=null,hl=null,xd=new Map,wd=new Map,dl=[],DD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ux(r,o){switch(r){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":xd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(o.pointerId)}}function Td(r,o,c,d,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},o!==null&&(o=Fs(o),o!==null&&Lx(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),r)}function kD(r,o,c,d,p){switch(o){case"focusin":return cl=Td(cl,r,o,c,d,p),!0;case"dragenter":return ul=Td(ul,r,o,c,d,p),!0;case"mouseover":return hl=Td(hl,r,o,c,d,p),!0;case"pointerover":var v=p.pointerId;return xd.set(v,Td(xd.get(v)||null,r,o,c,d,p)),!0;case"gotpointercapture":return v=p.pointerId,wd.set(v,Td(wd.get(v)||null,r,o,c,d,p)),!0}return!1}function Fx(r){var o=gs(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,mr(r.priority,function(){if(c.tag===13){var d=Is();d=Ur(d);var p=Ri(c,d);p!==null&&Ns(p,c,d),h_(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fm(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=f_(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);li=d,c.target.dispatchEvent(d),li=null}else return o=Fs(c),o!==null&&Lx(o),r.blockedOn=c,!1;o.shift()}return!0}function zx(r,o,c){Fm(r)&&c.delete(o)}function OD(){p_=!1,cl!==null&&Fm(cl)&&(cl=null),ul!==null&&Fm(ul)&&(ul=null),hl!==null&&Fm(hl)&&(hl=null),xd.forEach(zx),wd.forEach(zx)}function zm(r,o){r.blockedOn===o&&(r.blockedOn=null,p_||(p_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OD)))}var Bm=null;function Bx(r){Bm!==r&&(Bm=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bm===r&&(Bm=null);for(var o=0;o<r.length;o+=3){var c=r[o],d=r[o+1],p=r[o+2];if(typeof d!="function"){if(m_(d||c)===null)continue;break}var v=Fs(c);v!==null&&(r.splice(o,3),o-=3,my(v,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Sd(r){function o(G){return zm(G,r)}cl!==null&&zm(cl,r),ul!==null&&zm(ul,r),hl!==null&&zm(hl,r),xd.forEach(o),wd.forEach(o);for(var c=0;c<dl.length;c++){var d=dl[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<dl.length&&(c=dl[0],c.blockedOn===null);)Fx(c),c.blockedOn===null&&dl.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],v=c[d+1],A=p[En]||null;if(typeof v=="function")A||Bx(c);else if(A){var M=null;if(v&&v.hasAttribute("formAction")){if(p=v,A=v[En]||null)M=A.formAction;else if(m_(p)!==null)continue}else M=A.action;typeof M=="function"?c[d+1]=M:(c.splice(d,3),d-=3),Bx(c)}}}function g_(r){this._internalRoot=r}Hm.prototype.render=g_.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Is();Px(c,d,r,o,null,null)},Hm.prototype.unmount=g_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Px(r.current,2,null,r,null,null),Tm(),o[Qi]=null}};function Hm(r){this._internalRoot=r}Hm.prototype.unstable_scheduleHydration=function(r){if(r){var o=Fr();r={blockedOn:null,target:r,priority:o};for(var c=0;c<dl.length&&o!==0&&o<dl[c].priority;c++);dl.splice(c,0,r),c===0&&Fx(r)}};var Hx=t.version;if(Hx!=="19.1.1")throw Error(i(527,Hx,"19.1.1"));nt.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var MD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Vt=$m.inject(MD),$t=$m}catch{}}return Cd.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,d="",p=rE,v=aE,A=oE,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks)),o=Ox(r,1,!1,null,null,c,d,p,v,A,M,null),r[Qi]=o.current,Zy(r),new g_(o)},Cd.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var d=!1,p="",v=rE,A=aE,M=oE,G=null,st=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(st=c.formState)),o=Ox(r,1,!0,o,c??null,d,p,v,A,M,G,st),o.context=Mx(null),c=o.current,d=Is(),d=Ur(d),p=gt(d),p.callback=null,It(c,p,d),c=d,o.current.lanes=c,Xi(o,c),aa(o),r[Qi]=o.current,Zy(r),new Hm(o)},Cd.version="19.1.1",Cd}var Jx;function HD(){if(Jx)return v_.exports;Jx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),v_.exports=BD(),v_.exports}var $D=HD();const qD=xf($D);var gp={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var GD=gp.exports,tw;function KD(){return tw||(tw=1,function(n,t){(function(e,i){n.exports=i()})(GD,function(){const e=new Map,i={set(N,_,w){e.has(N)||e.set(N,new Map);const j=e.get(N);j.has(_)||j.size===0?j.set(_,w):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(j.keys())[0]}.`)},get:(N,_)=>e.has(N)&&e.get(N).get(_)||null,remove(N,_){if(!e.has(N))return;const w=e.get(N);w.delete(_),w.size===0&&e.delete(N)}},s="transitionend",a=N=>(N&&window.CSS&&window.CSS.escape&&(N=N.replace(/#([^\s"#']+)/g,(_,w)=>`#${CSS.escape(w)}`)),N),l=N=>{N.dispatchEvent(new Event(s))},u=N=>!(!N||typeof N!="object")&&(N.jquery!==void 0&&(N=N[0]),N.nodeType!==void 0),h=N=>u(N)?N.jquery?N[0]:N:typeof N=="string"&&N.length>0?document.querySelector(a(N)):null,f=N=>{if(!u(N)||N.getClientRects().length===0)return!1;const _=getComputedStyle(N).getPropertyValue("visibility")==="visible",w=N.closest("details:not([open])");if(!w)return _;if(w!==N){const j=N.closest("summary");if(j&&j.parentNode!==w||j===null)return!1}return _},g=N=>!N||N.nodeType!==Node.ELEMENT_NODE||!!N.classList.contains("disabled")||(N.disabled!==void 0?N.disabled:N.hasAttribute("disabled")&&N.getAttribute("disabled")!=="false"),b=N=>{if(!document.documentElement.attachShadow)return null;if(typeof N.getRootNode=="function"){const _=N.getRootNode();return _ instanceof ShadowRoot?_:null}return N instanceof ShadowRoot?N:N.parentNode?b(N.parentNode):null},E=()=>{},T=N=>{N.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],R=()=>document.documentElement.dir==="rtl",V=N=>{var _;_=()=>{const w=C();if(w){const j=N.NAME,X=w.fn[j];w.fn[j]=N.jQueryInterface,w.fn[j].Constructor=N,w.fn[j].noConflict=()=>(w.fn[j]=X,N.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const w of k)w()}),k.push(_)):_()},$=(N,_=[],w=N)=>typeof N=="function"?N.call(..._):w,q=(N,_,w=!0)=>{if(!w)return void $(N);const j=(ut=>{if(!ut)return 0;let{transitionDuration:gt,transitionDelay:It}=window.getComputedStyle(ut);const jt=Number.parseFloat(gt),Ft=Number.parseFloat(It);return jt||Ft?(gt=gt.split(",")[0],It=It.split(",")[0],1e3*(Number.parseFloat(gt)+Number.parseFloat(It))):0})(_)+5;let X=!1;const J=({target:ut})=>{ut===_&&(X=!0,_.removeEventListener(s,J),$(N))};_.addEventListener(s,J),setTimeout(()=>{X||l(_)},j)},Q=(N,_,w,j)=>{const X=N.length;let J=N.indexOf(_);return J===-1?!w&&j?N[X-1]:N[0]:(J+=w?1:-1,j&&(J=(J+X)%X),N[Math.max(0,Math.min(J,X-1))])},W=/[^.]*(?=\..*)\.|.*/,Z=/\..*/,U=/::\d+$/,I={};let O=1;const F={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function B(N,_){return _&&`${_}::${O++}`||N.uidEvent||O++}function z(N){const _=B(N);return N.uidEvent=_,I[_]=I[_]||{},I[_]}function kt(N,_,w=null){return Object.values(N).find(j=>j.callable===_&&j.delegationSelector===w)}function pt(N,_,w){const j=typeof _=="string",X=j?w:_||w;let J=Ot(N);return H.has(J)||(J=N),[j,X,J]}function K(N,_,w,j,X){if(typeof _!="string"||!N)return;let[J,ut,gt]=pt(_,w,j);_ in F&&(ut=(oe=>function(te){if(!te.relatedTarget||te.relatedTarget!==te.delegateTarget&&!te.delegateTarget.contains(te.relatedTarget))return oe.call(this,te)})(ut));const It=z(N),jt=It[gt]||(It[gt]={}),Ft=kt(jt,ut,J?w:null);if(Ft)return void(Ft.oneOff=Ft.oneOff&&X);const Mt=B(ut,_.replace(W,"")),ae=J?function(Yt,oe,te){return function Qt(Le){const qe=Yt.querySelectorAll(oe);for(let{target:he}=Le;he&&he!==this;he=he.parentNode)for(const Ne of qe)if(Ne===he)return ht(Le,{delegateTarget:he}),Qt.oneOff&&P.off(Yt,Le.type,oe,te),te.apply(he,[Le])}}(N,w,ut):function(Yt,oe){return function te(Qt){return ht(Qt,{delegateTarget:Yt}),te.oneOff&&P.off(Yt,Qt.type,oe),oe.apply(Yt,[Qt])}}(N,ut);ae.delegationSelector=J?w:null,ae.callable=ut,ae.oneOff=X,ae.uidEvent=Mt,jt[Mt]=ae,N.addEventListener(gt,ae,J)}function nt(N,_,w,j,X){const J=kt(_[w],j,X);J&&(N.removeEventListener(w,J,!!X),delete _[w][J.uidEvent])}function _t(N,_,w,j){const X=_[w]||{};for(const[J,ut]of Object.entries(X))J.includes(j)&&nt(N,_,w,ut.callable,ut.delegationSelector)}function Ot(N){return N=N.replace(Z,""),F[N]||N}const P={on(N,_,w,j){K(N,_,w,j,!1)},one(N,_,w,j){K(N,_,w,j,!0)},off(N,_,w,j){if(typeof _!="string"||!N)return;const[X,J,ut]=pt(_,w,j),gt=ut!==_,It=z(N),jt=It[ut]||{},Ft=_.startsWith(".");if(J===void 0){if(Ft)for(const Mt of Object.keys(It))_t(N,It,Mt,_.slice(1));for(const[Mt,ae]of Object.entries(jt)){const Yt=Mt.replace(U,"");gt&&!_.includes(Yt)||nt(N,It,ut,ae.callable,ae.delegationSelector)}}else{if(!Object.keys(jt).length)return;nt(N,It,ut,J,X?w:null)}},trigger(N,_,w){if(typeof _!="string"||!N)return null;const j=C();let X=null,J=!0,ut=!0,gt=!1;_!==Ot(_)&&j&&(X=j.Event(_,w),j(N).trigger(X),J=!X.isPropagationStopped(),ut=!X.isImmediatePropagationStopped(),gt=X.isDefaultPrevented());const It=ht(new Event(_,{bubbles:J,cancelable:!0}),w);return gt&&It.preventDefault(),ut&&N.dispatchEvent(It),It.defaultPrevented&&X&&X.preventDefault(),It}};function ht(N,_={}){for(const[w,j]of Object.entries(_))try{N[w]=j}catch{Object.defineProperty(N,w,{configurable:!0,get:()=>j})}return N}function Et(N){if(N==="true")return!0;if(N==="false")return!1;if(N===Number(N).toString())return Number(N);if(N===""||N==="null")return null;if(typeof N!="string")return N;try{return JSON.parse(decodeURIComponent(N))}catch{return N}}function ft(N){return N.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const At={setDataAttribute(N,_,w){N.setAttribute(`data-bs-${ft(_)}`,w)},removeDataAttribute(N,_){N.removeAttribute(`data-bs-${ft(_)}`)},getDataAttributes(N){if(!N)return{};const _={},w=Object.keys(N.dataset).filter(j=>j.startsWith("bs")&&!j.startsWith("bsConfig"));for(const j of w){let X=j.replace(/^bs/,"");X=X.charAt(0).toLowerCase()+X.slice(1),_[X]=Et(N.dataset[j])}return _},getDataAttribute:(N,_)=>Et(N.getAttribute(`data-bs-${ft(_)}`))};class Lt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,w){const j=u(w)?At.getDataAttribute(w,"config"):{};return{...this.constructor.Default,...typeof j=="object"?j:{},...u(w)?At.getDataAttributes(w):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,w=this.constructor.DefaultType){for(const[X,J]of Object.entries(w)){const ut=_[X],gt=u(ut)?"element":(j=ut)==null?`${j}`:Object.prototype.toString.call(j).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(J).test(gt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${X}" provided type "${gt}" but expected type "${J}".`)}var j}}class Dt extends Lt{constructor(_,w){super(),(_=h(_))&&(this._element=_,this._config=this._getConfig(w),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,w,j=!0){q(_,w,j)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return i.get(h(_),this.DATA_KEY)}static getOrCreateInstance(_,w={}){return this.getInstance(_)||new this(_,typeof w=="object"?w:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const Bt=N=>{let _=N.getAttribute("data-bs-target");if(!_||_==="#"){let w=N.getAttribute("href");if(!w||!w.includes("#")&&!w.startsWith("."))return null;w.includes("#")&&!w.startsWith("#")&&(w=`#${w.split("#")[1]}`),_=w&&w!=="#"?w.trim():null}return _?_.split(",").map(w=>a(w)).join(","):null},xt={find:(N,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,N)),findOne:(N,_=document.documentElement)=>Element.prototype.querySelector.call(_,N),children:(N,_)=>[].concat(...N.children).filter(w=>w.matches(_)),parents(N,_){const w=[];let j=N.parentNode.closest(_);for(;j;)w.push(j),j=j.parentNode.closest(_);return w},prev(N,_){let w=N.previousElementSibling;for(;w;){if(w.matches(_))return[w];w=w.previousElementSibling}return[]},next(N,_){let w=N.nextElementSibling;for(;w;){if(w.matches(_))return[w];w=w.nextElementSibling}return[]},focusableChildren(N){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(w=>`${w}:not([tabindex^="-"])`).join(",");return this.find(_,N).filter(w=>!g(w)&&f(w))},getSelectorFromElement(N){const _=Bt(N);return _&&xt.findOne(_)?_:null},getElementFromSelector(N){const _=Bt(N);return _?xt.findOne(_):null},getMultipleElementsFromSelector(N){const _=Bt(N);return _?xt.find(_):[]}},pe=(N,_="hide")=>{const w=`click.dismiss${N.EVENT_KEY}`,j=N.NAME;P.on(document,w,`[data-bs-dismiss="${j}"]`,function(X){if(["A","AREA"].includes(this.tagName)&&X.preventDefault(),g(this))return;const J=xt.getElementFromSelector(this)||this.closest(`.${j}`);N.getOrCreateInstance(J)[_]()})},Tt=".bs.alert",lt=`close${Tt}`,Rt=`closed${Tt}`;class Ut extends Dt{static get NAME(){return"alert"}close(){if(P.trigger(this._element,lt).defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),P.trigger(this._element,Rt),this.dispose()}static jQueryInterface(_){return this.each(function(){const w=Ut.getOrCreateInstance(this);if(typeof _=="string"){if(w[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);w[_](this)}})}}pe(Ut,"close"),V(Ut);const me='[data-bs-toggle="button"]';class rt extends Dt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const w=rt.getOrCreateInstance(this);_==="toggle"&&w[_]()})}}P.on(document,"click.bs.button.data-api",me,N=>{N.preventDefault();const _=N.target.closest(me);rt.getOrCreateInstance(_).toggle()}),V(rt);const Ct=".bs.swipe",St=`touchstart${Ct}`,Wt=`touchmove${Ct}`,ge=`touchend${Ct}`,Ie=`pointerdown${Ct}`,ze=`pointerup${Ct}`,mi={endCallback:null,leftCallback:null,rightCallback:null},Ps={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class zi extends Lt{constructor(_,w){super(),this._element=_,_&&zi.isSupported()&&(this._config=this._getConfig(w),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return mi}static get DefaultType(){return Ps}static get NAME(){return"swipe"}dispose(){P.off(this._element,Ct)}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const w=_/this._deltaX;this._deltaX=0,w&&$(w>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,Ie,_=>this._start(_)),P.on(this._element,ze,_=>this._end(_)),this._element.classList.add("pointer-event")):(P.on(this._element,St,_=>this._start(_)),P.on(this._element,Wt,_=>this._move(_)),P.on(this._element,ge,_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType==="pen"||_.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const dt=".bs.carousel",Vt=".data-api",$t="ArrowLeft",De="ArrowRight",Ve="next",Kn="prev",bn="left",fn="right",js=`slide${dt}`,Yi=`slid${dt}`,nn=`keydown${dt}`,fr=`mouseenter${dt}`,Ca=`mouseleave${dt}`,ql=`dragstart${dt}`,Gl=`load${dt}${Vt}`,Kl=`click${dt}${Vt}`,Ls="carousel",Xi="active",No=".active",ps=".carousel-item",Wl=No+ps,Ur={[$t]:fn,[De]:bn},Do={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Fr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mr extends Dt{constructor(_,w){super(_,w),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=xt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ls&&this.cycle()}static get Default(){return Do}static get DefaultType(){return Fr}static get NAME(){return"carousel"}next(){this._slide(Ve)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Kn)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,Yi,()=>this.cycle()):this.cycle())}to(_){const w=this._getItems();if(_>w.length-1||_<0)return;if(this._isSliding)return void P.one(this._element,Yi,()=>this.to(_));const j=this._getItemIndex(this._getActive());if(j===_)return;const X=_>j?Ve:Kn;this._slide(X,w[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&P.on(this._element,nn,_=>this._keydown(_)),this._config.pause==="hover"&&(P.on(this._element,fr,()=>this.pause()),P.on(this._element,Ca,()=>this._maybeEnableCycle())),this._config.touch&&zi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const w of xt.find(".carousel-item img",this._element))P.on(w,ql,j=>j.preventDefault());const _={leftCallback:()=>this._slide(this._directionToOrder(bn)),rightCallback:()=>this._slide(this._directionToOrder(fn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new zi(this._element,_)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const w=Ur[_.key];w&&(_.preventDefault(),this._slide(this._directionToOrder(w)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const w=xt.findOne(No,this._indicatorsElement);w.classList.remove(Xi),w.removeAttribute("aria-current");const j=xt.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);j&&(j.classList.add(Xi),j.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const w=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=w||this._config.defaultInterval}_slide(_,w=null){if(this._isSliding)return;const j=this._getActive(),X=_===Ve,J=w||Q(this._getItems(),j,X,this._config.wrap);if(J===j)return;const ut=this._getItemIndex(J),gt=Mt=>P.trigger(this._element,Mt,{relatedTarget:J,direction:this._orderToDirection(_),from:this._getItemIndex(j),to:ut});if(gt(js).defaultPrevented||!j||!J)return;const It=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ut),this._activeElement=J;const jt=X?"carousel-item-start":"carousel-item-end",Ft=X?"carousel-item-next":"carousel-item-prev";J.classList.add(Ft),T(J),j.classList.add(jt),J.classList.add(jt),this._queueCallback(()=>{J.classList.remove(jt,Ft),J.classList.add(Xi),j.classList.remove(Xi,Ft,jt),this._isSliding=!1,gt(Yi)},j,this._isAnimated()),It&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return xt.findOne(Wl,this._element)}_getItems(){return xt.find(ps,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return R()?_===bn?Kn:Ve:_===bn?Ve:Kn}_orderToDirection(_){return R()?_===Kn?bn:fn:_===Kn?fn:bn}static jQueryInterface(_){return this.each(function(){const w=mr.getOrCreateInstance(this,_);if(typeof _!="number"){if(typeof _=="string"){if(w[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);w[_]()}}else w.to(_)})}}P.on(document,Kl,"[data-bs-slide], [data-bs-slide-to]",function(N){const _=xt.getElementFromSelector(this);if(!_||!_.classList.contains(Ls))return;N.preventDefault();const w=mr.getOrCreateInstance(_),j=this.getAttribute("data-bs-slide-to");return j?(w.to(j),void w._maybeEnableCycle()):At.getDataAttribute(this,"slide")==="next"?(w.next(),void w._maybeEnableCycle()):(w.prev(),void w._maybeEnableCycle())}),P.on(window,Gl,()=>{const N=xt.find('[data-bs-ride="carousel"]');for(const _ of N)mr.getOrCreateInstance(_)}),V(mr);const Be=".bs.collapse",Sn=`show${Be}`,En=`shown${Be}`,Qi=`hide${Be}`,Yl=`hidden${Be}`,_h=`click${Be}.data-api`,Vs="show",pr="collapse",Us="collapsing",zr=`:scope .${pr} .${pr}`,gs='[data-bs-toggle="collapse"]',Fs={parent:null,toggle:!0},zs={parent:"(null|element)",toggle:"boolean"};class xn extends Dt{constructor(_,w){super(_,w),this._isTransitioning=!1,this._triggerArray=[];const j=xt.find(gs);for(const X of j){const J=xt.getSelectorFromElement(X),ut=xt.find(J).filter(gt=>gt===this._element);J!==null&&ut.length&&this._triggerArray.push(X)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Fs}static get DefaultType(){return zs}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(X=>X!==this._element).map(X=>xn.getOrCreateInstance(X,{toggle:!1}))),_.length&&_[0]._isTransitioning||P.trigger(this._element,Sn).defaultPrevented)return;for(const X of _)X.hide();const w=this._getDimension();this._element.classList.remove(pr),this._element.classList.add(Us),this._element.style[w]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const j=`scroll${w[0].toUpperCase()+w.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Us),this._element.classList.add(pr,Vs),this._element.style[w]="",P.trigger(this._element,En)},this._element,!0),this._element.style[w]=`${this._element[j]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,Qi).defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,T(this._element),this._element.classList.add(Us),this._element.classList.remove(pr,Vs);for(const w of this._triggerArray){const j=xt.getElementFromSelector(w);j&&!this._isShown(j)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Us),this._element.classList.add(pr),P.trigger(this._element,Yl)},this._element,!0)}_isShown(_=this._element){return _.classList.contains(Vs)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=h(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(gs);for(const w of _){const j=xt.getElementFromSelector(w);j&&this._addAriaAndCollapsedClass([w],this._isShown(j))}}_getFirstLevelChildren(_){const w=xt.find(zr,this._config.parent);return xt.find(_,this._config.parent).filter(j=>!w.includes(j))}_addAriaAndCollapsedClass(_,w){if(_.length)for(const j of _)j.classList.toggle("collapsed",!w),j.setAttribute("aria-expanded",w)}static jQueryInterface(_){const w={};return typeof _=="string"&&/show|hide/.test(_)&&(w.toggle=!1),this.each(function(){const j=xn.getOrCreateInstance(this,w);if(typeof _=="string"){if(j[_]===void 0)throw new TypeError(`No method named "${_}"`);j[_]()}})}}P.on(document,_h,gs,function(N){(N.target.tagName==="A"||N.delegateTarget&&N.delegateTarget.tagName==="A")&&N.preventDefault();for(const _ of xt.getMultipleElementsFromSelector(this))xn.getOrCreateInstance(_,{toggle:!1}).toggle()}),V(xn);var _e="top",Wn="bottom",Vn="right",sn="left",Zi="auto",gr=[_e,Wn,Vn,sn],Bs="start",Ji="end",Xl="clippingParents",Hs="viewport",pi="popper",Un="reference",yr=gr.reduce(function(N,_){return N.concat([_+"-"+Bs,_+"-"+Ji])},[]),ko=[].concat(gr,[Zi]).reduce(function(N,_){return N.concat([_,_+"-"+Bs,_+"-"+Ji])},[]),$s="beforeRead",Ra="read",Ia="afterRead",Oo="beforeMain",Na="main",ai="afterMain",Mo="beforeWrite",Wc="write",Da="afterWrite",Po=[$s,Ra,Ia,Oo,Na,ai,Mo,Wc,Da];function oi(N){return N?(N.nodeName||"").toLowerCase():null}function gi(N){if(N==null)return window;if(N.toString()!=="[object Window]"){var _=N.ownerDocument;return _&&_.defaultView||window}return N}function Qe(N){return N instanceof gi(N).Element||N instanceof Element}function on(N){return N instanceof gi(N).HTMLElement||N instanceof HTMLElement}function _r(N){return typeof ShadowRoot<"u"&&(N instanceof gi(N).ShadowRoot||N instanceof ShadowRoot)}const qs={name:"applyStyles",enabled:!0,phase:"write",fn:function(N){var _=N.state;Object.keys(_.elements).forEach(function(w){var j=_.styles[w]||{},X=_.attributes[w]||{},J=_.elements[w];on(J)&&oi(J)&&(Object.assign(J.style,j),Object.keys(X).forEach(function(ut){var gt=X[ut];gt===!1?J.removeAttribute(ut):J.setAttribute(ut,gt===!0?"":gt)}))})},effect:function(N){var _=N.state,w={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,w.popper),_.styles=w,_.elements.arrow&&Object.assign(_.elements.arrow.style,w.arrow),function(){Object.keys(_.elements).forEach(function(j){var X=_.elements[j],J=_.attributes[j]||{},ut=Object.keys(_.styles.hasOwnProperty(j)?_.styles[j]:w[j]).reduce(function(gt,It){return gt[It]="",gt},{});on(X)&&oi(X)&&(Object.assign(X.style,ut),Object.keys(J).forEach(function(gt){X.removeAttribute(gt)}))})}},requires:["computeStyles"]};function Fn(N){return N.split("-")[0]}var xe=Math.max,Gs=Math.min,Yn=Math.round;function vr(){var N=navigator.userAgentData;return N!=null&&N.brands&&Array.isArray(N.brands)?N.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function Ql(){return!/^((?!chrome|android).)*safari/i.test(vr())}function Ks(N,_,w){_===void 0&&(_=!1),w===void 0&&(w=!1);var j=N.getBoundingClientRect(),X=1,J=1;_&&on(N)&&(X=N.offsetWidth>0&&Yn(j.width)/N.offsetWidth||1,J=N.offsetHeight>0&&Yn(j.height)/N.offsetHeight||1);var ut=(Qe(N)?gi(N):window).visualViewport,gt=!Ql()&&w,It=(j.left+(gt&&ut?ut.offsetLeft:0))/X,jt=(j.top+(gt&&ut?ut.offsetTop:0))/J,Ft=j.width/X,Mt=j.height/J;return{width:Ft,height:Mt,top:jt,right:It+Ft,bottom:jt+Mt,left:It,x:It,y:jt}}function ka(N){var _=Ks(N),w=N.offsetWidth,j=N.offsetHeight;return Math.abs(_.width-w)<=1&&(w=_.width),Math.abs(_.height-j)<=1&&(j=_.height),{x:N.offsetLeft,y:N.offsetTop,width:w,height:j}}function Yc(N,_){var w=_.getRootNode&&_.getRootNode();if(N.contains(_))return!0;if(w&&_r(w)){var j=_;do{if(j&&N.isSameNode(j))return!0;j=j.parentNode||j.host}while(j)}return!1}function ys(N){return gi(N).getComputedStyle(N)}function jo(N){return["table","td","th"].indexOf(oi(N))>=0}function li(N){return((Qe(N)?N.ownerDocument:N.document)||window.document).documentElement}function yi(N){return oi(N)==="html"?N:N.assignedSlot||N.parentNode||(_r(N)?N.host:null)||li(N)}function Ws(N){return on(N)&&ys(N).position!=="fixed"?N.offsetParent:null}function Bi(N){for(var _=gi(N),w=Ws(N);w&&jo(w)&&ys(w).position==="static";)w=Ws(w);return w&&(oi(w)==="html"||oi(w)==="body"&&ys(w).position==="static")?_:w||function(j){var X=/firefox/i.test(vr());if(/Trident/i.test(vr())&&on(j)&&ys(j).position==="fixed")return null;var J=yi(j);for(_r(J)&&(J=J.host);on(J)&&["html","body"].indexOf(oi(J))<0;){var ut=ys(J);if(ut.transform!=="none"||ut.perspective!=="none"||ut.contain==="paint"||["transform","perspective"].indexOf(ut.willChange)!==-1||X&&ut.willChange==="filter"||X&&ut.filter&&ut.filter!=="none")return J;J=J.parentNode}return null}(N)||_}function Oa(N){return["top","bottom"].indexOf(N)>=0?"x":"y"}function Ai(N,_,w){return xe(N,Gs(_,w))}function Zl(N){return Object.assign({},{top:0,right:0,bottom:0,left:0},N)}function Br(N,_){return _.reduce(function(w,j){return w[j]=N,w},{})}const ts={name:"arrow",enabled:!0,phase:"main",fn:function(N){var _,w=N.state,j=N.name,X=N.options,J=w.elements.arrow,ut=w.modifiersData.popperOffsets,gt=Fn(w.placement),It=Oa(gt),jt=[sn,Vn].indexOf(gt)>=0?"height":"width";if(J&&ut){var Ft=function(ne,Oe){return Zl(typeof(ne=typeof ne=="function"?ne(Object.assign({},Oe.rects,{placement:Oe.placement})):ne)!="number"?ne:Br(ne,gr))}(X.padding,w),Mt=ka(J),ae=It==="y"?_e:sn,Yt=It==="y"?Wn:Vn,oe=w.rects.reference[jt]+w.rects.reference[It]-ut[It]-w.rects.popper[jt],te=ut[It]-w.rects.reference[It],Qt=Bi(J),Le=Qt?It==="y"?Qt.clientHeight||0:Qt.clientWidth||0:0,qe=oe/2-te/2,he=Ft[ae],Ne=Le-Mt[jt]-Ft[Yt],ee=Le/2-Mt[jt]/2+qe,Pt=Ai(he,ee,Ne),Gt=It;w.modifiersData[j]=((_={})[Gt]=Pt,_.centerOffset=Pt-ee,_)}},effect:function(N){var _=N.state,w=N.options.element,j=w===void 0?"[data-popper-arrow]":w;j!=null&&(typeof j!="string"||(j=_.elements.popper.querySelector(j)))&&Yc(_.elements.popper,j)&&(_.elements.arrow=j)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xn(N){return N.split("-")[1]}var Ma={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _s(N){var _,w=N.popper,j=N.popperRect,X=N.placement,J=N.variation,ut=N.offsets,gt=N.position,It=N.gpuAcceleration,jt=N.adaptive,Ft=N.roundOffsets,Mt=N.isFixed,ae=ut.x,Yt=ae===void 0?0:ae,oe=ut.y,te=oe===void 0?0:oe,Qt=typeof Ft=="function"?Ft({x:Yt,y:te}):{x:Yt,y:te};Yt=Qt.x,te=Qt.y;var Le=ut.hasOwnProperty("x"),qe=ut.hasOwnProperty("y"),he=sn,Ne=_e,ee=window;if(jt){var Pt=Bi(w),Gt="clientHeight",ne="clientWidth";Pt===gi(w)&&ys(Pt=li(w)).position!=="static"&&gt==="absolute"&&(Gt="scrollHeight",ne="scrollWidth"),(X===_e||(X===sn||X===Vn)&&J===Ji)&&(Ne=Wn,te-=(Mt&&Pt===ee&&ee.visualViewport?ee.visualViewport.height:Pt[Gt])-j.height,te*=It?1:-1),X!==sn&&(X!==_e&&X!==Wn||J!==Ji)||(he=Vn,Yt-=(Mt&&Pt===ee&&ee.visualViewport?ee.visualViewport.width:Pt[ne])-j.width,Yt*=It?1:-1)}var Oe,Ze=Object.assign({position:gt},jt&&Ma),Nn=Ft===!0?function(Ni,Dn){var Jn=Ni.x,ss=Ni.y,ce=Dn.devicePixelRatio||1;return{x:Yn(Jn*ce)/ce||0,y:Yn(ss*ce)/ce||0}}({x:Yt,y:te},gi(w)):{x:Yt,y:te};return Yt=Nn.x,te=Nn.y,It?Object.assign({},Ze,((Oe={})[Ne]=qe?"0":"",Oe[he]=Le?"0":"",Oe.transform=(ee.devicePixelRatio||1)<=1?"translate("+Yt+"px, "+te+"px)":"translate3d("+Yt+"px, "+te+"px, 0)",Oe)):Object.assign({},Ze,((_={})[Ne]=qe?te+"px":"",_[he]=Le?Yt+"px":"",_.transform="",_))}const Ys={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(N){var _=N.state,w=N.options,j=w.gpuAcceleration,X=j===void 0||j,J=w.adaptive,ut=J===void 0||J,gt=w.roundOffsets,It=gt===void 0||gt,jt={placement:Fn(_.placement),variation:Xn(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:X,isFixed:_.options.strategy==="fixed"};_.modifiersData.popperOffsets!=null&&(_.styles.popper=Object.assign({},_.styles.popper,_s(Object.assign({},jt,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:ut,roundOffsets:It})))),_.modifiersData.arrow!=null&&(_.styles.arrow=Object.assign({},_.styles.arrow,_s(Object.assign({},jt,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:It})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})},data:{}};var es={passive:!0};const Pa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(N){var _=N.state,w=N.instance,j=N.options,X=j.scroll,J=X===void 0||X,ut=j.resize,gt=ut===void 0||ut,It=gi(_.elements.popper),jt=[].concat(_.scrollParents.reference,_.scrollParents.popper);return J&&jt.forEach(function(Ft){Ft.addEventListener("scroll",w.update,es)}),gt&&It.addEventListener("resize",w.update,es),function(){J&&jt.forEach(function(Ft){Ft.removeEventListener("scroll",w.update,es)}),gt&&It.removeEventListener("resize",w.update,es)}},data:{}};var Xs={left:"right",right:"left",bottom:"top",top:"bottom"};function Hi(N){return N.replace(/left|right|bottom|top/g,function(_){return Xs[_]})}var Jl={start:"end",end:"start"};function An(N){return N.replace(/start|end/g,function(_){return Jl[_]})}function ke(N){var _=gi(N);return{scrollLeft:_.pageXOffset,scrollTop:_.pageYOffset}}function Hr(N){return Ks(li(N)).left+ke(N).scrollLeft}function br(N){var _=ys(N),w=_.overflow,j=_.overflowX,X=_.overflowY;return/auto|scroll|overlay|hidden/.test(w+X+j)}function tc(N){return["html","body","#document"].indexOf(oi(N))>=0?N.ownerDocument.body:on(N)&&br(N)?N:tc(yi(N))}function Qs(N,_){var w;_===void 0&&(_=[]);var j=tc(N),X=j===((w=N.ownerDocument)==null?void 0:w.body),J=gi(j),ut=X?[J].concat(J.visualViewport||[],br(j)?j:[]):j,gt=_.concat(ut);return X?gt:gt.concat(Qs(yi(ut)))}function $r(N){return Object.assign({},N,{left:N.x,top:N.y,right:N.x+N.width,bottom:N.y+N.height})}function vs(N,_,w){return _===Hs?$r(function(j,X){var J=gi(j),ut=li(j),gt=J.visualViewport,It=ut.clientWidth,jt=ut.clientHeight,Ft=0,Mt=0;if(gt){It=gt.width,jt=gt.height;var ae=Ql();(ae||!ae&&X==="fixed")&&(Ft=gt.offsetLeft,Mt=gt.offsetTop)}return{width:It,height:jt,x:Ft+Hr(j),y:Mt}}(N,w)):Qe(_)?function(j,X){var J=Ks(j,!1,X==="fixed");return J.top=J.top+j.clientTop,J.left=J.left+j.clientLeft,J.bottom=J.top+j.clientHeight,J.right=J.left+j.clientWidth,J.width=j.clientWidth,J.height=j.clientHeight,J.x=J.left,J.y=J.top,J}(_,w):$r(function(j){var X,J=li(j),ut=ke(j),gt=(X=j.ownerDocument)==null?void 0:X.body,It=xe(J.scrollWidth,J.clientWidth,gt?gt.scrollWidth:0,gt?gt.clientWidth:0),jt=xe(J.scrollHeight,J.clientHeight,gt?gt.scrollHeight:0,gt?gt.clientHeight:0),Ft=-ut.scrollLeft+Hr(j),Mt=-ut.scrollTop;return ys(gt||J).direction==="rtl"&&(Ft+=xe(J.clientWidth,gt?gt.clientWidth:0)-It),{width:It,height:jt,x:Ft,y:Mt}}(li(N)))}function qr(N){var _,w=N.reference,j=N.element,X=N.placement,J=X?Fn(X):null,ut=X?Xn(X):null,gt=w.x+w.width/2-j.width/2,It=w.y+w.height/2-j.height/2;switch(J){case _e:_={x:gt,y:w.y-j.height};break;case Wn:_={x:gt,y:w.y+w.height};break;case Vn:_={x:w.x+w.width,y:It};break;case sn:_={x:w.x-j.width,y:It};break;default:_={x:w.x,y:w.y}}var jt=J?Oa(J):null;if(jt!=null){var Ft=jt==="y"?"height":"width";switch(ut){case Bs:_[jt]=_[jt]-(w[Ft]/2-j[Ft]/2);break;case Ji:_[jt]=_[jt]+(w[Ft]/2-j[Ft]/2)}}return _}function Qn(N,_){_===void 0&&(_={});var w=_,j=w.placement,X=j===void 0?N.placement:j,J=w.strategy,ut=J===void 0?N.strategy:J,gt=w.boundary,It=gt===void 0?Xl:gt,jt=w.rootBoundary,Ft=jt===void 0?Hs:jt,Mt=w.elementContext,ae=Mt===void 0?pi:Mt,Yt=w.altBoundary,oe=Yt!==void 0&&Yt,te=w.padding,Qt=te===void 0?0:te,Le=Zl(typeof Qt!="number"?Qt:Br(Qt,gr)),qe=ae===pi?Un:pi,he=N.rects.popper,Ne=N.elements[oe?qe:ae],ee=function(Dn,Jn,ss,ce){var rs=Jn==="clippingParents"?function(Ge){var ti=Qs(yi(Ge)),Di=["absolute","fixed"].indexOf(ys(Ge).position)>=0&&on(Ge)?Bi(Ge):Ge;return Qe(Di)?ti.filter(function(er){return Qe(er)&&Yc(er,Di)&&oi(er)!=="body"}):[]}(Dn):[].concat(Jn),as=[].concat(rs,[ss]),eo=as[0],kn=as.reduce(function(Ge,ti){var Di=vs(Dn,ti,ce);return Ge.top=xe(Di.top,Ge.top),Ge.right=Gs(Di.right,Ge.right),Ge.bottom=Gs(Di.bottom,Ge.bottom),Ge.left=xe(Di.left,Ge.left),Ge},vs(Dn,eo,ce));return kn.width=kn.right-kn.left,kn.height=kn.bottom-kn.top,kn.x=kn.left,kn.y=kn.top,kn}(Qe(Ne)?Ne:Ne.contextElement||li(N.elements.popper),It,Ft,ut),Pt=Ks(N.elements.reference),Gt=qr({reference:Pt,element:he,placement:X}),ne=$r(Object.assign({},he,Gt)),Oe=ae===pi?ne:Pt,Ze={top:ee.top-Oe.top+Le.top,bottom:Oe.bottom-ee.bottom+Le.bottom,left:ee.left-Oe.left+Le.left,right:Oe.right-ee.right+Le.right},Nn=N.modifiersData.offset;if(ae===pi&&Nn){var Ni=Nn[X];Object.keys(Ze).forEach(function(Dn){var Jn=[Vn,Wn].indexOf(Dn)>=0?1:-1,ss=[_e,Wn].indexOf(Dn)>=0?"y":"x";Ze[Dn]+=Ni[ss]*Jn})}return Ze}function Xc(N,_){_===void 0&&(_={});var w=_,j=w.placement,X=w.boundary,J=w.rootBoundary,ut=w.padding,gt=w.flipVariations,It=w.allowedAutoPlacements,jt=It===void 0?ko:It,Ft=Xn(j),Mt=Ft?gt?yr:yr.filter(function(oe){return Xn(oe)===Ft}):gr,ae=Mt.filter(function(oe){return jt.indexOf(oe)>=0});ae.length===0&&(ae=Mt);var Yt=ae.reduce(function(oe,te){return oe[te]=Qn(N,{placement:te,boundary:X,rootBoundary:J,padding:ut})[Fn(te)],oe},{});return Object.keys(Yt).sort(function(oe,te){return Yt[oe]-Yt[te]})}const Qc={name:"flip",enabled:!0,phase:"main",fn:function(N){var _=N.state,w=N.options,j=N.name;if(!_.modifiersData[j]._skip){for(var X=w.mainAxis,J=X===void 0||X,ut=w.altAxis,gt=ut===void 0||ut,It=w.fallbackPlacements,jt=w.padding,Ft=w.boundary,Mt=w.rootBoundary,ae=w.altBoundary,Yt=w.flipVariations,oe=Yt===void 0||Yt,te=w.allowedAutoPlacements,Qt=_.options.placement,Le=Fn(Qt),qe=It||(Le!==Qt&&oe?function(Ge){if(Fn(Ge)===Zi)return[];var ti=Hi(Ge);return[An(Ge),ti,An(ti)]}(Qt):[Hi(Qt)]),he=[Qt].concat(qe).reduce(function(Ge,ti){return Ge.concat(Fn(ti)===Zi?Xc(_,{placement:ti,boundary:Ft,rootBoundary:Mt,padding:jt,flipVariations:oe,allowedAutoPlacements:te}):ti)},[]),Ne=_.rects.reference,ee=_.rects.popper,Pt=new Map,Gt=!0,ne=he[0],Oe=0;Oe<he.length;Oe++){var Ze=he[Oe],Nn=Fn(Ze),Ni=Xn(Ze)===Bs,Dn=[_e,Wn].indexOf(Nn)>=0,Jn=Dn?"width":"height",ss=Qn(_,{placement:Ze,boundary:Ft,rootBoundary:Mt,altBoundary:ae,padding:jt}),ce=Dn?Ni?Vn:sn:Ni?Wn:_e;Ne[Jn]>ee[Jn]&&(ce=Hi(ce));var rs=Hi(ce),as=[];if(J&&as.push(ss[Nn]<=0),gt&&as.push(ss[ce]<=0,ss[rs]<=0),as.every(function(Ge){return Ge})){ne=Ze,Gt=!1;break}Pt.set(Ze,as)}if(Gt)for(var eo=function(Ge){var ti=he.find(function(Di){var er=Pt.get(Di);if(er)return er.slice(0,Ge).every(function(ei){return ei})});if(ti)return ne=ti,"break"},kn=oe?3:1;kn>0&&eo(kn)!=="break";kn--);_.placement!==ne&&(_.modifiersData[j]._skip=!0,_.placement=ne,_.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Gr(N,_,w){return w===void 0&&(w={x:0,y:0}),{top:N.top-_.height-w.y,right:N.right-_.width+w.x,bottom:N.bottom-_.height+w.y,left:N.left-_.width-w.x}}function ja(N){return[_e,Vn,Wn,sn].some(function(_){return N[_]>=0})}const Lo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(N){var _=N.state,w=N.name,j=_.rects.reference,X=_.rects.popper,J=_.modifiersData.preventOverflow,ut=Qn(_,{elementContext:"reference"}),gt=Qn(_,{altBoundary:!0}),It=Gr(ut,j),jt=Gr(gt,X,J),Ft=ja(It),Mt=ja(jt);_.modifiersData[w]={referenceClippingOffsets:It,popperEscapeOffsets:jt,isReferenceHidden:Ft,hasPopperEscaped:Mt},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":Ft,"data-popper-escaped":Mt})}},La={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(N){var _=N.state,w=N.options,j=N.name,X=w.offset,J=X===void 0?[0,0]:X,ut=ko.reduce(function(Ft,Mt){return Ft[Mt]=function(ae,Yt,oe){var te=Fn(ae),Qt=[sn,_e].indexOf(te)>=0?-1:1,Le=typeof oe=="function"?oe(Object.assign({},Yt,{placement:ae})):oe,qe=Le[0],he=Le[1];return qe=qe||0,he=(he||0)*Qt,[sn,Vn].indexOf(te)>=0?{x:he,y:qe}:{x:qe,y:he}}(Mt,_.rects,J),Ft},{}),gt=ut[_.placement],It=gt.x,jt=gt.y;_.modifiersData.popperOffsets!=null&&(_.modifiersData.popperOffsets.x+=It,_.modifiersData.popperOffsets.y+=jt),_.modifiersData[j]=ut}},Vo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(N){var _=N.state,w=N.name;_.modifiersData[w]=qr({reference:_.rects.reference,element:_.rects.popper,placement:_.placement})},data:{}},Va={name:"preventOverflow",enabled:!0,phase:"main",fn:function(N){var _=N.state,w=N.options,j=N.name,X=w.mainAxis,J=X===void 0||X,ut=w.altAxis,gt=ut!==void 0&&ut,It=w.boundary,jt=w.rootBoundary,Ft=w.altBoundary,Mt=w.padding,ae=w.tether,Yt=ae===void 0||ae,oe=w.tetherOffset,te=oe===void 0?0:oe,Qt=Qn(_,{boundary:It,rootBoundary:jt,padding:Mt,altBoundary:Ft}),Le=Fn(_.placement),qe=Xn(_.placement),he=!qe,Ne=Oa(Le),ee=Ne==="x"?"y":"x",Pt=_.modifiersData.popperOffsets,Gt=_.rects.reference,ne=_.rects.popper,Oe=typeof te=="function"?te(Object.assign({},_.rects,{placement:_.placement})):te,Ze=typeof Oe=="number"?{mainAxis:Oe,altAxis:Oe}:Object.assign({mainAxis:0,altAxis:0},Oe),Nn=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,Ni={x:0,y:0};if(Pt){if(J){var Dn,Jn=Ne==="y"?_e:sn,ss=Ne==="y"?Wn:Vn,ce=Ne==="y"?"height":"width",rs=Pt[Ne],as=rs+Qt[Jn],eo=rs-Qt[ss],kn=Yt?-ne[ce]/2:0,Ge=qe===Bs?Gt[ce]:ne[ce],ti=qe===Bs?-ne[ce]:-Gt[ce],Di=_.elements.arrow,er=Yt&&Di?ka(Di):{width:0,height:0},ei=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},gn=ei[Jn],cu=ei[ss],ea=Ai(0,Gt[ce],er[ce]),uu=he?Gt[ce]/2-kn-ea-gn-Ze.mainAxis:Ge-ea-gn-Ze.mainAxis,Gh=he?-Gt[ce]/2+kn+ea+cu+Ze.mainAxis:ti+ea+cu+Ze.mainAxis,Ss=_.elements.arrow&&Bi(_.elements.arrow),hu=Ss?Ne==="y"?Ss.clientTop||0:Ss.clientLeft||0:0,du=(Dn=Nn?.[Ne])!=null?Dn:0,Kh=rs+Gh-du,Wh=Ai(Yt?Gs(as,rs+uu-du-hu):as,rs,Yt?xe(eo,Kh):eo);Pt[Ne]=Wh,Ni[Ne]=Wh-rs}if(gt){var Yh,sm=Ne==="x"?_e:sn,rm=Ne==="x"?Wn:Vn,na=Pt[ee],gc=ee==="y"?"height":"width",fu=na+Qt[sm],Xh=na-Qt[rm],Qh=[_e,sn].indexOf(Le)!==-1,Zh=(Yh=Nn?.[ee])!=null?Yh:0,Jh=Qh?fu:na-Gt[gc]-ne[gc]-Zh+Ze.altAxis,td=Qh?na+Gt[gc]+ne[gc]-Zh-Ze.altAxis:Xh,mu=Yt&&Qh?function(am,om,pu){var ed=Ai(am,om,pu);return ed>pu?pu:ed}(Jh,na,td):Ai(Yt?Jh:fu,na,Yt?td:Xh);Pt[ee]=mu,Ni[ee]=mu-na}_.modifiersData[j]=Ni}},requiresIfExists:["offset"]};function vh(N,_,w){w===void 0&&(w=!1);var j,X,J=on(_),ut=on(_)&&function(Mt){var ae=Mt.getBoundingClientRect(),Yt=Yn(ae.width)/Mt.offsetWidth||1,oe=Yn(ae.height)/Mt.offsetHeight||1;return Yt!==1||oe!==1}(_),gt=li(_),It=Ks(N,ut,w),jt={scrollLeft:0,scrollTop:0},Ft={x:0,y:0};return(J||!J&&!w)&&((oi(_)!=="body"||br(gt))&&(jt=(j=_)!==gi(j)&&on(j)?{scrollLeft:(X=j).scrollLeft,scrollTop:X.scrollTop}:ke(j)),on(_)?((Ft=Ks(_,!0)).x+=_.clientLeft,Ft.y+=_.clientTop):gt&&(Ft.x=Hr(gt))),{x:It.left+jt.scrollLeft-Ft.x,y:It.top+jt.scrollTop-Ft.y,width:It.width,height:It.height}}function ec(N){var _=new Map,w=new Set,j=[];function X(J){w.add(J.name),[].concat(J.requires||[],J.requiresIfExists||[]).forEach(function(ut){if(!w.has(ut)){var gt=_.get(ut);gt&&X(gt)}}),j.push(J)}return N.forEach(function(J){_.set(J.name,J)}),N.forEach(function(J){w.has(J.name)||X(J)}),j}var Kr={placement:"bottom",modifiers:[],strategy:"absolute"};function nc(){for(var N=arguments.length,_=new Array(N),w=0;w<N;w++)_[w]=arguments[w];return!_.some(function(j){return!(j&&typeof j.getBoundingClientRect=="function")})}function Ua(N){N===void 0&&(N={});var _=N,w=_.defaultModifiers,j=w===void 0?[]:w,X=_.defaultOptions,J=X===void 0?Kr:X;return function(ut,gt,It){It===void 0&&(It=J);var jt,Ft,Mt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kr,J),modifiersData:{},elements:{reference:ut,popper:gt},attributes:{},styles:{}},ae=[],Yt=!1,oe={state:Mt,setOptions:function(Qt){var Le=typeof Qt=="function"?Qt(Mt.options):Qt;te(),Mt.options=Object.assign({},J,Mt.options,Le),Mt.scrollParents={reference:Qe(ut)?Qs(ut):ut.contextElement?Qs(ut.contextElement):[],popper:Qs(gt)};var qe,he,Ne=function(ee){var Pt=ec(ee);return Po.reduce(function(Gt,ne){return Gt.concat(Pt.filter(function(Oe){return Oe.phase===ne}))},[])}((qe=[].concat(j,Mt.options.modifiers),he=qe.reduce(function(ee,Pt){var Gt=ee[Pt.name];return ee[Pt.name]=Gt?Object.assign({},Gt,Pt,{options:Object.assign({},Gt.options,Pt.options),data:Object.assign({},Gt.data,Pt.data)}):Pt,ee},{}),Object.keys(he).map(function(ee){return he[ee]})));return Mt.orderedModifiers=Ne.filter(function(ee){return ee.enabled}),Mt.orderedModifiers.forEach(function(ee){var Pt=ee.name,Gt=ee.options,ne=Gt===void 0?{}:Gt,Oe=ee.effect;if(typeof Oe=="function"){var Ze=Oe({state:Mt,name:Pt,instance:oe,options:ne});ae.push(Ze||function(){})}}),oe.update()},forceUpdate:function(){if(!Yt){var Qt=Mt.elements,Le=Qt.reference,qe=Qt.popper;if(nc(Le,qe)){Mt.rects={reference:vh(Le,Bi(qe),Mt.options.strategy==="fixed"),popper:ka(qe)},Mt.reset=!1,Mt.placement=Mt.options.placement,Mt.orderedModifiers.forEach(function(Oe){return Mt.modifiersData[Oe.name]=Object.assign({},Oe.data)});for(var he=0;he<Mt.orderedModifiers.length;he++)if(Mt.reset!==!0){var Ne=Mt.orderedModifiers[he],ee=Ne.fn,Pt=Ne.options,Gt=Pt===void 0?{}:Pt,ne=Ne.name;typeof ee=="function"&&(Mt=ee({state:Mt,options:Gt,name:ne,instance:oe})||Mt)}else Mt.reset=!1,he=-1}}},update:(jt=function(){return new Promise(function(Qt){oe.forceUpdate(),Qt(Mt)})},function(){return Ft||(Ft=new Promise(function(Qt){Promise.resolve().then(function(){Ft=void 0,Qt(jt())})})),Ft}),destroy:function(){te(),Yt=!0}};if(!nc(ut,gt))return oe;function te(){ae.forEach(function(Qt){return Qt()}),ae=[]}return oe.setOptions(It).then(function(Qt){!Yt&&It.onFirstUpdate&&It.onFirstUpdate(Qt)}),oe}}var ic=Ua(),Fa=Ua({defaultModifiers:[Pa,Vo,Ys,qs]}),Uo=Ua({defaultModifiers:[Pa,Vo,Ys,qs,La,Qc,Va,ts,Lo]});const za=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ai,afterRead:Ia,afterWrite:Da,applyStyles:qs,arrow:ts,auto:Zi,basePlacements:gr,beforeMain:Oo,beforeRead:$s,beforeWrite:Mo,bottom:Wn,clippingParents:Xl,computeStyles:Ys,createPopper:Uo,createPopperBase:ic,createPopperLite:Fa,detectOverflow:Qn,end:Ji,eventListeners:Pa,flip:Qc,hide:Lo,left:sn,main:Na,modifierPhases:Po,offset:La,placements:ko,popper:pi,popperGenerator:Ua,popperOffsets:Vo,preventOverflow:Va,read:Ra,reference:Un,right:Vn,start:Bs,top:_e,variationPlacements:yr,viewport:Hs,write:Wc},Symbol.toStringTag,{value:"Module"})),sc="dropdown",bs=".bs.dropdown",Es=".data-api",Zc="ArrowUp",rc="ArrowDown",Jc=`hide${bs}`,tu=`hidden${bs}`,Fo=`show${bs}`,_i=`shown${bs}`,ac=`click${bs}${Es}`,oc=`keydown${bs}${Es}`,Zs=`keyup${bs}${Es}`,m="show",x='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',S=`${x}.${m}`,L=".dropdown-menu",et=R()?"top-end":"top-start",ct=R()?"top-start":"top-end",Nt=R()?"bottom-end":"bottom-start",we=R()?"bottom-start":"bottom-end",Cn=R()?"left-start":"right-start",Te=R()?"right-start":"left-start",zn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Rn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class In extends Dt{constructor(_,w){super(_,w),this._popper=null,this._parent=this._element.parentNode,this._menu=xt.next(this._element,L)[0]||xt.prev(this._element,L)[0]||xt.findOne(L,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zn}static get DefaultType(){return Rn}static get NAME(){return sc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!P.trigger(this._element,Fo,_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const w of[].concat(...document.body.children))P.on(w,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(m),this._element.classList.add(m),P.trigger(this._element,_i,_)}}hide(){if(g(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!P.trigger(this._element,Jc,_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))P.off(w,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(m),this._element.classList.remove(m),this._element.setAttribute("aria-expanded","false"),At.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,tu,_),this._element.focus()}}_getConfig(_){if(typeof(_=super._getConfig(_)).reference=="object"&&!u(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${sc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(za===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let _=this._element;this._config.reference==="parent"?_=this._parent:u(this._config.reference)?_=h(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const w=this._getPopperConfig();this._popper=Uo(_,this._menu,w)}_isShown(){return this._menu.classList.contains(m)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return Cn;if(_.classList.contains("dropstart"))return Te;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const w=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains("dropup")?w?ct:et:w?we:Nt}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(w=>Number.parseInt(w,10)):typeof _=="function"?w=>_(w,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(At.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...$(this._config.popperConfig,[void 0,_])}}_selectMenuItem({key:_,target:w}){const j=xt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(X=>f(X));j.length&&Q(j,w,_===rc,!j.includes(w)).focus()}static jQueryInterface(_){return this.each(function(){const w=In.getOrCreateInstance(this,_);if(typeof _=="string"){if(w[_]===void 0)throw new TypeError(`No method named "${_}"`);w[_]()}})}static clearMenus(_){if(_.button===2||_.type==="keyup"&&_.key!=="Tab")return;const w=xt.find(S);for(const j of w){const X=In.getInstance(j);if(!X||X._config.autoClose===!1)continue;const J=_.composedPath(),ut=J.includes(X._menu);if(J.includes(X._element)||X._config.autoClose==="inside"&&!ut||X._config.autoClose==="outside"&&ut||X._menu.contains(_.target)&&(_.type==="keyup"&&_.key==="Tab"||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const gt={relatedTarget:X._element};_.type==="click"&&(gt.clickEvent=_),X._completeHide(gt)}}static dataApiKeydownHandler(_){const w=/input|textarea/i.test(_.target.tagName),j=_.key==="Escape",X=[Zc,rc].includes(_.key);if(!X&&!j||w&&!j)return;_.preventDefault();const J=this.matches(x)?this:xt.prev(this,x)[0]||xt.next(this,x)[0]||xt.findOne(x,_.delegateTarget.parentNode),ut=In.getOrCreateInstance(J);if(X)return _.stopPropagation(),ut.show(),void ut._selectMenuItem(_);ut._isShown()&&(_.stopPropagation(),ut.hide(),J.focus())}}P.on(document,oc,x,In.dataApiKeydownHandler),P.on(document,oc,L,In.dataApiKeydownHandler),P.on(document,ac,In.clearMenus),P.on(document,Zs,In.clearMenus),P.on(document,ac,x,function(N){N.preventDefault(),In.getOrCreateInstance(this).toggle()}),V(In);const Bn="backdrop",xs="show",zo=`mousedown.bs.${Bn}`,eu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Lf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class bh extends Lt{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return eu}static get DefaultType(){return Lf}static get NAME(){return Bn}show(_){if(!this._config.isVisible)return void $(_);this._append();const w=this._getElement();this._config.isAnimated&&T(w),w.classList.add(xs),this._emulateAnimation(()=>{$(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove(xs),this._emulateAnimation(()=>{this.dispose(),$(_)})):$(_)}dispose(){this._isAppended&&(P.off(this._element,zo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=h(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),P.on(_,zo,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){q(_,this._getElement(),this._config.isAnimated)}}const Bo=".bs.focustrap",Eh=`focusin${Bo}`,Vf=`keydown.tab${Bo}`,xh="backward",Uf={autofocus:!0,trapElement:null},ay={autofocus:"boolean",trapElement:"element"};class Ff extends Lt{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Uf}static get DefaultType(){return ay}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,Bo),P.on(document,Eh,_=>this._handleFocusin(_)),P.on(document,Vf,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,Bo))}_handleFocusin(_){const{trapElement:w}=this._config;if(_.target===document||_.target===w||w.contains(_.target))return;const j=xt.focusableChildren(w);j.length===0?w.focus():this._lastTabNavDirection===xh?j[j.length-1].focus():j[0].focus()}_handleKeydown(_){_.key==="Tab"&&(this._lastTabNavDirection=_.shiftKey?xh:"forward")}}const zf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bf=".sticky-top",nu="padding-right",Ci="margin-right";class Ba{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,nu,w=>w+_),this._setElementAttributes(zf,nu,w=>w+_),this._setElementAttributes(Bf,Ci,w=>w-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,nu),this._resetElementAttributes(zf,nu),this._resetElementAttributes(Bf,Ci)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,w,j){const X=this.getWidth();this._applyManipulationCallback(_,J=>{if(J!==this._element&&window.innerWidth>J.clientWidth+X)return;this._saveInitialAttribute(J,w);const ut=window.getComputedStyle(J).getPropertyValue(w);J.style.setProperty(w,`${j(Number.parseFloat(ut))}px`)})}_saveInitialAttribute(_,w){const j=_.style.getPropertyValue(w);j&&At.setDataAttribute(_,w,j)}_resetElementAttributes(_,w){this._applyManipulationCallback(_,j=>{const X=At.getDataAttribute(j,w);X!==null?(At.removeDataAttribute(j,w),j.style.setProperty(w,X)):j.style.removeProperty(w)})}_applyManipulationCallback(_,w){if(u(_))w(_);else for(const j of xt.find(_,this._element))w(j)}}const $i=".bs.modal",Hf=`hide${$i}`,$f=`hidePrevented${$i}`,wh=`hidden${$i}`,iu=`show${$i}`,oy=`shown${$i}`,Ho=`resize${$i}`,Th=`click.dismiss${$i}`,lc=`mousedown.dismiss${$i}`,Sh=`keydown.dismiss${$i}`,qf=`click${$i}.data-api`,Wr="modal-open",Ha="show",cc="modal-static",Gf={backdrop:!0,focus:!0,keyboard:!0},$a={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yr extends Dt{constructor(_,w){super(_,w),this._dialog=xt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ba,this._addEventListeners()}static get Default(){return Gf}static get DefaultType(){return $a}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||P.trigger(this._element,iu,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Wr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,Hf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ha),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){P.off(window,$i),P.off(this._dialog,$i),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bh({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ff({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const w=xt.findOne(".modal-body",this._dialog);w&&(w.scrollTop=0),T(this._element),this._element.classList.add(Ha),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,oy,{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,Sh,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),P.on(window,Ho,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,lc,_=>{P.one(this._element,Th,w=>{this._element===_.target&&this._element===w.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Wr),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,wh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,$f).defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,w=this._element.style.overflowY;w==="hidden"||this._element.classList.contains(cc)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(cc),this._queueCallback(()=>{this._element.classList.remove(cc),this._queueCallback(()=>{this._element.style.overflowY=w},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,w=this._scrollBar.getWidth(),j=w>0;if(j&&!_){const X=R()?"paddingLeft":"paddingRight";this._element.style[X]=`${w}px`}if(!j&&_){const X=R()?"paddingRight":"paddingLeft";this._element.style[X]=`${w}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,w){return this.each(function(){const j=Yr.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0)throw new TypeError(`No method named "${_}"`);j[_](w)}})}}P.on(document,qf,'[data-bs-toggle="modal"]',function(N){const _=xt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&N.preventDefault(),P.one(_,iu,j=>{j.defaultPrevented||P.one(_,wh,()=>{f(this)&&this.focus()})});const w=xt.findOne(".modal.show");w&&Yr.getInstance(w).hide(),Yr.getOrCreateInstance(_).toggle(this)}),pe(Yr),V(Yr);const Js=".bs.offcanvas",Ah=".data-api",ly=`load${Js}${Ah}`,Kf="show",Wf="showing",Ch="hiding",Rh=".offcanvas.show",Ih=`show${Js}`,ws=`shown${Js}`,Yf=`hide${Js}`,qi=`hidePrevented${Js}`,Gi=`hidden${Js}`,$o=`resize${Js}`,Nh=`click${Js}${Ah}`,su=`keydown.dismiss${Js}`,ru={backdrop:!0,keyboard:!0,scroll:!1},Dh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ri extends Dt{constructor(_,w){super(_,w),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ru}static get DefaultType(){return Dh}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||P.trigger(this._element,Ih,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ba().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Wf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Kf),this._element.classList.remove(Wf),P.trigger(this._element,ws,{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,Yf).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ch),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Kf,Ch),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ba().reset(),P.trigger(this._element,Gi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=!!this._config.backdrop;return new bh({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{this._config.backdrop!=="static"?this.hide():P.trigger(this._element,qi)}:null})}_initializeFocusTrap(){return new Ff({trapElement:this._element})}_addEventListeners(){P.on(this._element,su,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():P.trigger(this._element,qi))})}static jQueryInterface(_){return this.each(function(){const w=Ri.getOrCreateInstance(this,_);if(typeof _=="string"){if(w[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);w[_](this)}})}}P.on(document,Nh,'[data-bs-toggle="offcanvas"]',function(N){const _=xt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),g(this))return;P.one(_,Gi,()=>{f(this)&&this.focus()});const w=xt.findOne(Rh);w&&w!==_&&Ri.getInstance(w).hide(),Ri.getOrCreateInstance(_).toggle(this)}),P.on(window,ly,()=>{for(const N of xt.find(Rh))Ri.getOrCreateInstance(N).show()}),P.on(window,$o,()=>{for(const N of xt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(N).position!=="fixed"&&Ri.getOrCreateInstance(N).hide()}),pe(Ri),V(Ri);const kh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},au=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,cy=(N,_)=>{const w=N.nodeName.toLowerCase();return _.includes(w)?!au.has(w)||!!qo.test(N.nodeValue):_.filter(j=>j instanceof RegExp).some(j=>j.test(w))},Ki={allowList:kh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Oh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Er={entry:"(string|element|function|null)",selector:"(string|element)"};class Xf extends Lt{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return Ki}static get DefaultType(){return Oh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[X,J]of Object.entries(this._config.content))this._setContent(_,J,X);const w=_.children[0],j=this._resolvePossibleFunction(this._config.extraClass);return j&&w.classList.add(...j.split(" ")),w}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[w,j]of Object.entries(_))super._typeCheckConfig({selector:w,entry:j},Er)}_setContent(_,w,j){const X=xt.findOne(j,_);X&&((w=this._resolvePossibleFunction(w))?u(w)?this._putElementInTemplate(h(w),X):this._config.html?X.innerHTML=this._maybeSanitize(w):X.textContent=w:X.remove())}_maybeSanitize(_){return this._config.sanitize?function(w,j,X){if(!w.length)return w;if(X&&typeof X=="function")return X(w);const J=new window.DOMParser().parseFromString(w,"text/html"),ut=[].concat(...J.body.querySelectorAll("*"));for(const gt of ut){const It=gt.nodeName.toLowerCase();if(!Object.keys(j).includes(It)){gt.remove();continue}const jt=[].concat(...gt.attributes),Ft=[].concat(j["*"]||[],j[It]||[]);for(const Mt of jt)cy(Mt,Ft)||gt.removeAttribute(Mt.nodeName)}return J.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return $(_,[void 0,this])}_putElementInTemplate(_,w){if(this._config.html)return w.innerHTML="",void w.append(_);w.textContent=_.textContent}}const ou=new Set(["sanitize","allowList","sanitizeFn"]),xr="fade",Go="show",Mh=".tooltip-inner",qa=".modal",Ga="hide.bs.modal",Xr="hover",Ko="focus",Ii="click",ns={AUTO:"auto",TOP:"top",RIGHT:R()?"left":"right",BOTTOM:"bottom",LEFT:R()?"right":"left"},Ka={allowList:kh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},wr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class vi extends Dt{constructor(_,w){if(za===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(_,w),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ka}static get DefaultType(){return wr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(qa),Ga,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=P.trigger(this._element,this.constructor.eventName("show")),w=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!w)return;this._disposePopper();const j=this._getTipElement();this._element.setAttribute("aria-describedby",j.getAttribute("id"));const{container:X}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(X.append(j),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(j),j.classList.add(Go),"ontouchstart"in document.documentElement)for(const J of[].concat(...document.body.children))P.on(J,"mouseover",E);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Go),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))P.off(_,"mouseover",E);this._activeTrigger[Ii]=!1,this._activeTrigger[Ko]=!1,this._activeTrigger[Xr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const w=this._getTemplateFactory(_).toHtml();if(!w)return null;w.classList.remove(xr,Go),w.classList.add(`bs-${this.constructor.NAME}-auto`);const j=(X=>{do X+=Math.floor(1e6*Math.random());while(document.getElementById(X));return X})(this.constructor.NAME).toString();return w.setAttribute("id",j),this._isAnimated()&&w.classList.add(xr),w}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new Xf({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Mh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xr)}_isShown(){return this.tip&&this.tip.classList.contains(Go)}_createPopper(_){const w=$(this._config.placement,[this,_,this._element]),j=ns[w.toUpperCase()];return Uo(this._element,_,this._getPopperConfig(j))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(w=>Number.parseInt(w,10)):typeof _=="function"?w=>_(w,this._element):_}_resolvePossibleFunction(_){return $(_,[this._element,this._element])}_getPopperConfig(_){const w={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:j=>{this._getTipElement().setAttribute("data-popper-placement",j.state.placement)}}]};return{...w,...$(this._config.popperConfig,[void 0,w])}}_setListeners(){const _=this._config.trigger.split(" ");for(const w of _)if(w==="click")P.on(this._element,this.constructor.eventName("click"),this._config.selector,j=>{const X=this._initializeOnDelegatedTarget(j);X._activeTrigger[Ii]=!(X._isShown()&&X._activeTrigger[Ii]),X.toggle()});else if(w!=="manual"){const j=w===Xr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),X=w===Xr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,j,this._config.selector,J=>{const ut=this._initializeOnDelegatedTarget(J);ut._activeTrigger[J.type==="focusin"?Ko:Xr]=!0,ut._enter()}),P.on(this._element,X,this._config.selector,J=>{const ut=this._initializeOnDelegatedTarget(J);ut._activeTrigger[J.type==="focusout"?Ko:Xr]=ut._element.contains(J.relatedTarget),ut._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(qa),Ga,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,w){clearTimeout(this._timeout),this._timeout=setTimeout(_,w)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const w=At.getDataAttributes(this._element);for(const j of Object.keys(w))ou.has(j)&&delete w[j];return _={...w,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:h(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const[w,j]of Object.entries(this._config))this.constructor.Default[w]!==j&&(_[w]=j);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const w=vi.getOrCreateInstance(this,_);if(typeof _=="string"){if(w[_]===void 0)throw new TypeError(`No method named "${_}"`);w[_]()}})}}V(vi);const Wa=".popover-header",Qf=".popover-body",Ph={...vi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},jh={...vi.DefaultType,content:"(null|string|element|function)"};class Hn extends vi{static get Default(){return Ph}static get DefaultType(){return jh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Wa]:this._getTitle(),[Qf]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const w=Hn.getOrCreateInstance(this,_);if(typeof _=="string"){if(w[_]===void 0)throw new TypeError(`No method named "${_}"`);w[_]()}})}}V(Hn);const ln=".bs.scrollspy",je=`activate${ln}`,Qr=`click${ln}`,tr=`load${ln}.data-api`,Zr="active",Tr="[href]",Lh=".nav-link",Zf=`${Lh}, .nav-item > ${Lh}, .list-group-item`,uc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},hc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Wo extends Dt{constructor(_,w){super(_,w),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return uc}static get DefaultType(){return hc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=h(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(w=>Number.parseFloat(w))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,Qr),P.on(this._config.target,Qr,Tr,_=>{const w=this._observableSections.get(_.target.hash);if(w){_.preventDefault();const j=this._rootElement||window,X=w.offsetTop-this._element.offsetTop;if(j.scrollTo)return void j.scrollTo({top:X,behavior:"smooth"});j.scrollTop=X}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(w=>this._observerCallback(w),_)}_observerCallback(_){const w=ut=>this._targetLinks.get(`#${ut.target.id}`),j=ut=>{this._previousScrollData.visibleEntryTop=ut.target.offsetTop,this._process(w(ut))},X=(this._rootElement||document.documentElement).scrollTop,J=X>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=X;for(const ut of _){if(!ut.isIntersecting){this._activeTarget=null,this._clearActiveClass(w(ut));continue}const gt=ut.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(J&&gt){if(j(ut),!X)return}else J||gt||j(ut)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=xt.find(Tr,this._config.target);for(const w of _){if(!w.hash||g(w))continue;const j=xt.findOne(decodeURI(w.hash),this._element);f(j)&&(this._targetLinks.set(decodeURI(w.hash),w),this._observableSections.set(w.hash,j))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(Zr),this._activateParents(_),P.trigger(this._element,je,{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))xt.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(Zr);else for(const w of xt.parents(_,".nav, .list-group"))for(const j of xt.prev(w,Zf))j.classList.add(Zr)}_clearActiveClass(_){_.classList.remove(Zr);const w=xt.find(`${Tr}.${Zr}`,_);for(const j of w)j.classList.remove(Zr)}static jQueryInterface(_){return this.each(function(){const w=Wo.getOrCreateInstance(this,_);if(typeof _=="string"){if(w[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);w[_]()}})}}P.on(window,tr,()=>{for(const N of xt.find('[data-bs-spy="scroll"]'))Wo.getOrCreateInstance(N)}),V(Wo);const Ts=".bs.tab",Vh=`hide${Ts}`,Ya=`hidden${Ts}`,Sr=`show${Ts}`,Jr=`shown${Ts}`,Ar=`click${Ts}`,Uh=`keydown${Ts}`,Fh=`load${Ts}`,dc="ArrowLeft",fc="ArrowRight",Xa="ArrowUp",Zn="ArrowDown",Yo="Home",zh="End",Qa="active",Jf="fade",Bh="show",wn=".dropdown-toggle",mc=`:not(${wn})`,Xo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Za=`.nav-link${mc}, .list-group-item${mc}, [role="tab"]${mc}, ${Xo}`,Hh=`.${Qa}[data-bs-toggle="tab"], .${Qa}[data-bs-toggle="pill"], .${Qa}[data-bs-toggle="list"]`;class is extends Dt{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,Uh,w=>this._keydown(w)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const w=this._getActiveElem(),j=w?P.trigger(w,Vh,{relatedTarget:_}):null;P.trigger(_,Sr,{relatedTarget:w}).defaultPrevented||j&&j.defaultPrevented||(this._deactivate(w,_),this._activate(_,w))}_activate(_,w){_&&(_.classList.add(Qa),this._activate(xt.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),P.trigger(_,Jr,{relatedTarget:w})):_.classList.add(Bh)},_,_.classList.contains(Jf)))}_deactivate(_,w){_&&(_.classList.remove(Qa),_.blur(),this._deactivate(xt.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),P.trigger(_,Ya,{relatedTarget:w})):_.classList.remove(Bh)},_,_.classList.contains(Jf)))}_keydown(_){if(![dc,fc,Xa,Zn,Yo,zh].includes(_.key))return;_.stopPropagation(),_.preventDefault();const w=this._getChildren().filter(X=>!g(X));let j;if([Yo,zh].includes(_.key))j=w[_.key===Yo?0:w.length-1];else{const X=[fc,Zn].includes(_.key);j=Q(w,_.target,X,!0)}j&&(j.focus({preventScroll:!0}),is.getOrCreateInstance(j).show())}_getChildren(){return xt.find(Za,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,w){this._setAttributeIfNotExists(_,"role","tablist");for(const j of w)this._setInitialAttributesOnChild(j)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const w=this._elemIsActive(_),j=this._getOuterElement(_);_.setAttribute("aria-selected",w),j!==_&&this._setAttributeIfNotExists(j,"role","presentation"),w||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const w=xt.getElementFromSelector(_);w&&(this._setAttributeIfNotExists(w,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(w,"aria-labelledby",`${_.id}`))}_toggleDropDown(_,w){const j=this._getOuterElement(_);if(!j.classList.contains("dropdown"))return;const X=(J,ut)=>{const gt=xt.findOne(J,j);gt&&gt.classList.toggle(ut,w)};X(wn,Qa),X(".dropdown-menu",Bh),j.setAttribute("aria-expanded",w)}_setAttributeIfNotExists(_,w,j){_.hasAttribute(w)||_.setAttribute(w,j)}_elemIsActive(_){return _.classList.contains(Qa)}_getInnerElement(_){return _.matches(Za)?_:xt.findOne(Za,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const w=is.getOrCreateInstance(this);if(typeof _=="string"){if(w[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);w[_]()}})}}P.on(document,Ar,Xo,function(N){["A","AREA"].includes(this.tagName)&&N.preventDefault(),g(this)||is.getOrCreateInstance(this).show()}),P.on(window,Fh,()=>{for(const N of xt.find(Hh))is.getOrCreateInstance(N)}),V(is);const Wi=".bs.toast",uy=`mouseover${Wi}`,tm=`mouseout${Wi}`,hy=`focusin${Wi}`,em=`focusout${Wi}`,Ja=`hide${Wi}`,$h=`hidden${Wi}`,lu=`show${Wi}`,nm=`shown${Wi}`,Qo="hide",pc="show",to="showing",qh={animation:"boolean",autohide:"boolean",delay:"number"},im={animation:!0,autohide:!0,delay:5e3};class ta extends Dt{constructor(_,w){super(_,w),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return im}static get DefaultType(){return qh}static get NAME(){return"toast"}show(){P.trigger(this._element,lu).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Qo),T(this._element),this._element.classList.add(pc,to),this._queueCallback(()=>{this._element.classList.remove(to),P.trigger(this._element,nm),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,Ja).defaultPrevented||(this._element.classList.add(to),this._queueCallback(()=>{this._element.classList.add(Qo),this._element.classList.remove(to,pc),P.trigger(this._element,$h)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(pc),super.dispose()}isShown(){return this._element.classList.contains(pc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,w){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=w;break;case"focusin":case"focusout":this._hasKeyboardInteraction=w}if(w)return void this._clearTimeout();const j=_.relatedTarget;this._element===j||this._element.contains(j)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,uy,_=>this._onInteraction(_,!0)),P.on(this._element,tm,_=>this._onInteraction(_,!1)),P.on(this._element,hy,_=>this._onInteraction(_,!0)),P.on(this._element,em,_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const w=ta.getOrCreateInstance(this,_);if(typeof _=="string"){if(w[_]===void 0)throw new TypeError(`No method named "${_}"`);w[_](this)}})}}return pe(ta),V(ta),{Alert:Ut,Button:rt,Carousel:mr,Collapse:xn,Dropdown:In,Modal:Yr,Offcanvas:Ri,Popover:Hn,ScrollSpy:Wo,Tab:is,Toast:ta,Tooltip:vi}})}(gp)),gp.exports}KD();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ew="popstate";function WD(n={}){function t(i,s){let{pathname:a,search:l,hash:u}=i.location;return dv("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:nf(s)}return XD(t,e,null,n)}function pn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Pr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YD(){return Math.random().toString(36).substring(2,10)}function nw(n,t){return{usr:n.state,key:n.key,idx:t}}function dv(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?rh(t):t,state:e,key:t&&t.key||i||YD()}}function nf({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function rh(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function XD(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function b(){u="POP";let R=g(),V=R==null?null:R-f;f=R,h&&h({action:u,location:k.location,delta:V})}function E(R,V){u="PUSH";let $=dv(k.location,R,V);f=g()+1;let q=nw($,f),Q=k.createHref($);try{l.pushState(q,"",Q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;s.location.assign(Q)}a&&h&&h({action:u,location:k.location,delta:1})}function T(R,V){u="REPLACE";let $=dv(k.location,R,V);f=g();let q=nw($,f),Q=k.createHref($);l.replaceState(q,"",Q),a&&h&&h({action:u,location:k.location,delta:0})}function C(R){return QD(R)}let k={get action(){return u},get location(){return n(s,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(ew,b),h=R,()=>{s.removeEventListener(ew,b),h=null}},createHref(R){return t(s,R)},createURL:C,encodeLocation(R){let V=C(R);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:T,go(R){return l.go(R)}};return k}function QD(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pn(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:nf(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function kA(n,t,e="/"){return ZD(n,t,e,!1)}function ZD(n,t,e,i){let s=typeof t=="string"?rh(t):t,a=wo(s.pathname||"/",e);if(a==null)return null;let l=OA(n);JD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=uk(a);u=lk(l[h],f,i)}return u}function OA(n,t=[],e=[],i=""){let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(pn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Eo([i,h.relativePath]),g=e.concat(h);a.children&&a.children.length>0&&(pn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OA(a.children,t,g,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:ak(f,a.index),routesMeta:g})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of MA(a.path))s(a,l,u)}),t}function MA(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=MA(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function JD(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:ok(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var tk=/^:[\w-]+$/,ek=3,nk=2,ik=1,sk=10,rk=-2,iw=n=>n==="*";function ak(n,t){let e=n.split("/"),i=e.length;return e.some(iw)&&(i+=rk),t&&(i+=nk),e.filter(s=>!iw(s)).reduce((s,a)=>s+(tk.test(a)?ek:a===""?ik:sk),i)}function ok(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function lk(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,g=a==="/"?t:t.slice(a.length)||"/",b=kp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),E=h.route;if(!b&&f&&e&&!i[i.length-1].route.index&&(b=kp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!b)return null;Object.assign(s,b.params),l.push({params:s,pathname:Eo([a,b.pathname]),pathnameBase:mk(Eo([a,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(a=Eo([a,b.pathnameBase]))}return l}function kp(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=ck(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:b},E)=>{if(g==="*"){let C=u[E]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[E];return b&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function ck(n,t=!1,e=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function uk(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function wo(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function hk(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?rh(n):n;return{pathname:e?e.startsWith("/")?e:dk(e,t):t,search:pk(i),hash:gk(s)}}function dk(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function w_(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fk(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function nb(n){let t=fk(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function ib(n,t,e,i=!1){let s;typeof n=="string"?s=rh(n):(s={...n},pn(!s.pathname||!s.pathname.includes("?"),w_("?","pathname","search",s)),pn(!s.pathname||!s.pathname.includes("#"),w_("#","pathname","hash",s)),pn(!s.search||!s.search.includes("#"),w_("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=e;else{let b=t.length-1;if(!i&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),b-=1;s.pathname=E.join("/")}u=b>=0?t[b]:"/"}let h=hk(s,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Eo=n=>n.join("/").replace(/\/\/+/g,"/"),mk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var PA=["POST","PUT","PATCH","DELETE"];new Set(PA);var _k=["GET",...PA];new Set(_k);var ah=D.createContext(null);ah.displayName="DataRouter";var gg=D.createContext(null);gg.displayName="DataRouterState";D.createContext(!1);var jA=D.createContext({isTransitioning:!1});jA.displayName="ViewTransition";var vk=D.createContext(new Map);vk.displayName="Fetchers";var bk=D.createContext(null);bk.displayName="Await";var Vr=D.createContext(null);Vr.displayName="Navigation";var wf=D.createContext(null);wf.displayName="Location";var Ta=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ta.displayName="Route";var sb=D.createContext(null);sb.displayName="RouteError";function Ek(n,{relative:t}={}){pn(oh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=D.useContext(Vr),{hash:s,pathname:a,search:l}=Tf(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:Eo([e,a])),i.createHref({pathname:u,search:l,hash:s})}function oh(){return D.useContext(wf)!=null}function Sa(){return pn(oh(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(wf).location}var LA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VA(n){D.useContext(Vr).static||D.useLayoutEffect(n)}function lh(){let{isDataRoute:n}=D.useContext(Ta);return n?Mk():xk()}function xk(){pn(oh(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(ah),{basename:t,navigator:e}=D.useContext(Vr),{matches:i}=D.useContext(Ta),{pathname:s}=Sa(),a=JSON.stringify(nb(i)),l=D.useRef(!1);return VA(()=>{l.current=!0}),D.useCallback((h,f={})=>{if(Pr(l.current,LA),!l.current)return;if(typeof h=="number"){e.go(h);return}let g=ib(h,JSON.parse(a),s,f.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Eo([t,g.pathname])),(f.replace?e.replace:e.push)(g,f.state,f)},[t,e,a,s,n])}D.createContext(null);function Tf(n,{relative:t}={}){let{matches:e}=D.useContext(Ta),{pathname:i}=Sa(),s=JSON.stringify(nb(e));return D.useMemo(()=>ib(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function wk(n,t){return UA(n,t)}function UA(n,t,e,i){pn(oh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(Vr),{matches:a}=D.useContext(Ta),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let V=g&&g.path||"";FA(h,!g||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let b=Sa(),E;if(t){let V=typeof t=="string"?rh(t):t;pn(f==="/"||V.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${V.pathname}" was given in the \`location\` prop.`),E=V}else E=b;let T=E.pathname||"/",C=T;if(f!=="/"){let V=f.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(V.length).join("/")}let k=kA(n,{pathname:C});Pr(g||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Pr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Rk(k&&k.map(V=>Object.assign({},V,{params:Object.assign({},u,V.params),pathname:Eo([f,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?f:Eo([f,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),a,e,i);return t&&R?D.createElement(wf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function Tk(){let n=Ok(),t=yk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),e?D.createElement("pre",{style:s},e):null,l)}var Sk=D.createElement(Tk,null),Ak=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?D.createElement(Ta.Provider,{value:this.props.routeContext},D.createElement(sb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ck({routeContext:n,match:t,children:e}){let i=D.useContext(ah);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Ta.Provider,{value:n},e)}function Rk(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e?.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);pn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:b}=e,E=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let b,E=!1,T=null,C=null;e&&(b=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||Sk,l&&(u<0&&g===0?(FA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):u===g&&(E=!0,C=f.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,g+1)),R=()=>{let V;return b?V=T:E?V=C:f.route.Component?V=D.createElement(f.route.Component,null):f.route.element?V=f.route.element:V=h,D.createElement(Ck,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:e!=null},children:V})};return e&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?D.createElement(Ak,{location:e.location,revalidation:e.revalidation,component:T,error:b,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function rb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ik(n){let t=D.useContext(ah);return pn(t,rb(n)),t}function Nk(n){let t=D.useContext(gg);return pn(t,rb(n)),t}function Dk(n){let t=D.useContext(Ta);return pn(t,rb(n)),t}function ab(n){let t=Dk(n),e=t.matches[t.matches.length-1];return pn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function kk(){return ab("useRouteId")}function Ok(){let n=D.useContext(sb),t=Nk("useRouteError"),e=ab("useRouteError");return n!==void 0?n:t.errors?.[e]}function Mk(){let{router:n}=Ik("useNavigate"),t=ab("useNavigate"),e=D.useRef(!1);return VA(()=>{e.current=!0}),D.useCallback(async(s,a={})=>{Pr(e.current,LA),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var sw={};function FA(n,t,e){!t&&!sw[n]&&(sw[n]=!0,Pr(!1,e))}D.memo(Pk);function Pk({routes:n,future:t,state:e}){return UA(n,void 0,e,t)}function zA({to:n,replace:t,state:e,relative:i}){pn(oh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=D.useContext(Vr);Pr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=D.useContext(Ta),{pathname:l}=Sa(),u=lh(),h=ib(n,nb(a),l,i==="path"),f=JSON.stringify(h);return D.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function Nr(n){pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jk({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){pn(!oh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=rh(e));let{pathname:h="/",search:f="",hash:g="",state:b=null,key:E="default"}=e,T=D.useMemo(()=>{let C=wo(h,l);return C==null?null:{location:{pathname:C,search:f,hash:g,state:b,key:E},navigationType:i}},[l,h,f,g,b,E,i]);return Pr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:D.createElement(Vr.Provider,{value:u},D.createElement(wf.Provider,{children:t,value:T}))}function Lk({children:n,location:t}){return wk(fv(n),t)}function fv(n,t=[]){let e=[];return D.Children.forEach(n,(i,s)=>{if(!D.isValidElement(i))return;let a=[...t,s];if(i.type===D.Fragment){e.push.apply(e,fv(i.props.children,a));return}pn(i.type===Nr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=fv(i.props.children,a)),e.push(l)}),e}var yp="get",_p="application/x-www-form-urlencoded";function yg(n){return n!=null&&typeof n.tagName=="string"}function Vk(n){return yg(n)&&n.tagName.toLowerCase()==="button"}function Uk(n){return yg(n)&&n.tagName.toLowerCase()==="form"}function Fk(n){return yg(n)&&n.tagName.toLowerCase()==="input"}function zk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bk(n,t){return n.button===0&&(!t||t==="_self")&&!zk(n)}var qm=null;function Hk(){if(qm===null)try{new FormData(document.createElement("form"),0),qm=!1}catch{qm=!0}return qm}var $k=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T_(n){return n!=null&&!$k.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_p}"`),null):n}function qk(n,t){let e,i,s,a,l;if(Uk(n)){let u=n.getAttribute("action");i=u?wo(u,t):null,e=n.getAttribute("method")||yp,s=T_(n.getAttribute("enctype"))||_p,a=new FormData(n)}else if(Vk(n)||Fk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?wo(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||yp,s=T_(n.getAttribute("formenctype"))||T_(u.getAttribute("enctype"))||_p,a=new FormData(u,n),!Hk()){let{name:f,type:g,value:b}=n;if(g==="image"){let E=f?`${f}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else f&&a.append(f,b)}}else{if(yg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yp,i=null,s=_p,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ob(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Gk(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&wo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function Kk(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Yk(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await Kk(a,e);return l.links?l.links():[]}return[]}));return Jk(i.flat(1).filter(Wk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rw(n,t,e,i,s,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?t.filter((h,f)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Xk(n,t,{includeHydrateFallback:e}={}){return Qk(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Qk(n){return[...new Set(n)]}function Zk(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function Jk(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(Zk(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}function BA(){let n=D.useContext(ah);return ob(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tO(){let n=D.useContext(gg);return ob(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lb=D.createContext(void 0);lb.displayName="FrameworkContext";function HA(){let n=D.useContext(lb);return ob(n,"You must render this element inside a <HydratedRouter> element"),n}function eO(n,t){let e=D.useContext(lb),[i,s]=D.useState(!1),[a,l]=D.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:b}=t,E=D.useRef(null);D.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=V=>{V.forEach($=>{l($.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),D.useEffect(()=>{if(i){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[i]);let T=()=>{s(!0)},C=()=>{s(!1),l(!1)};return e?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Rd(u,T),onBlur:Rd(h,C),onMouseEnter:Rd(f,T),onMouseLeave:Rd(g,C),onTouchStart:Rd(b,T)}]:[!1,E,{}]}function Rd(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function nO({page:n,...t}){let{router:e}=BA(),i=D.useMemo(()=>kA(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?D.createElement(sO,{page:n,matches:i,...t}):null}function iO(n){let{manifest:t,routeModules:e}=HA(),[i,s]=D.useState([]);return D.useEffect(()=>{let a=!1;return Yk(n,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[n,t,e]),i}function sO({page:n,matches:t,...e}){let i=Sa(),{manifest:s,routeModules:a}=HA(),{basename:l}=BA(),{loaderData:u,matches:h}=tO(),f=D.useMemo(()=>rw(n,t,h,s,i,"data"),[n,t,h,s,i]),g=D.useMemo(()=>rw(n,t,h,s,i,"assets"),[n,t,h,s,i]),b=D.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,k=!1;if(t.forEach(V=>{let $=s.routes[V.route.id];!$||!$.hasLoader||(!f.some(q=>q.route.id===V.route.id)&&V.route.id in u&&a[V.route.id]?.shouldRevalidate||$.hasClientLoader?k=!0:C.add(V.route.id))}),C.size===0)return[];let R=Gk(n,l,"data");return k&&C.size>0&&R.searchParams.set("_routes",t.filter(V=>C.has(V.route.id)).map(V=>V.route.id).join(",")),[R.pathname+R.search]},[l,u,i,s,f,t,n,a]),E=D.useMemo(()=>Xk(g,s),[g,s]),T=iO(g);return D.createElement(D.Fragment,null,b.map(C=>D.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...e})),E.map(C=>D.createElement("link",{key:C,rel:"modulepreload",href:C,...e})),T.map(({key:C,link:k})=>D.createElement("link",{key:C,...k})))}function rO(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$A&&(window.__reactRouterVersion="7.7.1")}catch{}function aO({basename:n,children:t,window:e}){let i=D.useRef();i.current==null&&(i.current=WD({window:e,v5Compat:!0}));let s=i.current,[a,l]=D.useState({action:s.action,location:s.location}),u=D.useCallback(h=>{D.startTransition(()=>l(h))},[l]);return D.useLayoutEffect(()=>s.listen(u),[s,u]),D.createElement(jk,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GA=D.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:g,viewTransition:b,...E},T){let{basename:C}=D.useContext(Vr),k=typeof f=="string"&&qA.test(f),R,V=!1;if(typeof f=="string"&&k&&(R=f,$A))try{let O=new URL(window.location.href),F=f.startsWith("//")?new URL(O.protocol+f):new URL(f),H=wo(F.pathname,C);F.origin===O.origin&&H!=null?f=H+F.search+F.hash:V=!0}catch{Pr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Ek(f,{relative:s}),[q,Q,W]=eO(i,E),Z=cO(f,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:b});function U(O){t&&t(O),O.defaultPrevented||Z(O)}let I=D.createElement("a",{...E,...W,href:R||$,onClick:V||a?t:U,ref:rO(T,Q),target:h,"data-discover":!k&&e==="render"?"true":void 0});return q&&!k?D.createElement(D.Fragment,null,I,D.createElement(nO,{page:$})):I});GA.displayName="Link";var uo=D.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...f},g){let b=Tf(l,{relative:f.relative}),E=Sa(),T=D.useContext(gg),{navigator:C,basename:k}=D.useContext(Vr),R=T!=null&&mO(b)&&u===!0,V=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,$=E.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;e||($=$.toLowerCase(),q=q?q.toLowerCase():null,V=V.toLowerCase()),q&&k&&(q=wo(q,k)||q);const Q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let W=$===V||!s&&$.startsWith(V)&&$.charAt(Q)==="/",Z=q!=null&&(q===V||!s&&q.startsWith(V)&&q.charAt(V.length)==="/"),U={isActive:W,isPending:Z,isTransitioning:R},I=W?t:void 0,O;typeof i=="function"?O=i(U):O=[i,W?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(U):a;return D.createElement(GA,{...f,"aria-current":I,className:O,ref:g,style:F,to:l,viewTransition:u},typeof h=="function"?h(U):h)});uo.displayName="NavLink";var oO=D.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:l=yp,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:b,...E},T)=>{let C=dO(),k=fO(u,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&qA.test(u),$=q=>{if(h&&h(q),q.defaultPrevented)return;q.preventDefault();let Q=q.nativeEvent.submitter,W=Q?.getAttribute("formmethod")||l;C(Q||q.currentTarget,{fetcherKey:t,method:W,navigate:e,replace:s,state:a,relative:f,preventScrollReset:g,viewTransition:b})};return D.createElement("form",{ref:T,method:R,action:k,onSubmit:i?h:$,...E,"data-discover":!V&&n==="render"?"true":void 0})});oO.displayName="Form";function lO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(n){let t=D.useContext(ah);return pn(t,lO(n)),t}function cO(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=lh(),h=Sa(),f=Tf(n,{relative:a});return D.useCallback(g=>{if(Bk(g,t)){g.preventDefault();let b=e!==void 0?e:nf(h)===nf(f);u(n,{replace:b,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,f,e,i,t,n,s,a,l])}var uO=0,hO=()=>`__${String(++uO)}__`;function dO(){let{router:n}=KA("useSubmit"),{basename:t}=D.useContext(Vr),e=kk();return D.useCallback(async(i,s={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=qk(i,t);if(s.navigate===!1){let g=s.fetcherKey||hO();await n.fetch(g,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function fO(n,{relative:t}={}){let{basename:e}=D.useContext(Vr),i=D.useContext(Ta);pn(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Tf(n||".",{relative:t})},l=Sa();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(b=>b).forEach(b=>u.append("index",b));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:Eo([e,a.pathname])),nf(a)}function mO(n,{relative:t}={}){let e=D.useContext(jA);pn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KA("useViewTransitionState"),s=Tf(n,{relative:t});if(!e.isTransitioning)return!1;let a=wo(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=wo(e.nextLocation.pathname,i)||e.nextLocation.pathname;return kp(s.pathname,l)!=null||kp(s.pathname,a)!=null}var pO=DA();const Fu=xf(pO),gO=()=>{};var aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},yO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[e++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[e++],l=n[e++],u=n[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},YA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=a>>2,b=(a&3)<<4|u>>4;let E=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(E=64)),i.push(e[g],e[b],e[E],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(WA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):yO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const f=s<n.length?e[n.charAt(s)]:64;++s;const b=s<n.length?e[n.charAt(s)]:64;if(++s,a==null||u==null||f==null||b==null)throw new _O;const E=a<<2|u>>4;if(i.push(E),f!==64){const T=u<<4&240|f>>2;if(i.push(T),b!==64){const C=f<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vO=function(n){const t=WA(n);return YA.encodeByteArray(t,!0)},Op=function(n){return vO(n).replace(/\./g,"")},XA=function(n){try{return YA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=()=>bO().__FIREBASE_DEFAULTS__,xO=()=>{if(typeof process>"u"||typeof aw>"u")return;const n=aw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&XA(n[1]);return t&&JSON.parse(t)},_g=()=>{try{return gO()||EO()||xO()||wO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QA=n=>_g()?.emulatorHosts?.[n],ZA=n=>{const t=QA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},JA=()=>_g()?.config,tC=n=>_g()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Op(JSON.stringify(e)),Op(JSON.stringify(l)),""].join(".")}const qd={};function SO(){const n={prod:[],emulator:[]};for(const t of Object.keys(qd))qd[t]?n.emulator.push(t):n.prod.push(t);return n}function AO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ow=!1;function ub(n,t){if(typeof window>"u"||typeof document>"u"||!zc(window.location.host)||qd[n]===t||qd[n]||ow)return;qd[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=SO().prod.length>0;function l(){const E=document.getElementById(i);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ow=!0,l()},E}function g(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=AO(i),T=e("text"),C=document.getElementById(T)||document.createElement("span"),k=e("learnmore"),R=document.getElementById(k)||document.createElement("a"),V=e("preprendIcon"),$=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;u(q),g(R,k);const Q=f();h($,V),q.append($,C,R,Q),document.body.appendChild(q)}a?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function RO(){const n=_g()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DO(){const n=Ui();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!RO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iC(){try{return typeof indexedDB=="object"}catch{return!1}}function sC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}function OO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="FirebaseError";class dr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=MO,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?PO(a,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new dr(s,u,i)}}function PO(n,t){return n.replace(jO,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const jO=/\{\$([^}]+)}/g;function LO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function kl(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const a=n[s],l=t[s];if(lw(a)&&lw(l)){if(!kl(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function lw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function jd(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Ld(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function VO(n,t){const e=new UO(n,t);return e.subscribe.bind(e)}class UO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");FO(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=S_),s.error===void 0&&(s.error=S_),s.complete===void 0&&(s.complete=S_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function S_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1e3,BO=2,HO=14400*1e3,$O=.5;function cw(n,t=zO,e=BO){const i=t*Math.pow(e,n),s=Math.round($O*i*(Math.random()-.5)*2);return Math.min(HO,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n){return n&&n._delegate?n._delegate:n}class ur{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qO=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new TO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KO(t))try{this.getOrInitializeService({instanceIdentifier:Tc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=Tc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tc){return this.instances.has(t)}getOptions(t=Tc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(s)}return s}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Tc){return this.component?this.component.multipleInstances?t:Tc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GO(n){return n===Tc?void 0:n}function KO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new qO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Se||(Se={}));const YO={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},XO=Se.INFO,QO={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},ZO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=QO[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vg{constructor(t){this.name=t,this._logLevel=XO,this._logHandler=ZO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const JO=(n,t)=>t.some(e=>n instanceof e);let uw,hw;function tM(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eM(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rC=new WeakMap,mv=new WeakMap,aC=new WeakMap,A_=new WeakMap,hb=new WeakMap;function nM(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(Sl(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&rC.set(e,n)}).catch(()=>{}),hb.set(t,n),t}function iM(n){if(mv.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});mv.set(n,t)}let pv={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return mv.get(n);if(t==="objectStoreNames")return n.objectStoreNames||aC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Sl(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function sM(n){pv=n(pv)}function rM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(C_(this),t,...e);return aC.set(i,t.sort?t.sort():[t]),Sl(i)}:eM().includes(n)?function(...t){return n.apply(C_(this),t),Sl(rC.get(this))}:function(...t){return Sl(n.apply(C_(this),t))}}function aM(n){return typeof n=="function"?rM(n):(n instanceof IDBTransaction&&iM(n),JO(n,tM())?new Proxy(n,pv):n)}function Sl(n){if(n instanceof IDBRequest)return nM(n);if(A_.has(n))return A_.get(n);const t=aM(n);return t!==n&&(A_.set(n,t),hb.set(t,n)),t}const C_=n=>hb.get(n);function oC(n,t,{blocked:e,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,t),u=Sl(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Sl(l.result),h.oldVersion,h.newVersion,Sl(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const oM=["get","getKey","getAll","getAllKeys","count"],lM=["put","add","delete","clear"],R_=new Map;function dw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(R_.get(t))return R_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=lM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||oM.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),s&&h.done]))[0]};return R_.set(t,a),a}sM(n=>({...n,get:(t,e,i)=>dw(t,e)||n.get(t,e,i),has:(t,e)=>!!dw(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(uM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function uM(n){return n.getComponent()?.type==="VERSION"}const gv="@firebase/app",fw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new vg("@firebase/app"),hM="@firebase/app-compat",dM="@firebase/analytics-compat",fM="@firebase/analytics",mM="@firebase/app-check-compat",pM="@firebase/app-check",gM="@firebase/auth",yM="@firebase/auth-compat",_M="@firebase/database",vM="@firebase/data-connect",bM="@firebase/database-compat",EM="@firebase/functions",xM="@firebase/functions-compat",wM="@firebase/installations",TM="@firebase/installations-compat",SM="@firebase/messaging",AM="@firebase/messaging-compat",CM="@firebase/performance",RM="@firebase/performance-compat",IM="@firebase/remote-config",NM="@firebase/remote-config-compat",DM="@firebase/storage",kM="@firebase/storage-compat",OM="@firebase/firestore",MM="@firebase/ai",PM="@firebase/firestore-compat",jM="firebase",LM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="[DEFAULT]",VM={[gv]:"fire-core",[hM]:"fire-core-compat",[fM]:"fire-analytics",[dM]:"fire-analytics-compat",[pM]:"fire-app-check",[mM]:"fire-app-check-compat",[gM]:"fire-auth",[yM]:"fire-auth-compat",[_M]:"fire-rtdb",[vM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[EM]:"fire-fn",[xM]:"fire-fn-compat",[wM]:"fire-iid",[TM]:"fire-iid-compat",[SM]:"fire-fcm",[AM]:"fire-fcm-compat",[CM]:"fire-perf",[RM]:"fire-perf-compat",[IM]:"fire-rc",[NM]:"fire-rc-compat",[DM]:"fire-gcs",[kM]:"fire-gcs-compat",[OM]:"fire-fst",[PM]:"fire-fst-compat",[MM]:"fire-vertex","fire-js":"fire-js",[jM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Map,UM=new Map,_v=new Map;function mw(n,t){try{n.container.addComponent(t)}catch(e){To.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function jr(n){const t=n.name;if(_v.has(t))return To.debug(`There were multiple attempts to register component ${t}.`),!1;_v.set(t,n);for(const e of Mp.values())mw(e,n);for(const e of UM.values())mw(e,n);return!0}function zl(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ar(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Al=new Bc("app","Firebase",FM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=LM;function lC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:yv,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Al.create("bad-app-name",{appName:String(s)});if(e||(e=JA()),!e)throw Al.create("no-options");const a=Mp.get(s);if(a){if(kl(e,a.options)&&kl(i,a.config))return a;throw Al.create("duplicate-app",{appName:s})}const l=new WO(s);for(const h of _v.values())l.addComponent(h);const u=new zM(e,i,l);return Mp.set(s,u),u}function bg(n=yv){const t=Mp.get(n);if(!t&&n===yv&&JA())return lC();if(!t)throw Al.create("no-app",{appName:n});return t}function fs(n,t,e){let i=VM[n]??n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),To.warn(l.join(" "));return}jr(new ur(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firebase-heartbeat-database",HM=1,sf="firebase-heartbeat-store";let I_=null;function cC(){return I_||(I_=oC(BM,HM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(sf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Al.create("idb-open",{originalErrorMessage:n.message})})),I_}async function $M(n){try{const e=(await cC()).transaction(sf),i=await e.objectStore(sf).get(uC(n));return await e.done,i}catch(t){if(t instanceof dr)To.warn(t.message);else{const e=Al.create("idb-get",{originalErrorMessage:t?.message});To.warn(e.message)}}}async function pw(n,t){try{const i=(await cC()).transaction(sf,"readwrite");await i.objectStore(sf).put(t,uC(n)),await i.done}catch(e){if(e instanceof dr)To.warn(e.message);else{const i=Al.create("idb-set",{originalErrorMessage:e?.message});To.warn(i.message)}}}function uC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=1024,GM=30;class KM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new YM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>GM){const s=XM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){To.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gw(),{heartbeatsToSend:e,unsentEntries:i}=WM(this._heartbeatsCache.heartbeats),s=Op(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return To.warn(t),""}}}function gw(){return new Date().toISOString().substring(0,10)}function WM(n,t=qM){const e=[];let i=n.slice();for(const s of n){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),yw(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),yw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class YM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iC()?sC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await $M(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return pw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return pw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function yw(n){return Op(JSON.stringify({version:2,heartbeats:n})).length}function XM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){jr(new ur("platform-logger",t=>new cM(t),"PRIVATE")),jr(new ur("heartbeat",t=>new KM(t),"PRIVATE")),fs(gv,fw,n),fs(gv,fw,"esm2020"),fs("fire-js","")}QM("");var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cl,hC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(U,I){function O(){}O.prototype=I.prototype,U.D=I.prototype,U.prototype=new O,U.prototype.constructor=U,U.C=function(F,H,B){for(var z=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)z[kt-2]=arguments[kt];return I.prototype[H].apply(F,z)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,I,O){O||(O=0);var F=Array(16);if(typeof I=="string")for(var H=0;16>H;++H)F[H]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(H=0;16>H;++H)F[H]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=U.g[0],O=U.g[1],H=U.g[2];var B=U.g[3],z=I+(B^O&(H^B))+F[0]+3614090360&4294967295;I=O+(z<<7&4294967295|z>>>25),z=B+(H^I&(O^H))+F[1]+3905402710&4294967295,B=I+(z<<12&4294967295|z>>>20),z=H+(O^B&(I^O))+F[2]+606105819&4294967295,H=B+(z<<17&4294967295|z>>>15),z=O+(I^H&(B^I))+F[3]+3250441966&4294967295,O=H+(z<<22&4294967295|z>>>10),z=I+(B^O&(H^B))+F[4]+4118548399&4294967295,I=O+(z<<7&4294967295|z>>>25),z=B+(H^I&(O^H))+F[5]+1200080426&4294967295,B=I+(z<<12&4294967295|z>>>20),z=H+(O^B&(I^O))+F[6]+2821735955&4294967295,H=B+(z<<17&4294967295|z>>>15),z=O+(I^H&(B^I))+F[7]+4249261313&4294967295,O=H+(z<<22&4294967295|z>>>10),z=I+(B^O&(H^B))+F[8]+1770035416&4294967295,I=O+(z<<7&4294967295|z>>>25),z=B+(H^I&(O^H))+F[9]+2336552879&4294967295,B=I+(z<<12&4294967295|z>>>20),z=H+(O^B&(I^O))+F[10]+4294925233&4294967295,H=B+(z<<17&4294967295|z>>>15),z=O+(I^H&(B^I))+F[11]+2304563134&4294967295,O=H+(z<<22&4294967295|z>>>10),z=I+(B^O&(H^B))+F[12]+1804603682&4294967295,I=O+(z<<7&4294967295|z>>>25),z=B+(H^I&(O^H))+F[13]+4254626195&4294967295,B=I+(z<<12&4294967295|z>>>20),z=H+(O^B&(I^O))+F[14]+2792965006&4294967295,H=B+(z<<17&4294967295|z>>>15),z=O+(I^H&(B^I))+F[15]+1236535329&4294967295,O=H+(z<<22&4294967295|z>>>10),z=I+(H^B&(O^H))+F[1]+4129170786&4294967295,I=O+(z<<5&4294967295|z>>>27),z=B+(O^H&(I^O))+F[6]+3225465664&4294967295,B=I+(z<<9&4294967295|z>>>23),z=H+(I^O&(B^I))+F[11]+643717713&4294967295,H=B+(z<<14&4294967295|z>>>18),z=O+(B^I&(H^B))+F[0]+3921069994&4294967295,O=H+(z<<20&4294967295|z>>>12),z=I+(H^B&(O^H))+F[5]+3593408605&4294967295,I=O+(z<<5&4294967295|z>>>27),z=B+(O^H&(I^O))+F[10]+38016083&4294967295,B=I+(z<<9&4294967295|z>>>23),z=H+(I^O&(B^I))+F[15]+3634488961&4294967295,H=B+(z<<14&4294967295|z>>>18),z=O+(B^I&(H^B))+F[4]+3889429448&4294967295,O=H+(z<<20&4294967295|z>>>12),z=I+(H^B&(O^H))+F[9]+568446438&4294967295,I=O+(z<<5&4294967295|z>>>27),z=B+(O^H&(I^O))+F[14]+3275163606&4294967295,B=I+(z<<9&4294967295|z>>>23),z=H+(I^O&(B^I))+F[3]+4107603335&4294967295,H=B+(z<<14&4294967295|z>>>18),z=O+(B^I&(H^B))+F[8]+1163531501&4294967295,O=H+(z<<20&4294967295|z>>>12),z=I+(H^B&(O^H))+F[13]+2850285829&4294967295,I=O+(z<<5&4294967295|z>>>27),z=B+(O^H&(I^O))+F[2]+4243563512&4294967295,B=I+(z<<9&4294967295|z>>>23),z=H+(I^O&(B^I))+F[7]+1735328473&4294967295,H=B+(z<<14&4294967295|z>>>18),z=O+(B^I&(H^B))+F[12]+2368359562&4294967295,O=H+(z<<20&4294967295|z>>>12),z=I+(O^H^B)+F[5]+4294588738&4294967295,I=O+(z<<4&4294967295|z>>>28),z=B+(I^O^H)+F[8]+2272392833&4294967295,B=I+(z<<11&4294967295|z>>>21),z=H+(B^I^O)+F[11]+1839030562&4294967295,H=B+(z<<16&4294967295|z>>>16),z=O+(H^B^I)+F[14]+4259657740&4294967295,O=H+(z<<23&4294967295|z>>>9),z=I+(O^H^B)+F[1]+2763975236&4294967295,I=O+(z<<4&4294967295|z>>>28),z=B+(I^O^H)+F[4]+1272893353&4294967295,B=I+(z<<11&4294967295|z>>>21),z=H+(B^I^O)+F[7]+4139469664&4294967295,H=B+(z<<16&4294967295|z>>>16),z=O+(H^B^I)+F[10]+3200236656&4294967295,O=H+(z<<23&4294967295|z>>>9),z=I+(O^H^B)+F[13]+681279174&4294967295,I=O+(z<<4&4294967295|z>>>28),z=B+(I^O^H)+F[0]+3936430074&4294967295,B=I+(z<<11&4294967295|z>>>21),z=H+(B^I^O)+F[3]+3572445317&4294967295,H=B+(z<<16&4294967295|z>>>16),z=O+(H^B^I)+F[6]+76029189&4294967295,O=H+(z<<23&4294967295|z>>>9),z=I+(O^H^B)+F[9]+3654602809&4294967295,I=O+(z<<4&4294967295|z>>>28),z=B+(I^O^H)+F[12]+3873151461&4294967295,B=I+(z<<11&4294967295|z>>>21),z=H+(B^I^O)+F[15]+530742520&4294967295,H=B+(z<<16&4294967295|z>>>16),z=O+(H^B^I)+F[2]+3299628645&4294967295,O=H+(z<<23&4294967295|z>>>9),z=I+(H^(O|~B))+F[0]+4096336452&4294967295,I=O+(z<<6&4294967295|z>>>26),z=B+(O^(I|~H))+F[7]+1126891415&4294967295,B=I+(z<<10&4294967295|z>>>22),z=H+(I^(B|~O))+F[14]+2878612391&4294967295,H=B+(z<<15&4294967295|z>>>17),z=O+(B^(H|~I))+F[5]+4237533241&4294967295,O=H+(z<<21&4294967295|z>>>11),z=I+(H^(O|~B))+F[12]+1700485571&4294967295,I=O+(z<<6&4294967295|z>>>26),z=B+(O^(I|~H))+F[3]+2399980690&4294967295,B=I+(z<<10&4294967295|z>>>22),z=H+(I^(B|~O))+F[10]+4293915773&4294967295,H=B+(z<<15&4294967295|z>>>17),z=O+(B^(H|~I))+F[1]+2240044497&4294967295,O=H+(z<<21&4294967295|z>>>11),z=I+(H^(O|~B))+F[8]+1873313359&4294967295,I=O+(z<<6&4294967295|z>>>26),z=B+(O^(I|~H))+F[15]+4264355552&4294967295,B=I+(z<<10&4294967295|z>>>22),z=H+(I^(B|~O))+F[6]+2734768916&4294967295,H=B+(z<<15&4294967295|z>>>17),z=O+(B^(H|~I))+F[13]+1309151649&4294967295,O=H+(z<<21&4294967295|z>>>11),z=I+(H^(O|~B))+F[4]+4149444226&4294967295,I=O+(z<<6&4294967295|z>>>26),z=B+(O^(I|~H))+F[11]+3174756917&4294967295,B=I+(z<<10&4294967295|z>>>22),z=H+(I^(B|~O))+F[2]+718787259&4294967295,H=B+(z<<15&4294967295|z>>>17),z=O+(B^(H|~I))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+I&4294967295,U.g[1]=U.g[1]+(H+(z<<21&4294967295|z>>>11))&4294967295,U.g[2]=U.g[2]+H&4294967295,U.g[3]=U.g[3]+B&4294967295}i.prototype.u=function(U,I){I===void 0&&(I=U.length);for(var O=I-this.blockSize,F=this.B,H=this.h,B=0;B<I;){if(H==0)for(;B<=O;)s(this,U,B),B+=this.blockSize;if(typeof U=="string"){for(;B<I;)if(F[H++]=U.charCodeAt(B++),H==this.blockSize){s(this,F),H=0;break}}else for(;B<I;)if(F[H++]=U[B++],H==this.blockSize){s(this,F),H=0;break}}this.h=H,this.o+=I},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var I=1;I<U.length-8;++I)U[I]=0;var O=8*this.o;for(I=U.length-8;I<U.length;++I)U[I]=O&255,O/=256;for(this.u(U),U=Array(16),I=O=0;4>I;++I)for(var F=0;32>F;F+=8)U[O++]=this.g[I]>>>F&255;return U};function a(U,I){var O=u;return Object.prototype.hasOwnProperty.call(O,U)?O[U]:O[U]=I(U)}function l(U,I){this.h=I;for(var O=[],F=!0,H=U.length-1;0<=H;H--){var B=U[H]|0;F&&B==I||(O[H]=B,F=!1)}this.g=O}var u={};function h(U){return-128<=U&&128>U?a(U,function(I){return new l([I|0],0>I?-1:0)}):new l([U|0],0>U?-1:0)}function f(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return R(f(-U));for(var I=[],O=1,F=0;U>=O;F++)I[F]=U/O|0,O*=4294967296;return new l(I,0)}function g(U,I){if(U.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U.charAt(0)=="-")return R(g(U.substring(1),I));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(I,8)),F=b,H=0;H<U.length;H+=8){var B=Math.min(8,U.length-H),z=parseInt(U.substring(H,H+B),I);8>B?(B=f(Math.pow(I,B)),F=F.j(B).add(f(z))):(F=F.j(O),F=F.add(f(z)))}return F}var b=h(0),E=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(k(this))return-R(this).m();for(var U=0,I=1,O=0;O<this.g.length;O++){var F=this.i(O);U+=(0<=F?F:4294967296+F)*I,I*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(C(this))return"0";if(k(this))return"-"+R(this).toString(U);for(var I=f(Math.pow(U,6)),O=this,F="";;){var H=Q(O,I).g;O=V(O,H.j(I));var B=((0<O.g.length?O.g[0]:O.h)>>>0).toString(U);if(O=H,C(O))return B+F;for(;6>B.length;)B="0"+B;F=B+F}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function C(U){if(U.h!=0)return!1;for(var I=0;I<U.g.length;I++)if(U.g[I]!=0)return!1;return!0}function k(U){return U.h==-1}n.l=function(U){return U=V(this,U),k(U)?-1:C(U)?0:1};function R(U){for(var I=U.g.length,O=[],F=0;F<I;F++)O[F]=~U.g[F];return new l(O,~U.h).add(E)}n.abs=function(){return k(this)?R(this):this},n.add=function(U){for(var I=Math.max(this.g.length,U.g.length),O=[],F=0,H=0;H<=I;H++){var B=F+(this.i(H)&65535)+(U.i(H)&65535),z=(B>>>16)+(this.i(H)>>>16)+(U.i(H)>>>16);F=z>>>16,B&=65535,z&=65535,O[H]=z<<16|B}return new l(O,O[O.length-1]&-2147483648?-1:0)};function V(U,I){return U.add(R(I))}n.j=function(U){if(C(this)||C(U))return b;if(k(this))return k(U)?R(this).j(R(U)):R(R(this).j(U));if(k(U))return R(this.j(R(U)));if(0>this.l(T)&&0>U.l(T))return f(this.m()*U.m());for(var I=this.g.length+U.g.length,O=[],F=0;F<2*I;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(var H=0;H<U.g.length;H++){var B=this.i(F)>>>16,z=this.i(F)&65535,kt=U.i(H)>>>16,pt=U.i(H)&65535;O[2*F+2*H]+=z*pt,$(O,2*F+2*H),O[2*F+2*H+1]+=B*pt,$(O,2*F+2*H+1),O[2*F+2*H+1]+=z*kt,$(O,2*F+2*H+1),O[2*F+2*H+2]+=B*kt,$(O,2*F+2*H+2)}for(F=0;F<I;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=I;F<2*I;F++)O[F]=0;return new l(O,0)};function $(U,I){for(;(U[I]&65535)!=U[I];)U[I+1]+=U[I]>>>16,U[I]&=65535,I++}function q(U,I){this.g=U,this.h=I}function Q(U,I){if(C(I))throw Error("division by zero");if(C(U))return new q(b,b);if(k(U))return I=Q(R(U),I),new q(R(I.g),R(I.h));if(k(I))return I=Q(U,R(I)),new q(R(I.g),I.h);if(30<U.g.length){if(k(U)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var O=E,F=I;0>=F.l(U);)O=W(O),F=W(F);var H=Z(O,1),B=Z(F,1);for(F=Z(F,2),O=Z(O,2);!C(F);){var z=B.add(F);0>=z.l(U)&&(H=H.add(O),B=z),F=Z(F,1),O=Z(O,1)}return I=V(U,H.j(I)),new q(H,I)}for(H=b;0<=U.l(I);){for(O=Math.max(1,Math.floor(U.m()/I.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),B=f(O),z=B.j(I);k(z)||0<z.l(U);)O-=F,B=f(O),z=B.j(I);C(B)&&(B=E),H=H.add(B),U=V(U,z)}return new q(H,U)}n.A=function(U){return Q(this,U).h},n.and=function(U){for(var I=Math.max(this.g.length,U.g.length),O=[],F=0;F<I;F++)O[F]=this.i(F)&U.i(F);return new l(O,this.h&U.h)},n.or=function(U){for(var I=Math.max(this.g.length,U.g.length),O=[],F=0;F<I;F++)O[F]=this.i(F)|U.i(F);return new l(O,this.h|U.h)},n.xor=function(U){for(var I=Math.max(this.g.length,U.g.length),O=[],F=0;F<I;F++)O[F]=this.i(F)^U.i(F);return new l(O,this.h^U.h)};function W(U){for(var I=U.g.length+1,O=[],F=0;F<I;F++)O[F]=U.i(F)<<1|U.i(F-1)>>>31;return new l(O,U.h)}function Z(U,I){var O=I>>5;I%=32;for(var F=U.g.length-O,H=[],B=0;B<F;B++)H[B]=0<I?U.i(B+O)>>>I|U.i(B+O+1)<<32-I:U.i(B+O);return new l(H,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,hC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Cl=l}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dC,Vd,fC,vp,vv,mC,pC,gC;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,S){return m==Array.prototype||m==Object.prototype||(m[x]=S.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gm=="object"&&Gm];for(var x=0;x<m.length;++x){var S=m[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function s(m,x){if(x)t:{var S=i;m=m.split(".");for(var L=0;L<m.length-1;L++){var et=m[L];if(!(et in S))break t;S=S[et]}m=m[m.length-1],L=S[m],x=x(L),x!=L&&x!=null&&t(S,m,{configurable:!0,writable:!0,value:x})}}function a(m,x){m instanceof String&&(m+="");var S=0,L=!1,et={next:function(){if(!L&&S<m.length){var ct=S++;return{value:x(ct,m[ct]),done:!1}}return L=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}s("Array.prototype.values",function(m){return m||function(){return a(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function f(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function g(m,x,S){return m.call.apply(m.bind,arguments)}function b(m,x,S){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,L),m.apply(x,et)}}return function(){return m.apply(x,arguments)}}function E(m,x,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,E.apply(null,arguments)}function T(m,x){var S=Array.prototype.slice.call(arguments,1);return function(){var L=S.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function C(m,x){function S(){}S.prototype=x.prototype,m.aa=x.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(L,et,ct){for(var Nt=Array(arguments.length-2),we=2;we<arguments.length;we++)Nt[we-2]=arguments[we];return x.prototype[et].apply(L,Nt)}}function k(m){const x=m.length;if(0<x){const S=Array(x);for(let L=0;L<x;L++)S[L]=m[L];return S}return[]}function R(m,x){for(let S=1;S<arguments.length;S++){const L=arguments[S];if(h(L)){const et=m.length||0,ct=L.length||0;m.length=et+ct;for(let Nt=0;Nt<ct;Nt++)m[et+Nt]=L[Nt]}else m.push(L)}}class V{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function $(m){return/^[\s\xa0]*$/.test(m)}function q(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function Q(m){return Q[" "](m),m}Q[" "]=function(){};var W=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Z(m,x,S){for(const L in m)x.call(S,m[L],L,m)}function U(m,x){for(const S in m)x.call(void 0,m[S],S,m)}function I(m){const x={};for(const S in m)x[S]=m[S];return x}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,x){let S,L;for(let et=1;et<arguments.length;et++){L=arguments[et];for(S in L)m[S]=L[S];for(let ct=0;ct<O.length;ct++)S=O[ct],Object.prototype.hasOwnProperty.call(L,S)&&(m[S]=L[S])}}function H(m){var x=1;m=m.split(":");const S=[];for(;0<x&&m.length;)S.push(m.shift()),x--;return m.length&&S.push(m.join(":")),S}function B(m){u.setTimeout(()=>{throw m},0)}function z(){var m=Ot;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class kt{constructor(){this.h=this.g=null}add(x,S){const L=pt.get();L.set(x,S),this.h?this.h.next=L:this.g=L,this.h=L}}var pt=new V(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,_t=!1,Ot=new kt,P=()=>{const m=u.Promise.resolve(void 0);nt=()=>{m.then(ht)}};var ht=()=>{for(var m;m=z();){try{m.h.call(m.g)}catch(S){B(S)}var x=pt;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}_t=!1};function Et(){this.s=this.s,this.C=this.C}Et.prototype.s=!1,Et.prototype.ma=function(){this.s||(this.s=!0,this.N())},Et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};u.addEventListener("test",S,x),u.removeEventListener("test",S,x)}catch{}return m}();function Lt(m,x){if(ft.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(W){t:{try{Q(x.nodeName);var et=!0;break t}catch{}et=!1}et||(x=null)}}else S=="mouseover"?x=m.fromElement:S=="mouseout"&&(x=m.toElement);this.relatedTarget=x,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Dt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Lt.aa.h.call(this)}}C(Lt,ft);var Dt={2:"touch",3:"pen",4:"mouse"};Lt.prototype.h=function(){Lt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),xt=0;function pe(m,x,S,L,et){this.listener=m,this.proxy=null,this.src=x,this.type=S,this.capture=!!L,this.ha=et,this.key=++xt,this.da=this.fa=!1}function Tt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function lt(m){this.src=m,this.g={},this.h=0}lt.prototype.add=function(m,x,S,L,et){var ct=m.toString();m=this.g[ct],m||(m=this.g[ct]=[],this.h++);var Nt=Ut(m,x,L,et);return-1<Nt?(x=m[Nt],S||(x.fa=!1)):(x=new pe(x,this.src,ct,!!L,et),x.fa=S,m.push(x)),x};function Rt(m,x){var S=x.type;if(S in m.g){var L=m.g[S],et=Array.prototype.indexOf.call(L,x,void 0),ct;(ct=0<=et)&&Array.prototype.splice.call(L,et,1),ct&&(Tt(x),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Ut(m,x,S,L){for(var et=0;et<m.length;++et){var ct=m[et];if(!ct.da&&ct.listener==x&&ct.capture==!!S&&ct.ha==L)return et}return-1}var me="closure_lm_"+(1e6*Math.random()|0),rt={};function Ct(m,x,S,L,et){if(Array.isArray(x)){for(var ct=0;ct<x.length;ct++)Ct(m,x[ct],S,L,et);return null}return S=dt(S),m&&m[Bt]?m.K(x,S,f(L)?!!L.capture:!1,et):St(m,x,S,!1,L,et)}function St(m,x,S,L,et,ct){if(!x)throw Error("Invalid event type");var Nt=f(et)?!!et.capture:!!et,we=Ps(m);if(we||(m[me]=we=new lt(m)),S=we.add(x,S,L,Nt,ct),S.proxy)return S;if(L=Wt(),S.proxy=L,L.src=m,L.listener=S,m.addEventListener)At||(et=Nt),et===void 0&&(et=!1),m.addEventListener(x.toString(),L,et);else if(m.attachEvent)m.attachEvent(ze(x.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Wt(){function m(S){return x.call(m.src,m.listener,S)}const x=mi;return m}function ge(m,x,S,L,et){if(Array.isArray(x))for(var ct=0;ct<x.length;ct++)ge(m,x[ct],S,L,et);else L=f(L)?!!L.capture:!!L,S=dt(S),m&&m[Bt]?(m=m.i,x=String(x).toString(),x in m.g&&(ct=m.g[x],S=Ut(ct,S,L,et),-1<S&&(Tt(ct[S]),Array.prototype.splice.call(ct,S,1),ct.length==0&&(delete m.g[x],m.h--)))):m&&(m=Ps(m))&&(x=m.g[x.toString()],m=-1,x&&(m=Ut(x,S,L,et)),(S=-1<m?x[m]:null)&&Ie(S))}function Ie(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[Bt])Rt(x.i,m);else{var S=m.type,L=m.proxy;x.removeEventListener?x.removeEventListener(S,L,m.capture):x.detachEvent?x.detachEvent(ze(S),L):x.addListener&&x.removeListener&&x.removeListener(L),(S=Ps(x))?(Rt(S,m),S.h==0&&(S.src=null,x[me]=null)):Tt(m)}}}function ze(m){return m in rt?rt[m]:rt[m]="on"+m}function mi(m,x){if(m.da)m=!0;else{x=new Lt(x,this);var S=m.listener,L=m.ha||m.src;m.fa&&Ie(m),m=S.call(L,x)}return m}function Ps(m){return m=m[me],m instanceof lt?m:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(m){return typeof m=="function"?m:(m[zi]||(m[zi]=function(x){return m.handleEvent(x)}),m[zi])}function Vt(){Et.call(this),this.i=new lt(this),this.M=this,this.F=null}C(Vt,Et),Vt.prototype[Bt]=!0,Vt.prototype.removeEventListener=function(m,x,S,L){ge(this,m,x,S,L)};function $t(m,x){var S,L=m.F;if(L)for(S=[];L;L=L.F)S.push(L);if(m=m.M,L=x.type||x,typeof x=="string")x=new ft(x,m);else if(x instanceof ft)x.target=x.target||m;else{var et=x;x=new ft(L,m),F(x,et)}if(et=!0,S)for(var ct=S.length-1;0<=ct;ct--){var Nt=x.g=S[ct];et=De(Nt,L,!0,x)&&et}if(Nt=x.g=m,et=De(Nt,L,!0,x)&&et,et=De(Nt,L,!1,x)&&et,S)for(ct=0;ct<S.length;ct++)Nt=x.g=S[ct],et=De(Nt,L,!1,x)&&et}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var S=m.g[x],L=0;L<S.length;L++)Tt(S[L]);delete m.g[x],m.h--}}this.F=null},Vt.prototype.K=function(m,x,S,L){return this.i.add(String(m),x,!1,S,L)},Vt.prototype.L=function(m,x,S,L){return this.i.add(String(m),x,!0,S,L)};function De(m,x,S,L){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var et=!0,ct=0;ct<x.length;++ct){var Nt=x[ct];if(Nt&&!Nt.da&&Nt.capture==S){var we=Nt.listener,Cn=Nt.ha||Nt.src;Nt.fa&&Rt(m.i,Nt),et=we.call(Cn,L)!==!1&&et}}return et&&!L.defaultPrevented}function Ve(m,x,S){if(typeof m=="function")S&&(m=E(m,S));else if(m&&typeof m.handleEvent=="function")m=E(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:u.setTimeout(m,x||0)}function Kn(m){m.g=Ve(()=>{m.g=null,m.i&&(m.i=!1,Kn(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class bn extends Et{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(m){Et.call(this),this.h=m,this.g={}}C(fn,Et);var js=[];function Yi(m){Z(m.g,function(x,S){this.g.hasOwnProperty(S)&&Ie(x)},m),m.g={}}fn.prototype.N=function(){fn.aa.N.call(this),Yi(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=u.JSON.stringify,fr=u.JSON.parse,Ca=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ql(){}ql.prototype.h=null;function Gl(m){return m.h||(m.h=m.i())}function Kl(){}var Ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){ft.call(this,"d")}C(Xi,ft);function No(){ft.call(this,"c")}C(No,ft);var ps={},Wl=null;function Ur(){return Wl=Wl||new Vt}ps.La="serverreachability";function Do(m){ft.call(this,ps.La,m)}C(Do,ft);function Fr(m){const x=Ur();$t(x,new Do(x))}ps.STAT_EVENT="statevent";function mr(m,x){ft.call(this,ps.STAT_EVENT,m),this.stat=x}C(mr,ft);function Be(m){const x=Ur();$t(x,new mr(x,m))}ps.Ma="timingevent";function Sn(m,x){ft.call(this,ps.Ma,m),this.size=x}C(Sn,ft);function En(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},x)}function Qi(){this.g=!0}Qi.prototype.xa=function(){this.g=!1};function Yl(m,x,S,L,et,ct){m.info(function(){if(m.g)if(ct)for(var Nt="",we=ct.split("&"),Cn=0;Cn<we.length;Cn++){var Te=we[Cn].split("=");if(1<Te.length){var zn=Te[0];Te=Te[1];var Rn=zn.split("_");Nt=2<=Rn.length&&Rn[1]=="type"?Nt+(zn+"="+Te+"&"):Nt+(zn+"=redacted&")}}else Nt=null;else Nt=ct;return"XMLHTTP REQ ("+L+") [attempt "+et+"]: "+x+`
`+S+`
`+Nt})}function _h(m,x,S,L,et,ct,Nt){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+et+"]: "+x+`
`+S+`
`+ct+" "+Nt})}function Vs(m,x,S,L){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Us(m,S)+(L?" "+L:"")})}function pr(m,x){m.info(function(){return"TIMEOUT: "+x})}Qi.prototype.info=function(){};function Us(m,x){if(!m.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var L=S[m];if(!(2>L.length)){var et=L[1];if(Array.isArray(et)&&!(1>et.length)){var ct=et[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var Nt=1;Nt<et.length;Nt++)et[Nt]=""}}}}return nn(S)}catch{return x}}var zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fs;function zs(){}C(zs,ql),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},Fs=new zs;function xn(m,x,S,L){this.j=m,this.i=x,this.l=S,this.R=L||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Wn={},Vn={};function sn(m,x,S){m.L=1,m.v=Gs(on(x)),m.m=S,m.P=!0,Zi(m,null)}function Zi(m,x){m.F=Date.now(),Ji(m),m.A=on(m.v);var S=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),Oa(S.i,"t",L),m.C=0,S=m.j.J,m.h=new _e,m.g=Jc(m.j,S?x:null,!m.m),0<m.O&&(m.M=new bn(E(m.Y,m,m.g),m.O)),x=m.U,S=m.g,L=m.ca;var et="readystatechange";Array.isArray(et)||(et&&(js[0]=et.toString()),et=js);for(var ct=0;ct<et.length;ct++){var Nt=Ct(S,et[ct],L||x.handleEvent,!1,x.h||x);if(!Nt)break;x.g[Nt.key]=Nt}x=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),Fr(),Yl(m.i,m.u,m.A,m.l,m.R,m.m)}xn.prototype.ca=function(m){m=m.target;const x=this.M;x&&Qn(m)==3?x.j():this.Y(m)},xn.prototype.Y=function(m){try{if(m==this.g)t:{const Rn=Qn(this.g);var x=this.g.Ba();const In=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Rn!=4||x==7||(x==8||0>=In?Fr(3):Fr(2)),Hs(this);var S=this.g.Z();this.X=S;e:if(gr(this)){var L=Xc(this.g);m="";var et=L.length,ct=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),pi(this);var Nt="";break e}this.h.i=new u.TextDecoder}for(x=0;x<et;x++)this.h.h=!0,m+=this.h.i.decode(L[x],{stream:!(ct&&x==et-1)});L.length=0,this.h.g+=m,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=S==200,_h(this.i,this.u,this.A,this.l,this.R,Rn,S),this.o){if(this.T&&!this.K){e:{if(this.g){var we,Cn=this.g;if((we=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var Te=we;break e}}Te=null}if(S=Te)Vs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yr(this,S);else{this.o=!1,this.s=3,Be(12),Un(this),pi(this);break t}}if(this.P){S=!0;let Bn;for(;!this.J&&this.C<Nt.length;)if(Bn=Bs(this,Nt),Bn==Vn){Rn==4&&(this.s=4,Be(14),S=!1),Vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Wn){this.s=4,Be(15),Vs(this.i,this.l,Nt,"[Invalid Chunk]"),S=!1;break}else Vs(this.i,this.l,Bn,null),yr(this,Bn);if(gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||Nt.length!=0||this.h.h||(this.s=1,Be(16),S=!1),this.o=this.o&&S,!S)Vs(this.i,this.l,Nt,"[Invalid Chunked Response]"),Un(this),pi(this);else if(0<Nt.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),Fa(zn),zn.M=!0,Be(11))}}else Vs(this.i,this.l,Nt,null),yr(this,Nt);Rn==4&&Un(this),this.o&&!this.J&&(Rn==4?sc(this.j,this):(this.o=!1,Ji(this)))}else Qc(this.g),S==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,Be(12)):(this.s=0,Be(13)),Un(this),pi(this)}}}catch{}finally{}};function gr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Bs(m,x){var S=m.C,L=x.indexOf(`
`,S);return L==-1?Vn:(S=Number(x.substring(S,L)),isNaN(S)?Wn:(L+=1,L+S>x.length?Vn:(x=x.slice(L,L+S),m.C=L+S,x)))}xn.prototype.cancel=function(){this.J=!0,Un(this)};function Ji(m){m.S=Date.now()+m.I,Xl(m,m.I)}function Xl(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=En(E(m.ba,m),x)}function Hs(m){m.B&&(u.clearTimeout(m.B),m.B=null)}xn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(pr(this.i,this.A),this.L!=2&&(Fr(),Be(17)),Un(this),this.s=2,pi(this)):Xl(this,this.S-m)};function pi(m){m.j.G==0||m.J||sc(m.j,m)}function Un(m){Hs(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,Yi(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function yr(m,x){try{var S=m.j;if(S.G!=0&&(S.g==m||Oo(S.h,m))){if(!m.K&&Oo(S.h,m)&&S.G==3){try{var L=S.Da.g.parse(x)}catch{L=null}if(Array.isArray(L)&&L.length==3){var et=L;if(et[0]==0){t:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)za(S),La(S);else break t;ic(S),Be(18)}}else S.za=et[1],0<S.za-S.T&&37500>et[2]&&S.F&&S.v==0&&!S.C&&(S.C=En(E(S.Za,S),6e3));if(1>=Ia(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Es(S,11)}else if((m.K||S.g==m)&&za(S),!$(x))for(et=S.Da.g.parse(x),x=0;x<et.length;x++){let Te=et[x];if(S.T=Te[0],Te=Te[1],S.G==2)if(Te[0]=="c"){S.K=Te[1],S.ia=Te[2];const zn=Te[3];zn!=null&&(S.la=zn,S.j.info("VER="+S.la));const Rn=Te[4];Rn!=null&&(S.Aa=Rn,S.j.info("SVER="+S.Aa));const In=Te[5];In!=null&&typeof In=="number"&&0<In&&(L=1.5*In,S.L=L,S.j.info("backChannelRequestTimeoutMs_="+L)),L=S;const Bn=m.g;if(Bn){const xs=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var ct=L.h;ct.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Na(ct,ct.h),ct.h=null))}if(L.D){const zo=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(L.ya=zo,xe(L.I,L.D,zo))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),L=S;var Nt=m;if(L.qa=rc(L,L.J?L.ia:null,L.W),Nt.K){ai(L.h,Nt);var we=Nt,Cn=L.L;Cn&&(we.I=Cn),we.B&&(Hs(we),Ji(we)),L.g=Nt}else Ua(L);0<S.i.length&&Va(S)}else Te[0]!="stop"&&Te[0]!="close"||Es(S,7);else S.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Es(S,7):Lo(S):Te[0]!="noop"&&S.l&&S.l.ta(Te),S.v=0)}}Fr(4)}catch{}}var ko=class{constructor(m,x){this.g=m,this.map=x}};function $s(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ia(m){return m.h?1:m.g?m.g.size:0}function Oo(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Na(m,x){m.g?m.g.add(x):m.h=x}function ai(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}$s.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Mo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const S of m.g.values())x=x.concat(S.D);return x}return k(m.i)}function Wc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var x=[],S=m.length,L=0;L<S;L++)x.push(m[L]);return x}x=[],S=0;for(L in m)x[S++]=m[L];return x}function Da(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var x=[];m=m.length;for(var S=0;S<m;S++)x.push(S);return x}x=[],S=0;for(const L in m)x[S++]=L;return x}}}function Po(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var S=Da(m),L=Wc(m),et=L.length,ct=0;ct<et;ct++)x.call(void 0,L[ct],S&&S[ct],m)}var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(m,x){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var L=m[S].indexOf("="),et=null;if(0<=L){var ct=m[S].substring(0,L);et=m[S].substring(L+1)}else ct=m[S];x(ct,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function Qe(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Qe){this.h=m.h,_r(this,m.j),this.o=m.o,this.g=m.g,qs(this,m.s),this.l=m.l;var x=m.i,S=new li;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),Fn(this,S),this.m=m.m}else m&&(x=String(m).match(oi))?(this.h=!1,_r(this,x[1]||"",!0),this.o=Yn(x[2]||""),this.g=Yn(x[3]||"",!0),qs(this,x[4]),this.l=Yn(x[5]||"",!0),Fn(this,x[6]||"",!0),this.m=Yn(x[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Qe.prototype.toString=function(){var m=[],x=this.j;x&&m.push(vr(x,Ks,!0),":");var S=this.g;return(S||x=="file")&&(m.push("//"),(x=this.o)&&m.push(vr(x,Ks,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(vr(S,S.charAt(0)=="/"?Yc:ka,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",vr(S,jo)),m.join("")};function on(m){return new Qe(m)}function _r(m,x,S){m.j=S?Yn(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function qs(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function Fn(m,x,S){x instanceof li?(m.i=x,Zl(m.i,m.h)):(S||(x=vr(x,ys)),m.i=new li(x,m.h))}function xe(m,x,S){m.i.set(x,S)}function Gs(m){return xe(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Yn(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function vr(m,x,S){return typeof m=="string"?(m=encodeURI(m).replace(x,Ql),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ql(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ks=/[#\/\?@]/g,ka=/[#\?:]/g,Yc=/[#\?]/g,ys=/[#\?@]/g,jo=/#/g;function li(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function yi(m){m.g||(m.g=new Map,m.h=0,m.i&&gi(m.i,function(x,S){m.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=li.prototype,n.add=function(m,x){yi(this),this.i=null,m=Ai(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(x),this.h+=1,this};function Ws(m,x){yi(m),x=Ai(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Bi(m,x){return yi(m),x=Ai(m,x),m.g.has(x)}n.forEach=function(m,x){yi(this),this.g.forEach(function(S,L){S.forEach(function(et){m.call(x,et,L,this)},this)},this)},n.na=function(){yi(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let L=0;L<x.length;L++){const et=m[L];for(let ct=0;ct<et.length;ct++)S.push(x[L])}return S},n.V=function(m){yi(this);let x=[];if(typeof m=="string")Bi(this,m)&&(x=x.concat(this.g.get(Ai(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)x=x.concat(m[S])}return x},n.set=function(m,x){return yi(this),this.i=null,m=Ai(this,m),Bi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function Oa(m,x,S){Ws(m,x),0<S.length&&(m.i=null,m.g.set(Ai(m,x),k(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var L=x[S];const ct=encodeURIComponent(String(L)),Nt=this.V(L);for(L=0;L<Nt.length;L++){var et=ct;Nt[L]!==""&&(et+="="+encodeURIComponent(String(Nt[L]))),m.push(et)}}return this.i=m.join("&")};function Ai(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Zl(m,x){x&&!m.j&&(yi(m),m.i=null,m.g.forEach(function(S,L){var et=L.toLowerCase();L!=et&&(Ws(this,L),Oa(this,et,S))},m)),m.j=x}function Br(m,x){const S=new Qi;if(u.Image){const L=new Image;L.onload=T(Xn,S,"TestLoadImage: loaded",!0,x,L),L.onerror=T(Xn,S,"TestLoadImage: error",!1,x,L),L.onabort=T(Xn,S,"TestLoadImage: abort",!1,x,L),L.ontimeout=T(Xn,S,"TestLoadImage: timeout",!1,x,L),u.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else x(!1)}function ts(m,x){const S=new Qi,L=new AbortController,et=setTimeout(()=>{L.abort(),Xn(S,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:L.signal}).then(ct=>{clearTimeout(et),ct.ok?Xn(S,"TestPingServer: ok",!0,x):Xn(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(et),Xn(S,"TestPingServer: error",!1,x)})}function Xn(m,x,S,L,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),L(S)}catch{}}function Ma(){this.g=new Ca}function _s(m,x,S){const L=S||"";try{Po(m,function(et,ct){let Nt=et;f(et)&&(Nt=nn(et)),x.push(L+ct+"="+encodeURIComponent(Nt))})}catch(et){throw x.push(L+"type="+encodeURIComponent("_badmap")),et}}function Ys(m){this.l=m.Ub||null,this.j=m.eb||!1}C(Ys,ql),Ys.prototype.g=function(){return new es(this.l,this.j)},Ys.prototype.i=function(m){return function(){return m}}({});function es(m,x){Vt.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(es,Vt),n=es.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,Hi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||u).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pa(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pa(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Xs(this):Hi(this),this.readyState==3&&Pa(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Xs(this))},n.Qa=function(m){this.g&&(this.response=m,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Hi(m)}n.setRequestHeader=function(m,x){this.u.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=x.next();return m.join(`\r
`)};function Hi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Jl(m){let x="";return Z(m,function(S,L){x+=L,x+=":",x+=S,x+=`\r
`}),x}function An(m,x,S){t:{for(L in S){var L=!1;break t}L=!0}L||(S=Jl(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):xe(m,x,S))}function ke(m){Vt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,Vt);var Hr=/^https?$/i,br=["POST","PUT"];n=ke.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,x,S,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fs.g(),this.v=this.o?Gl(this.o):Gl(Fs),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(ct){tc(this,ct);return}if(m=S||"",S=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var et in L)S.set(et,L[et]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ct of L.keys())S.set(ct,L.get(ct));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(S.keys()).find(ct=>ct.toLowerCase()=="content-type"),et=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(br,x,void 0))||L||et||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,Nt]of S)this.g.setRequestHeader(ct,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(m),this.u=!1}catch(ct){tc(this,ct)}};function tc(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,Qs(m),vs(m)}function Qs(m){m.A||(m.A=!0,$t(m,"complete"),$t(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,$t(this,"complete"),$t(this,"abort"),vs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$r(this):this.bb())},n.bb=function(){$r(this)};function $r(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Qn(m)!=4||m.Z()!=2)){if(m.u&&Qn(m)==4)Ve(m.Ea,0,m);else if($t(m,"readystatechange"),Qn(m)==4){m.h=!1;try{const Nt=m.Z();t:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var S;if(!(S=x)){var L;if(L=Nt===0){var et=String(m.D).match(oi)[1]||null;!et&&u.self&&u.self.location&&(et=u.self.location.protocol.slice(0,-1)),L=!Hr.test(et?et.toLowerCase():"")}S=L}if(S)$t(m,"complete"),$t(m,"success");else{m.m=6;try{var ct=2<Qn(m)?m.g.statusText:""}catch{ct=""}m.l=ct+" ["+m.Z()+"]",Qs(m)}}finally{vs(m)}}}}function vs(m,x){if(m.g){qr(m);const S=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||$t(m,"ready");try{S.onreadystatechange=L}catch{}}}function qr(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Qn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),fr(x)}};function Xc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Qc(m){const x={};m=(m.g&&2<=Qn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if($(m[L]))continue;var S=H(m[L]);const et=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ct=x[et]||[];x[et]=ct,ct.push(S)}U(x,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(m,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||x}function ja(m){this.Aa=0,this.i=[],this.j=new Qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,m),this.cb=Gr("retryDelaySeedMs",1e4,m),this.Wa=Gr("forwardChannelMaxRetries",2,m),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(m&&m.concurrentRequestLimit),this.Da=new Ma,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ja.prototype,n.la=8,n.G=1,n.connect=function(m,x,S,L){Be(0),this.W=m,this.H=x||{},S&&L!==void 0&&(this.H.OSID=S,this.H.OAID=L),this.F=this.X,this.I=rc(this,null,this.W),Va(this)};function Lo(m){if(Vo(m),m.G==3){var x=m.U++,S=on(m.I);if(xe(S,"SID",m.K),xe(S,"RID",x),xe(S,"TYPE","terminate"),Kr(m,S),x=new xn(m,m.j,x),x.L=2,x.v=Gs(on(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=x.v,S=!0),S||(x.g=Jc(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Ji(x)}Zc(m)}function La(m){m.g&&(Fa(m),m.g.cancel(),m.g=null)}function Vo(m){La(m),m.u&&(u.clearTimeout(m.u),m.u=null),za(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Va(m){if(!Ra(m.h)&&!m.s){m.s=!0;var x=m.Ga;nt||P(),_t||(nt(),_t=!0),Ot.add(x,m),m.B=0}}function vh(m,x){return Ia(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=En(E(m.Ga,m,x),bs(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const et=new xn(this,this.j,m);let ct=this.o;if(this.S&&(ct?(ct=I(ct),F(ct,this.S)):ct=this.S),this.m!==null||this.O||(et.H=ct,ct=null),this.P)t:{for(var x=0,S=0;S<this.i.length;S++){e:{var L=this.i[S];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break e}L=void 0}if(L===void 0)break;if(x+=L,4096<x){x=S;break t}if(x===4096||S===this.i.length-1){x=S+1;break t}}x=1e3}else x=1e3;x=nc(this,et,x),S=on(this.I),xe(S,"RID",m),xe(S,"CVER",22),this.D&&xe(S,"X-HTTP-Session-Id",this.D),Kr(this,S),ct&&(this.O?x="headers="+encodeURIComponent(String(Jl(ct)))+"&"+x:this.m&&An(S,this.m,ct)),Na(this.h,et),this.Ua&&xe(S,"TYPE","init"),this.P?(xe(S,"$req",x),xe(S,"SID","null"),et.T=!0,sn(et,S,null)):sn(et,S,x),this.G=2}}else this.G==3&&(m?ec(this,m):this.i.length==0||Ra(this.h)||ec(this))};function ec(m,x){var S;x?S=x.l:S=m.U++;const L=on(m.I);xe(L,"SID",m.K),xe(L,"RID",S),xe(L,"AID",m.T),Kr(m,L),m.m&&m.o&&An(L,m.m,m.o),S=new xn(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),x&&(m.i=x.D.concat(m.i)),x=nc(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Na(m.h,S),sn(S,L,x)}function Kr(m,x){m.H&&Z(m.H,function(S,L){xe(x,L,S)}),m.l&&Po({},function(S,L){xe(x,L,S)})}function nc(m,x,S){S=Math.min(m.i.length,S);var L=m.l?E(m.l.Na,m.l,m):null;t:{var et=m.i;let ct=-1;for(;;){const Nt=["count="+S];ct==-1?0<S?(ct=et[0].g,Nt.push("ofs="+ct)):ct=0:Nt.push("ofs="+ct);let we=!0;for(let Cn=0;Cn<S;Cn++){let Te=et[Cn].g;const zn=et[Cn].map;if(Te-=ct,0>Te)ct=Math.max(0,et[Cn].g-100),we=!1;else try{_s(zn,Nt,"req"+Te+"_")}catch{L&&L(zn)}}if(we){L=Nt.join("&");break t}}}return m=m.i.splice(0,S),x.D=m,L}function Ua(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;nt||P(),_t||(nt(),_t=!0),Ot.add(x,m),m.v=0}}function ic(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=En(E(m.Fa,m),bs(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Uo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=En(E(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Be(10),La(this),Uo(this))};function Fa(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Uo(m){m.g=new xn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=on(m.qa);xe(x,"RID","rpc"),xe(x,"SID",m.K),xe(x,"AID",m.T),xe(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&xe(x,"TO",m.ja),xe(x,"TYPE","xmlhttp"),Kr(m,x),m.m&&m.o&&An(x,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=Gs(on(x)),S.m=null,S.P=!0,Zi(S,m)}n.Za=function(){this.C!=null&&(this.C=null,La(this),ic(this),Be(19))};function za(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function sc(m,x){var S=null;if(m.g==x){za(m),Fa(m),m.g=null;var L=2}else if(Oo(m.h,x))S=x.D,ai(m.h,x),L=1;else return;if(m.G!=0){if(x.o)if(L==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var et=m.B;L=Ur(),$t(L,new Sn(L,S)),Va(m)}else Ua(m);else if(et=x.s,et==3||et==0&&0<x.X||!(L==1&&vh(m,x)||L==2&&ic(m)))switch(S&&0<S.length&&(x=m.h,x.i=x.i.concat(S)),et){case 1:Es(m,5);break;case 4:Es(m,10);break;case 3:Es(m,6);break;default:Es(m,2)}}}function bs(m,x){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*x}function Es(m,x){if(m.j.info("Error code "+x),x==2){var S=E(m.fb,m),L=m.Xa;const et=!L;L=new Qe(L||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||_r(L,"https"),Gs(L),et?Br(L.toString(),S):ts(L.toString(),S)}else Be(2);m.G=0,m.l&&m.l.sa(x),Zc(m),Vo(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function Zc(m){if(m.G=0,m.ka=[],m.l){const x=Mo(m.h);(x.length!=0||m.i.length!=0)&&(R(m.ka,x),R(m.ka,m.i),m.h.i.length=0,k(m.i),m.i.length=0),m.l.ra()}}function rc(m,x,S){var L=S instanceof Qe?on(S):new Qe(S);if(L.g!="")x&&(L.g=x+"."+L.g),qs(L,L.s);else{var et=u.location;L=et.protocol,x=x?x+"."+et.hostname:et.hostname,et=+et.port;var ct=new Qe(null);L&&_r(ct,L),x&&(ct.g=x),et&&qs(ct,et),S&&(ct.l=S),L=ct}return S=m.D,x=m.ya,S&&x&&xe(L,S,x),xe(L,"VER",m.la),Kr(m,L),L}function Jc(m,x,S){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new ke(new Ys({eb:S})):new ke(m.pa),x.Ha(m.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}n=tu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(m,x){return new _i(m,x)};function _i(m,x){Vt.call(this),this.g=new ja(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!$(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!$(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Zs(this)}C(_i,Vt),_i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){Lo(this.g)},_i.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=nn(m),m=S);x.i.push(new ko(x.Ya++,m)),x.G==3&&Va(x)},_i.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,_i.aa.N.call(this)};function ac(m){Xi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){t:{for(const S in x){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}C(ac,Xi);function oc(){No.call(this),this.status=1}C(oc,No);function Zs(m){this.g=m}C(Zs,tu),Zs.prototype.ua=function(){$t(this.g,"a")},Zs.prototype.ta=function(m){$t(this.g,new ac(m))},Zs.prototype.sa=function(m){$t(this.g,new oc)},Zs.prototype.ra=function(){$t(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,gC=function(){return new Fo},pC=function(){return Ur()},mC=ps,vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,vp=zr,gs.COMPLETE="complete",fC=gs,Kl.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Vd=Kl,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,dC=ke}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});const vw="@firebase/firestore",bw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new vg("@firebase/firestore");function ju(){return kc.logLevel}function zt(n,...t){if(kc.logLevel<=Se.DEBUG){const e=t.map(db);kc.debug(`Firestore (${ch}): ${n}`,...e)}}function So(n,...t){if(kc.logLevel<=Se.ERROR){const e=t.map(db);kc.error(`Firestore (${ch}): ${n}`,...e)}}function Xu(n,...t){if(kc.logLevel<=Se.WARN){const e=t.map(db);kc.warn(`Firestore (${ch}): ${n}`,...e)}}function db(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,yC(n,i,e)}function yC(n,t,e){let i=`FIRESTORE (${ch}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw So(i),new Error(i)}function $e(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||yC(t,s,i)}function ue(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends dr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Pi.UNAUTHENTICATED))}shutdown(){}}class JM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class t2{constructor(t){this.t=t,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$e(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new Rl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rl,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rl)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new _C(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string",2055,{h:t}),new Pi(t)}}class e2{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n2{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new e2(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ew{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$e(this.o===void 0,3512);const i=a=>{a.error!=null&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,zt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ew(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($e(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Ew(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=s2(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%62))}return i}}function Ae(n,t){return n<t?-1:n>t?1:0}function bv(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const s=n.charAt(i),a=t.charAt(i);if(s!==a)return N_(s)===N_(a)?Ae(s,a):N_(s)?1:-1}return Ae(n.length,t.length)}const r2=55296,a2=57343;function N_(n){const t=n.charCodeAt(0);return t>=r2&&t<=a2}function Qu(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__name__";class ua{constructor(t,e,i){e===void 0?e=0:e>t.length&&se(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&se(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ua.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ua?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=ua.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return Ae(t.length,e.length)}static compareSegments(t,e){const i=ua.isNumericId(t),s=ua.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?ua.extractNumericId(t).compare(ua.extractNumericId(e)):bv(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cl.fromString(t.substring(4,t.length-2))}}class hn extends ua{construct(t,e,i){return new hn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new qt(wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new hn(e)}static emptyPath(){return new hn([])}}const o2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends ua{construct(t,e,i){return new Ti(t,e,i)}static isValidIdentifier(t){return o2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xw}static keyField(){return new Ti([xw])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(i.length===0)throw new qt(wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new qt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new qt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(a(),s++)}if(a(),l)throw new qt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ti(e)}static emptyPath(){return new Ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.path=t}static fromPath(t){return new Xt(hn.fromString(t))}static fromName(t){return new Xt(hn.fromString(t).popFirst(5))}static empty(){return new Xt(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return hn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xt(new hn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n,t,e){if(!e)throw new qt(wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function l2(n,t,e,i){if(t===!0&&i===!0)throw new qt(wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ww(n){if(!Xt.isDocumentKey(n))throw new qt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tw(n){if(Xt.isDocumentKey(n))throw new qt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function Oc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new qt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mb(n);throw new qt(wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Af(n,t){if(!bC(n))throw new qt(wt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(s&&typeof l!==s){e=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new qt(wt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,Aw=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(t){return dn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Aw);return new dn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Sw)throw new qt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Aw}_compareTo(t){return this.seconds===t.seconds?Ae(this.nanoseconds,t.nanoseconds):Ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Af(t,dn._jsonSchema))return new dn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Sw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dn._jsonSchemaVersion="firestore/timestamp/1.0",dn._jsonSchema={type:Gn("string",dn._jsonSchemaVersion),seconds:Gn("number"),nanoseconds:Gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(t){return new le(t)}static min(){return new le(new dn(0,0))}static max(){return new le(new dn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=-1;function c2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=le.fromTimestamp(i===1e9?new dn(e+1,0):new dn(e,i));return new Ol(s,Xt.empty(),t)}function u2(n){return new Ol(n.readTime,n.key,rf)}class Ol{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ol(le.min(),Xt.empty(),rf)}static max(){return new Ol(le.max(),Xt.empty(),rf)}}function h2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Xt.comparator(n.documentKey,t.documentKey),e!==0?e:Ae(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(n){if(n.code!==wt.FAILED_PRECONDITION||n.message!==d2)throw n;zt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new bt((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof bt?e:bt.resolve(e)}catch(e){return bt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):bt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):bt.reject(e)}static resolve(t){return new bt((e,i)=>{e(t)})}static reject(t){return new bt((e,i)=>{i(t)})}static waitFor(t){return new bt((e,i)=>{let s=0,a=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&e()},h=>i(h))}),l=!0,a===s&&e()})}static or(t){let e=bt.resolve(!1);for(const i of t)e=e.next(s=>s?bt.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}static mapArray(t,e){return new bt((i,s)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next(g=>{l[f]=g,++u,u===a&&i(l)},g=>s(g))}})}static doWhile(t,e){return new bt((i,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):i()};a()})}}function m2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-1;function xg(n){return n==null}function Pp(n){return n===0&&1/n==-1/0}function p2(n){return typeof n=="number"&&Number.isInteger(n)&&!Pp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="";function g2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Cw(t)),t=y2(n.get(e),t);return Cw(t)}function y2(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="";break;case EC:e+="";break;default:e+=a}}return e}function Cw(n){return n+EC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function xC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,e){this.comparator=t,this.root=e||wi.EMPTY}insert(t,e){return new vn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(t){return new vn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Km(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Km(this.root,t,this.comparator,!1)}getReverseIterator(){return new Km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Km(this.root,t,this.comparator,!0)}}class Km{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wi{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=i??wi.RED,this.left=s??wi.EMPTY,this.right=a??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new wi(t??this.key,e??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return wi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw se(27949);return t+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(t,e,i,s,a){return this}insert(t,e,i){return new wi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.comparator=t,this.data=new vn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(t){return new Iw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ri(this.comparator);return e.data=t,e}}class Iw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.fields=t,t.sort(Ti.comparator)}static empty(){return new Os([])}unionWith(t){let e=new ri(Ti.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Os(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Qu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new wC("Invalid base64 string: "+a):a}}(t);return new Si(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Si(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const _2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(n){if($e(!!n,39018),typeof n=="string"){let t=0;const e=_2.exec(n);if($e(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mn(n.seconds),nanos:Mn(n.nanos)}}function Mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pl(n){return typeof n=="string"?Si.fromBase64String(n):Si.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="server_timestamp",SC="__type__",AC="__previous_value__",CC="__local_write_time__";function gb(n){return(n?.mapValue?.fields||{})[SC]?.stringValue===TC}function wg(n){const t=n.mapValue.fields[AC];return gb(t)?wg(t):t}function af(n){const t=Ml(n.mapValue.fields[CC].timestampValue);return new dn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,e,i,s,a,l,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const jp="(default)";class of{constructor(t,e){this.projectId=t,this.database=e||jp}static empty(){return new of("","")}get isDefaultDatabase(){return this.database===jp}isEqual(t){return t instanceof of&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__type__",b2="__max__",Wm={mapValue:{}},IC="__vector__",Lp="value";function jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gb(n)?4:x2(n)?9007199254740991:E2(n)?10:11:se(28295,{value:n})}function ba(n,t){if(n===t)return!0;const e=jl(n);if(e!==jl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return af(n).isEqual(af(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ml(s.timestampValue),u=Ml(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,a){return Pl(s.bytesValue).isEqual(Pl(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,a){return Mn(s.geoPointValue.latitude)===Mn(a.geoPointValue.latitude)&&Mn(s.geoPointValue.longitude)===Mn(a.geoPointValue.longitude)}(n,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Mn(s.integerValue)===Mn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Mn(s.doubleValue),u=Mn(a.doubleValue);return l===u?Pp(l)===Pp(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Qu(n.arrayValue.values||[],t.arrayValue.values||[],ba);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(Rw(l)!==Rw(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ba(l[h],u[h])))return!1;return!0}(n,t);default:return se(52216,{left:n})}}function lf(n,t){return(n.values||[]).find(e=>ba(e,t))!==void 0}function Zu(n,t){if(n===t)return 0;const e=jl(n),i=jl(t);if(e!==i)return Ae(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,t.booleanValue);case 2:return function(a,l){const u=Mn(a.integerValue||a.doubleValue),h=Mn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return Nw(n.timestampValue,t.timestampValue);case 4:return Nw(af(n),af(t));case 5:return bv(n.stringValue,t.stringValue);case 6:return function(a,l){const u=Pl(a),h=Pl(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=Ae(u[f],h[f]);if(g!==0)return g}return Ae(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const u=Ae(Mn(a.latitude),Mn(l.latitude));return u!==0?u:Ae(Mn(a.longitude),Mn(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Dw(n.arrayValue,t.arrayValue);case 10:return function(a,l){const u=a.fields||{},h=l.fields||{},f=u[Lp]?.arrayValue,g=h[Lp]?.arrayValue,b=Ae(f?.values?.length||0,g?.values?.length||0);return b!==0?b:Dw(f,g)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===Wm.mapValue&&l===Wm.mapValue)return 0;if(a===Wm.mapValue)return 1;if(l===Wm.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const E=bv(h[b],g[b]);if(E!==0)return E;const T=Zu(u[h[b]],f[g[b]]);if(T!==0)return T}return Ae(h.length,g.length)}(n.mapValue,t.mapValue);default:throw se(23264,{he:e})}}function Nw(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ae(n,t);const e=Ml(n),i=Ml(t),s=Ae(e.seconds,i.seconds);return s!==0?s:Ae(e.nanos,i.nanos)}function Dw(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const a=Zu(e[s],i[s]);if(a)return a}return Ae(e.length,i.length)}function Ju(n){return Ev(n)}function Ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ml(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Pl(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Xt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const a of e.values||[])s?s=!1:i+=",",i+=Ev(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${Ev(e.fields[l])}`;return s+"}"}(n.mapValue):se(61005,{value:n})}function bp(n){switch(jl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wg(n);return t?16+bp(t):16;case 5:return 2*n.stringValue.length;case 6:return Pl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+bp(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Bl(i.fields,(a,l)=>{s+=a.length+bp(l)}),s}(n.mapValue);default:throw se(13486,{value:n})}}function xv(n){return!!n&&"integerValue"in n}function yb(n){return!!n&&"arrayValue"in n}function kw(n){return!!n&&"nullValue"in n}function Ow(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ep(n){return!!n&&"mapValue"in n}function E2(n){return(n?.mapValue?.fields||{})[RC]?.stringValue===IC}function Gd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Bl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Gd(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Gd(n.arrayValue.values[e]);return t}return{...n}}function x2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===b2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this.value=t}static empty(){return new hs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ep(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gd(e)}setAll(t){let e=Ti.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=Gd(l):s.push(u.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());Ep(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ba(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];Ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Bl(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new hs(Gd(this.value))}}function NC(n){const t=[];return Bl(n.fields,(e,i)=>{const s=new Ti([e]);if(Ep(i)){const a=NC(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Os(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,e,i,s,a,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new ji(t,0,le.min(),le.min(),le.min(),hs.empty(),0)}static newFoundDocument(t,e,i,s){return new ji(t,1,e,le.min(),i,s,0)}static newNoDocument(t,e){return new ji(t,2,e,le.min(),le.min(),hs.empty(),0)}static newUnknownDocument(t,e){return new ji(t,3,e,le.min(),le.min(),hs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ji&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,e){this.position=t,this.inclusive=e}}function Mw(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],l=n.position[s];if(a.field.isKeyField()?i=Xt.comparator(Xt.fromName(l.referenceValue),e.key):i=Zu(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pw(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ba(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,e="asc"){this.field=t,this.dir=e}}function w2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class ii extends DC{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new S2(t,e,i):e==="array-contains"?new R2(t,i):e==="in"?new I2(t,i):e==="not-in"?new N2(t,i):e==="array-contains-any"?new D2(t,i):new ii(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new A2(t,i):new C2(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Zu(e,this.value)):e!==null&&jl(this.value)===jl(e)&&this.matchesComparison(Zu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ea extends DC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ea(t,e)}matches(t){return kC(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kC(n){return n.op==="and"}function OC(n){return T2(n)&&kC(n)}function T2(n){for(const t of n.filters)if(t instanceof Ea)return!1;return!0}function wv(n){if(n instanceof ii)return n.field.canonicalString()+n.op.toString()+Ju(n.value);if(OC(n))return n.filters.map(t=>wv(t)).join(",");{const t=n.filters.map(e=>wv(e)).join(",");return`${n.op}(${t})`}}function MC(n,t){return n instanceof ii?function(i,s){return s instanceof ii&&i.op===s.op&&i.field.isEqual(s.field)&&ba(i.value,s.value)}(n,t):n instanceof Ea?function(i,s){return s instanceof Ea&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,u)=>a&&MC(l,s.filters[u]),!0):!1}(n,t):void se(19439)}function PC(n){return n instanceof ii?function(e){return`${e.field.canonicalString()} ${e.op} ${Ju(e.value)}`}(n):n instanceof Ea?function(e){return e.op.toString()+" {"+e.getFilters().map(PC).join(" ,")+"}"}(n):"Filter"}class S2 extends ii{constructor(t,e,i){super(t,e,i),this.key=Xt.fromName(i.referenceValue)}matches(t){const e=Xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class A2 extends ii{constructor(t,e){super(t,"in",e),this.keys=jC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class C2 extends ii{constructor(t,e){super(t,"not-in",e),this.keys=jC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jC(n,t){return(t.arrayValue?.values||[]).map(e=>Xt.fromName(e.referenceValue))}class R2 extends ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yb(e)&&lf(e.arrayValue,this.value)}}class I2 extends ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&lf(this.value.arrayValue,e)}}class N2 extends ii{constructor(t,e){super(t,"not-in",e)}matches(t){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!lf(this.value.arrayValue,e)}}class D2 extends ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>lf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,e=null,i=[],s=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function jw(n,t=null,e=[],i=[],s=null,a=null,l=null){return new k2(n,t,e,i,s,a,l)}function _b(n){const t=ue(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>wv(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),xg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ju(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ju(i)).join(",")),t.Te=e}return t.Te}function vb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!w2(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!MC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Pw(n.startAt,t.startAt)&&Pw(n.endAt,t.endAt)}function Tv(n){return Xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,e=null,i=[],s=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O2(n,t,e,i,s,a,l,u){return new Tg(n,t,e,i,s,a,l,u)}function LC(n){return new Tg(n)}function Lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function M2(n){return n.collectionGroup!==null}function Kd(n){const t=ue(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ri(Ti.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Up(a,i))}),e.has(Ti.keyField().canonicalString())||t.Ie.push(new Up(Ti.keyField(),i))}return t.Ie}function fa(n){const t=ue(n);return t.Ee||(t.Ee=P2(t,Kd(n))),t.Ee}function P2(n,t){if(n.limitType==="F")return jw(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Up(s.field,a)});const e=n.endAt?new Vp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vp(n.startAt.position,n.startAt.inclusive):null;return jw(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Sv(n,t,e){return new Tg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Sg(n,t){return vb(fa(n),fa(t))&&n.limitType===t.limitType}function VC(n){return`${_b(fa(n))}|lt:${n.limitType}`}function Lu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>PC(s)).join(", ")}]`),xg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ju(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ju(s)).join(",")),`Target(${i})`}(fa(n))}; limitType=${n.limitType})`}function Ag(n,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Xt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,s){for(const a of Kd(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,h){const f=Mw(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,Kd(i),s)||i.endAt&&!function(l,u,h){const f=Mw(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,Kd(i),s))}(n,t)}function j2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UC(n){return(t,e)=>{let i=!1;for(const s of Kd(n)){const a=L2(s,t,e);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function L2(n,t,e){const i=n.field.isKeyField()?Xt.comparator(t.key,e.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Zu(h,f):se(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Bl(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return xC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new vn(Xt.comparator);function Ao(){return V2}const FC=new vn(Xt.comparator);function Ud(...n){let t=FC;for(const e of n)t=t.insert(e.key,e);return t}function zC(n){let t=FC;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Rc(){return Wd()}function BC(){return Wd()}function Wd(){return new $c(n=>n.toString(),(n,t)=>n.isEqual(t))}const U2=new vn(Xt.comparator),F2=new ri(Xt.comparator);function Ce(...n){let t=F2;for(const e of n)t=t.add(e);return t}const z2=new ri(Ae);function B2(){return z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pp(t)?"-0":t}}function HC(n){return{integerValue:""+n}}function H2(n,t){return p2(t)?HC(t):bb(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this._=void 0}}function $2(n,t,e){return n instanceof Fp?function(s,a){const l={fields:{[SC]:{stringValue:TC},[CC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&gb(a)&&(a=wg(a)),a&&(l.fields[AC]=a),{mapValue:l}}(e,t):n instanceof cf?qC(n,t):n instanceof uf?GC(n,t):function(s,a){const l=$C(s,a),u=Vw(l)+Vw(s.Ae);return xv(l)&&xv(s.Ae)?HC(u):bb(s.serializer,u)}(n,t)}function q2(n,t,e){return n instanceof cf?qC(n,t):n instanceof uf?GC(n,t):e}function $C(n,t){return n instanceof zp?function(i){return xv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Fp extends Cg{}class cf extends Cg{constructor(t){super(),this.elements=t}}function qC(n,t){const e=KC(t);for(const i of n.elements)e.some(s=>ba(s,i))||e.push(i);return{arrayValue:{values:e}}}class uf extends Cg{constructor(t){super(),this.elements=t}}function GC(n,t){let e=KC(t);for(const i of n.elements)e=e.filter(s=>!ba(s,i));return{arrayValue:{values:e}}}class zp extends Cg{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Vw(n){return Mn(n.integerValue||n.doubleValue)}function KC(n){return yb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function G2(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof cf&&s instanceof cf||i instanceof uf&&s instanceof uf?Qu(i.elements,s.elements,ba):i instanceof zp&&s instanceof zp?ba(i.Ae,s.Ae):i instanceof Fp&&s instanceof Fp}(n.transform,t.transform)}class K2{constructor(t,e){this.version=t,this.transformResults=e}}class Mr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mr}static exists(t){return new Mr(void 0,t)}static updateTime(t){return new Mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Rg{}function WC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Eb(n.key,Mr.none()):new Cf(n.key,n.data,Mr.none());{const e=n.data,i=hs.empty();let s=new ri(Ti.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Hl(n.key,i,new Os(s.toArray()),Mr.none())}}function W2(n,t,e){n instanceof Cf?function(s,a,l){const u=s.value.clone(),h=Fw(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Hl?function(s,a,l){if(!xp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Fw(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(YC(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Yd(n,t,e,i){return n instanceof Cf?function(a,l,u,h){if(!xp(a.precondition,l))return u;const f=a.value.clone(),g=zw(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Hl?function(a,l,u,h){if(!xp(a.precondition,l))return u;const f=zw(a.fieldTransforms,h,l),g=l.data;return g.setAll(YC(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(b=>b.field))}(n,t,e,i):function(a,l,u){return xp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function Y2(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=$C(i.transform,s||null);a!=null&&(e===null&&(e=hs.empty()),e.set(i.field,a))}return e||null}function Uw(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Qu(i,s,(a,l)=>G2(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cf extends Rg{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Hl extends Rg{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Fw(n,t,e){const i=new Map;$e(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const a=n[s],l=a.transform,u=t.data.field(a.field);i.set(a.field,q2(l,u,e[s]))}return i}function zw(n,t,e){const i=new Map;for(const s of n){const a=s.transform,l=e.data.field(s.field);i.set(s.field,$2(a,l,t))}return i}class Eb extends Rg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X2 extends Rg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&W2(a,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Yd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Yd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=BC();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(s.key)?null:u;const h=WC(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(le.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ce())}isEqual(t){return this.batchId===t.batchId&&Qu(this.mutations,t.mutations,(e,i)=>Uw(e,i))&&Qu(this.baseMutations,t.baseMutations,(e,i)=>Uw(e,i))}}class xb{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){$e(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return U2}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new xb(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Pe;function tP(n){switch(n){case wt.OK:return se(64938);case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0;default:return se(15467,{code:n})}}function XC(n){if(n===void 0)return So("GRPC error has no .code"),wt.UNKNOWN;switch(n){case $n.OK:return wt.OK;case $n.CANCELLED:return wt.CANCELLED;case $n.UNKNOWN:return wt.UNKNOWN;case $n.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case $n.INTERNAL:return wt.INTERNAL;case $n.UNAVAILABLE:return wt.UNAVAILABLE;case $n.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case $n.NOT_FOUND:return wt.NOT_FOUND;case $n.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case $n.ABORTED:return wt.ABORTED;case $n.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case $n.DATA_LOSS:return wt.DATA_LOSS;default:return se(39323,{code:n})}}(Pe=$n||($n={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Cl([4294967295,4294967295],0);function Bw(n){const t=eP().encode(n),e=new hC;return e.update(t),new Uint8Array(e.digest())}function Hw(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Cl([e,i],0),new Cl([s,a],0)]}class wb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Fd(`Invalid padding: ${e}`);if(i<0)throw new Fd(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Fd(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Fd(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Cl.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(Cl.fromNumber(i)));return s.compare(nP)===1&&(s=new Cl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Bw(t),[i,s]=Hw(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new wb(a,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=Bw(t),[i,s]=Hw(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Rf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ig(le.min(),s,new vn(Ae),Ao(),Ce())}}class Rf{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Rf(i,e,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class QC{constructor(t,e){this.targetId=t,this.Ce=e}}class ZC{constructor(t,e,i=Si.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class $w{constructor(){this.ve=0,this.Fe=qw(),this.Me=Si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ce(),e=Ce(),i=Ce();return this.Fe.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:se(38017,{changeType:a})}}),new Rf(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=qw()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ao(),this.Je=Ym(),this.He=Ym(),this.Ye=new vn(Ae)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:se(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,s)=>{this.rt(s)&&e(s)})}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const a=s.target;if(Tv(a))if(i===0){const l=new Xt(a.path);this.et(e,l,ji.newNoDocument(l,le.min()))}else $e(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=e;let l,u;try{l=Pl(i).toUint8Array()}catch(h){if(h instanceof wC)return Xu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new wb(l,s,a)}catch(h){return Xu(h instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.et(e,a,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Tv(u.target)){const h=new Xt(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ji.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let i=Ce();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const s=new Ig(t,e,this.Ye,this.je,i);return this.je=Ao(),this.Je=Ym(),this.He=Ym(),this.Ye=new vn(Ae),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new $w,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ri(Ae),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ri(Ae),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||zt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $w),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ym(){return new vn(Xt.comparator)}function qw(){return new vn(Xt.comparator)}const sP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class oP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Av(n,t){return n.useProto3Json||xg(t)?t:{value:t}}function Bp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function lP(n,t){return Bp(n,t.toTimestamp())}function ma(n){return $e(!!n,49232),le.fromTimestamp(function(e){const i=Ml(e);return new dn(i.seconds,i.nanos)}(n))}function Tb(n,t){return Cv(n,t).canonicalString()}function Cv(n,t){const e=function(s){return new hn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function t1(n){const t=hn.fromString(n);return $e(r1(t),10190,{key:t.toString()}),t}function Rv(n,t){return Tb(n.databaseId,t.path)}function D_(n,t){const e=t1(t);if(e.get(1)!==n.databaseId.projectId)throw new qt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new qt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Xt(n1(e))}function e1(n,t){return Tb(n.databaseId,t)}function cP(n){const t=t1(n);return t.length===4?hn.emptyPath():n1(t)}function Iv(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n1(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Gw(n,t,e){return{name:Rv(n,t),fields:e.value.mapValue.fields}}function uP(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:se(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,g){return f.useProto3Json?($e(g===void 0||typeof g=="string",58123),Si.fromBase64String(g||"")):($e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Si.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const g=f.code===void 0?wt.UNKNOWN:XC(f.code);return new qt(g,f.message||"")}(l);e=new ZC(i,s,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=D_(n,i.document.name),a=ma(i.document.updateTime),l=i.document.createTime?ma(i.document.createTime):le.min(),u=new hs({mapValue:{fields:i.document.fields}}),h=ji.newFoundDocument(s,a,l,u),f=i.targetIds||[],g=i.removedTargetIds||[];e=new wp(f,g,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=D_(n,i.document),a=i.readTime?ma(i.readTime):le.min(),l=ji.newNoDocument(s,a),u=i.removedTargetIds||[];e=new wp([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=D_(n,i.document),a=i.removedTargetIds||[];e=new wp([],a,s,null)}else{if(!("filter"in t))return se(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new J2(s,a),u=i.targetId;e=new QC(u,l)}}return e}function hP(n,t){let e;if(t instanceof Cf)e={update:Gw(n,t.key,t.value)};else if(t instanceof Eb)e={delete:Rv(n,t.key)};else if(t instanceof Hl)e={update:Gw(n,t.key,t.data),updateMask:bP(t.fieldMask)};else{if(!(t instanceof X2))return se(16599,{Vt:t.type});e={verify:Rv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Fp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof uf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof zp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw se(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:lP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:se(27497)}(n,t.precondition)),e}function dP(n,t){return n&&n.length>0?($e(t!==void 0,14353),n.map(e=>function(s,a){let l=s.updateTime?ma(s.updateTime):ma(a);return l.isEqual(le.min())&&(l=ma(a)),new K2(l,s.transformResults||[])}(e,t))):[]}function fP(n,t){return{documents:[e1(n,t.path)]}}function mP(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=e1(n,s);const a=function(f){if(f.length!==0)return s1(Ea.create(f,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(g=>function(E){return{field:Vu(E.field),direction:yP(E.dir)}}(g))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Av(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:s}}function pP(n){let t=cP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){$e(i===1,65062);const g=e.from[0];g.allDescendants?s=g.collectionId:t=t.child(g.collectionId)}let a=[];e.where&&(a=function(b){const E=i1(b);return E instanceof Ea&&OC(E)?E.getFilters():[E]}(e.where));let l=[];e.orderBy&&(l=function(b){return b.map(E=>function(C){return new Up(Uu(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(e.orderBy));let u=null;e.limit&&(u=function(b){let E;return E=typeof b=="object"?b.value:b,xg(E)?null:E}(e.limit));let h=null;e.startAt&&(h=function(b){const E=!!b.before,T=b.values||[];return new Vp(T,E)}(e.startAt));let f=null;return e.endAt&&(f=function(b){const E=!b.before,T=b.values||[];return new Vp(T,E)}(e.endAt)),O2(t,s,l,a,u,"F",h,f)}function gP(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function i1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Uu(e.unaryFilter.field);return ii.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Uu(e.unaryFilter.field);return ii.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uu(e.unaryFilter.field);return ii.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Uu(e.unaryFilter.field);return ii.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(n):n.fieldFilter!==void 0?function(e){return ii.create(Uu(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ea.create(e.compositeFilter.filters.map(i=>i1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(e.compositeFilter.op))}(n):se(30097,{filter:n})}function yP(n){return sP[n]}function _P(n){return rP[n]}function vP(n){return aP[n]}function Vu(n){return{fieldPath:n.canonicalString()}}function Uu(n){return Ti.fromServerFormat(n.fieldPath)}function s1(n){return n instanceof ii?function(e){if(e.op==="=="){if(Ow(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NAN"}};if(kw(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ow(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NAN"}};if(kw(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(e.field),op:_P(e.op),value:e.value}}}(n):n instanceof Ea?function(e){const i=e.getFilters().map(s=>s1(s));return i.length===1?i[0]:{compositeFilter:{op:vP(e.op),filters:i}}}(n):se(54877,{filter:n})}function bP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function r1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,e,i,s,a=le.min(),l=le.min(),u=Si.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new xl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t){this.yt=t}}function xP(n){const t=pP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.Cn=new TP}addToCollectionParentIndex(t,e){return this.Cn.add(e),bt.resolve()}getCollectionParents(t,e){return bt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return bt.resolve()}deleteFieldIndex(t,e){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,e){return bt.resolve()}getDocumentsMatchingTarget(t,e){return bt.resolve(null)}getIndexType(t,e){return bt.resolve(0)}getFieldIndexes(t,e){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,e){return bt.resolve(Ol.min())}getMinOffsetFromCollectionGroup(t,e){return bt.resolve(Ol.min())}updateCollectionGroup(t,e,i){return bt.resolve()}updateIndexEntries(t,e){return bt.resolve()}}class TP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new ri(hn.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ri(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class us{static withCacheSize(t){return new us(t,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(a1,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new th(0)}static cr(){return new th(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="LruGarbageCollector",SP=1048576;function Yw([n,t],[e,i]){const s=Ae(n,e);return s===0?Ae(t,i):s}class AP{constructor(t){this.Ir=t,this.buffer=new ri(Yw),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Yw(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class CP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){zt(Ww,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hh(e)?zt(Ww,"Ignoring IndexedDB error during garbage collection: ",e):await uh(e)}await this.Vr(3e5)})}}class RP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return bt.resolve(Eg.ce);const i=new AP(e);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(Kw)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kw):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,a,l,u,h,f;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,l=Date.now(),this.nthSequenceNumber(t,s))).next(b=>(i=b,u=Date.now(),this.removeTargets(t,i,e))).next(b=>(a=b,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(f=Date.now(),ju()<=Se.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${b} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:b})))}}function IP(n,t){return new RP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.changes=new $c(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ji.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?bt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Yd(i.mutation,s,Os.empty(),dn.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ce()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ce()){const s=Rc();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(a=>{let l=Ud();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Rc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ce()))}populateOverlays(t,e,i){const s=[];return i.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let a=Ao();const l=Wd(),u=function(){return Wd()}();return e.forEach((h,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof Hl)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Yd(g.mutation,f,g.mutation.getFieldMask(),dn.now())):l.set(f.key,Os.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,g)=>l.set(f,g)),e.forEach((f,g)=>u.set(f,new DP(g,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const i=Wd();let s=new vn((l,u)=>l-u),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let g=i.get(h)||Os.empty();g=u.applyToLocalView(f,g),i.set(h,g);const b=(s.get(u.batchId)||Ce()).add(h);s=s.insert(u.batchId,b)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,b=BC();g.forEach(E=>{if(!a.has(E)){const T=WC(e.get(E),i.get(E));T!==null&&b.set(E,T),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,b))}return bt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Xt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):M2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-a.size):bt.resolve(Rc());let u=rf,h=a;return l.next(f=>bt.forEach(f,(g,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),a.get(g)?bt.resolve():this.remoteDocumentCache.getEntry(t,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,Ce())).next(g=>({batchId:u,changes:zC(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xt(e)).next(i=>{let s=Ud();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const a=e.collectionGroup;let l=Ud();return this.indexManager.getCollectionParents(t,a).next(u=>bt.forEach(u,h=>{const f=function(b,E){return new Tg(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(g=>{g.forEach((b,E)=>{l=l.insert(b,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,s))).next(l=>{a.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,ji.newInvalidDocument(g)))});let u=Ud();return l.forEach((h,f)=>{const g=a.get(h);g!==void 0&&Yd(g.mutation,f,Os.empty(),dn.now()),Ag(e,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return bt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:ma(s.createTime)}}(e)),bt.resolve()}getNamedQuery(t,e){return bt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(s){return{name:s.name,query:xP(s.bundledQuery),readTime:ma(s.readTime)}}(e)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.overlays=new vn(Xt.comparator),this.qr=new Map}getOverlay(t,e){return bt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Rc();return bt.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,a)=>{this.St(t,e,a)}),bt.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),bt.resolve()}getOverlaysForCollection(t,e,i){const s=Rc(),a=e.length+1,l=new Xt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return bt.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let a=new vn((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let g=a.get(f.largestBatchId);g===null&&(g=Rc(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Rc(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=s)););return bt.resolve(u)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Z2(e,i));let a=this.qr.get(e);a===void 0&&(a=Ce(),this.qr.set(e,a)),this.qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Qr=new ri(di.$r),this.Ur=new ri(di.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new di(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new di(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new Xt(new hn([])),i=new di(e,t),s=new di(e,t+1),a=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Xt(new hn([])),i=new di(e,t),s=new di(e,t+1);let a=Ce();return this.Ur.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new di(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class di{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Xt.comparator(t.key,e.key)||Ae(t.Yr,e.Yr)}static Kr(t,e){return Ae(t.Yr,e.Yr)||Xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ri(di.$r)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q2(a,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new di(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return bt.resolve(l)}lookupMutationBatch(t,e){return bt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),a=s<0?0:s;return bt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?pb:this.tr-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new di(e,0),s=new di(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],l=>{const u=this.Xr(l.Yr);a.push(u)}),bt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ri(Ae);return e.forEach(s=>{const a=new di(s,0),l=new di(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{i=i.add(u.Yr)})}),bt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;Xt.isDocumentKey(a)||(a=a.child(""));const l=new di(new Xt(a),0);let u=new ri(Ae);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Yr)),!0)},l),bt.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){$e(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return bt.forEach(e.mutations,s=>{const a=new di(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new di(e,0),s=this.Zr.firstAfterOrEqual(i);return bt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t){this.ri=t,this.docs=function(){return new vn(Xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return bt.resolve(i?i.document.mutableCopy():ji.newInvalidDocument(e))}getEntries(t,e){let i=Ao();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():ji.newInvalidDocument(s))}),bt.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let a=Ao();const l=e.path,u=new Xt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||h2(u2(g),i)<=0||(s.has(g.key)||Ag(e,g))&&(a=a.insert(g.key,g.mutableCopy()))}return bt.resolve(a)}getAllFromCollectionGroup(t,e,i,s){se(9500)}ii(t,e){return bt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new VP(this)}getSize(t){return bt.resolve(this.size)}}class VP extends NP{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),bt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.persistence=t,this.si=new $c(e=>_b(e),vb),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new Sb,this.targetCount=0,this.ai=th.ur()}forEachTarget(t,e){return this.si.forEach((i,s)=>e(s)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),bt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new th(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,bt.resolve()}updateTargetData(t,e){return this.Pr(e),bt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),bt.waitFor(a).next(()=>s)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return bt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),bt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),bt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),bt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return bt.resolve(i)}containsKey(t,e){return bt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,e){this.ui={},this.overlays={},this.ci=new Eg(0),this.li=!1,this.li=!0,this.hi=new PP,this.referenceDelegate=t(this),this.Pi=new UP(this),this.indexManager=new wP,this.remoteDocumentCache=function(s){return new LP(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new EP(e),this.Ii=new OP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new MP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new jP(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){zt("MemoryPersistence","Starting transaction:",t);const s=new FP(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(t,e){return bt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class FP extends f2{constructor(t){super(),this.currentSequenceNumber=t}}class Ab{constructor(t){this.persistence=t,this.Ri=new Sb,this.Vi=null}static mi(t){return new Ab(t)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),bt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),bt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),bt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.fi,i=>{const s=Xt.fromPath(i);return this.gi(t,s).next(a=>{a||e.removeEntry(s,le.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return bt.or([()=>bt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Hp{constructor(t,e){this.persistence=t,this.pi=new $c(i=>g2(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=IP(this,e)}static mi(t,e){return new Hp(t,e)}Ei(){}di(t){return bt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return bt.forEach(this.pi,(i,s)=>this.br(t,i,s).next(a=>a?bt.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,a.removeEntry(l,le.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),bt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),bt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),bt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),bt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=bp(t.data.value)),e}br(t,e,i){return bt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return bt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=Ce(),s=Ce();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Cb(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kO()?8:m2(Ui())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new zP;return this.Ss(t,e,l).next(u=>{if(a.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>a.result)}bs(t,e,i,s){return i.documentReadCount<this.fs?(ju()<=Se.DEBUG&&zt("QueryEngine","SDK will not create cache indexes for query:",Lu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),bt.resolve()):(ju()<=Se.DEBUG&&zt("QueryEngine","Query:",Lu(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(ju()<=Se.DEBUG&&zt("QueryEngine","The SDK decides to create cache indexes for query:",Lu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fa(e))):bt.resolve())}ys(t,e){if(Lw(e))return bt.resolve(null);let i=fa(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=Sv(e,null,"F"),i=fa(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=Ce(...a);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(e,u);return this.Cs(e,f,l,h.readTime)?this.ys(t,Sv(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,i,s){return Lw(e)||s.isEqual(le.min())?bt.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,i,s)?bt.resolve(null):(ju()<=Se.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lu(e)),this.vs(t,l,e,c2(s,rf)).next(u=>u))})}Ds(t,e){let i=new ri(UC(t));return e.forEach((s,a)=>{Ag(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,i){return ju()<=Se.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",Lu(e)),this.ps.getDocumentsMatchingQuery(t,e,Ol.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="LocalStore",HP=3e8;class $P{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new vn(Ae),this.xs=new $c(a=>_b(a),vb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function qP(n,t,e,i){return new $P(n,t,e,i)}async function l1(n,t){const e=ue(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=Ce();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function GP(n,t){const e=ue(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,g){const b=f.batch,E=b.keys();let T=bt.resolve();return E.forEach(C=>{T=T.next(()=>g.getEntry(h,C)).next(k=>{const R=f.docVersions.get(C);$e(R!==null,48541),k.version.compareTo(R)<0&&(b.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),g.addEntry(k)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,b))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ce();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function c1(n){const t=ue(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function KP(n,t){const e=ue(n),i=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const u=[];t.targetChanges.forEach((g,b)=>{const E=s.get(b);if(!E)return;u.push(e.Pi.removeMatchingKeys(a,g.removedDocuments,b).next(()=>e.Pi.addMatchingKeys(a,g.addedDocuments,b)));let T=E.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(b)!==null?T=T.withResumeToken(Si.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),s=s.insert(b,T),function(k,R,V){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=HP?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,T,g)&&u.push(e.Pi.updateTargetData(a,T))});let h=Ao(),f=Ce();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(WP(a,l,t.documentUpdates).next(g=>{h=g.ks,f=g.qs})),!i.isEqual(le.min())){const g=e.Pi.getLastRemoteSnapshotVersion(a).next(b=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(g)}return bt.waitFor(u).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(e.Ms=s,a))}function WP(n,t,e){let i=Ce(),s=Ce();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=Ao();return e.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(le.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):zt(Rb,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function YP(n,t){const e=ue(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=pb),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function XP(n,t){const e=ue(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Pi.getTargetData(i,t).next(a=>a?(s=a,bt.resolve(s)):e.Pi.allocateTargetId(i).next(l=>(s=new xl(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Nv(n,t,e){const i=ue(n),s=i.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!hh(l))throw l;zt(Rb,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function Xw(n,t,e){const i=ue(n);let s=le.min(),a=Ce();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const b=ue(h),E=b.xs.get(g);return E!==void 0?bt.resolve(b.Ms.get(E)):b.Pi.getTargetData(f,g)}(i,l,fa(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?s:le.min(),e?a:Ce())).next(u=>(QP(i,j2(t),u),{documents:u,Qs:a})))}function QP(n,t,e){let i=n.Os.get(t)||le.min();e.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(t,i)}class Qw{constructor(){this.activeTargetIds=B2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZP{constructor(){this.Mo=new Qw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Qw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="ConnectivityMonitor";class Jw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){zt(Zw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){zt(Zw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm=null;function Dv(){return Xm===null?Xm=function(){return 268435456+Math.round(2147483648*Math.random())}():Xm++,"0x"+Xm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="RestConnection",tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ej{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===jp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,a){const l=Dv(),u=this.zo(t,e.toUriEncodedString());zt(k_,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(u),g=zc(f);return this.Jo(t,u,h,i,g).then(b=>(zt(k_,`Received RPC '${t}' ${l}: `,b),b),b=>{throw Xu(k_,`RPC '${t}' ${l} failed with error: `,b,"url: ",u,"request:",i),b})}Ho(t,e,i,s,a,l){return this.Go(t,e,i,s,a)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ch}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}zo(t,e){const i=tj[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="WebChannelConnection";class ij extends ej{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,a){const l=Dv();return new Promise((u,h)=>{const f=new dC;f.setWithCredentials(!0),f.listenOnce(fC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case vp.NO_ERROR:const b=f.getResponseJson();zt(Oi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(b)),u(b);break;case vp.TIMEOUT:zt(Oi,`RPC '${t}' ${l} timed out`),h(new qt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case vp.HTTP_ERROR:const E=f.getStatus();if(zt(Oi,`RPC '${t}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T?.error;if(C&&C.status&&C.message){const k=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf($)>=0?$:wt.UNKNOWN}(C.status);h(new qt(k,C.message))}else h(new qt(wt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new qt(wt.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{zt(Oi,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(s);zt(Oi,`RPC '${t}' ${l} sending request:`,s),f.send(e,"POST",g,i,15)})}T_(t,e,i){const s=Dv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=gC(),u=pC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=a.join("");zt(Oi,`Creating RPC '${t}' stream ${s}: ${g}`,h);const b=l.createWebChannel(g,h);this.I_(b);let E=!1,T=!1;const C=new nj({Yo:R=>{T?zt(Oi,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(E||(zt(Oi,`Opening RPC '${t}' stream ${s} transport.`),b.open(),E=!0),zt(Oi,`RPC '${t}' stream ${s} sending:`,R),b.send(R))},Zo:()=>b.close()}),k=(R,V,$)=>{R.listen(V,q=>{try{$(q)}catch(Q){setTimeout(()=>{throw Q},0)}})};return k(b,Vd.EventType.OPEN,()=>{T||(zt(Oi,`RPC '${t}' stream ${s} transport opened.`),C.o_())}),k(b,Vd.EventType.CLOSE,()=>{T||(T=!0,zt(Oi,`RPC '${t}' stream ${s} transport closed`),C.a_(),this.E_(b))}),k(b,Vd.EventType.ERROR,R=>{T||(T=!0,Xu(Oi,`RPC '${t}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new qt(wt.UNAVAILABLE,"The operation could not be completed")))}),k(b,Vd.EventType.MESSAGE,R=>{if(!T){const V=R.data[0];$e(!!V,16349);const $=V,q=$?.error||$[0]?.error;if(q){zt(Oi,`RPC '${t}' stream ${s} received error:`,q);const Q=q.status;let W=function(I){const O=$n[I];if(O!==void 0)return XC(O)}(Q),Z=q.message;W===void 0&&(W=wt.INTERNAL,Z="Unknown error status: "+Q+" with message "+q.message),T=!0,C.a_(new qt(W,Z)),b.close()}else zt(Oi,`RPC '${t}' stream ${s} received:`,V),C.u_(V)}}),k(u,mC.STAT_EVENT,R=>{R.stat===vv.PROXY?zt(Oi,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===vv.NOPROXY&&zt(Oi,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function O_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(n){return new oP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,e,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&zt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="PersistentStream";class h1{constructor(t,e,i,s,a,l,u,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===wt.RESOURCE_EXHAUSTED?(So(e.toString()),So("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===e&&this.G_(i,s)},i=>{t(()=>{const s=new qt(wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return zt(tT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(zt(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sj extends h1{constructor(t,e,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=uP(this.serializer,t),i=function(a){if(!("targetChange"in a))return le.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?le.min():l.readTime?ma(l.readTime):le.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Iv(this.serializer),e.addTarget=function(a,l){let u;const h=l.target;if(u=Tv(h)?{documents:fP(a,h)}:{query:mP(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=JC(a,l.resumeToken);const f=Av(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(le.min())>0){u.readTime=Bp(a,l.snapshotVersion.toTimestamp());const f=Av(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=gP(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Iv(this.serializer),e.removeTarget=t,this.q_(e)}}class rj extends h1{constructor(t,e,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return $e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=dP(t.writeResults,t.commitTime),i=ma(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Iv(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>hP(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{}class oj extends aj{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new qt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,Cv(e,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new qt(wt.UNKNOWN,a.toString())})}Ho(t,e,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,Cv(e,i),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qt(wt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(So(e),this.aa=!1):zt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="RemoteStore";class cj{constructor(t,e,i,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{qc(this)&&(zt(Mc,"Restarting streams for network reachability change."),await async function(h){const f=ue(h);f.Ea.add(4),await If(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Dg(f)}(this))})}),this.Ra=new lj(i,s)}}async function Dg(n){if(qc(n))for(const t of n.da)await t(!0)}async function If(n){for(const t of n.da)await t(!1)}function d1(n,t){const e=ue(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),kb(e)?Db(e):dh(e).O_()&&Nb(e,t))}function Ib(n,t){const e=ue(n),i=dh(e);e.Ia.delete(t),i.O_()&&f1(e,t),e.Ia.size===0&&(i.O_()?i.L_():qc(e)&&e.Ra.set("Unknown"))}function Nb(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(le.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}dh(n).Y_(t)}function f1(n,t){n.Va.Ue(t),dh(n).Z_(t)}function Db(n){n.Va=new iP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),dh(n).start(),n.Ra.ua()}function kb(n){return qc(n)&&!dh(n).x_()&&n.Ia.size>0}function qc(n){return ue(n).Ea.size===0}function m1(n){n.Va=void 0}async function uj(n){n.Ra.set("Online")}async function hj(n){n.Ia.forEach((t,e)=>{Nb(n,t)})}async function dj(n,t){m1(n),kb(n)?(n.Ra.ha(t),Db(n)):n.Ra.set("Unknown")}async function fj(n,t,e){if(n.Ra.set("Online"),t instanceof ZC&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))}(n,t)}catch(i){zt(Mc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $p(n,i)}else if(t instanceof wp?n.Va.Ze(t):t instanceof QC?n.Va.st(t):n.Va.tt(t),!e.isEqual(le.min()))try{const i=await c1(n.localStore);e.compareTo(i)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(Si.EMPTY_BYTE_STRING,g.snapshotVersion)),f1(a,h);const b=new xl(g.target,h,f,g.sequenceNumber);Nb(a,b)}),a.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){zt(Mc,"Failed to raise snapshot:",i),await $p(n,i)}}async function $p(n,t,e){if(!hh(t))throw t;n.Ea.add(1),await If(n),n.Ra.set("Offline"),e||(e=()=>c1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{zt(Mc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Dg(n)})}function p1(n,t){return t().catch(e=>$p(n,e,t))}async function kg(n){const t=ue(n),e=Ll(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pb;for(;mj(t);)try{const s=await YP(t.localStore,i);if(s===null){t.Ta.length===0&&e.L_();break}i=s.batchId,pj(t,s)}catch(s){await $p(t,s)}g1(t)&&y1(t)}function mj(n){return qc(n)&&n.Ta.length<10}function pj(n,t){n.Ta.push(t);const e=Ll(n);e.O_()&&e.X_&&e.ea(t.mutations)}function g1(n){return qc(n)&&!Ll(n).x_()&&n.Ta.length>0}function y1(n){Ll(n).start()}async function gj(n){Ll(n).ra()}async function yj(n){const t=Ll(n);for(const e of n.Ta)t.ea(e.mutations)}async function _j(n,t,e){const i=n.Ta.shift(),s=xb.from(i,t,e);await p1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await kg(n)}async function vj(n,t){t&&Ll(n).X_&&await async function(i,s){if(function(l){return tP(l)&&l!==wt.ABORTED}(s.code)){const a=i.Ta.shift();Ll(i).B_(),await p1(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await kg(i)}}(n,t),g1(n)&&y1(n)}async function eT(n,t){const e=ue(n);e.asyncQueue.verifyOperationInProgress(),zt(Mc,"RemoteStore received new credentials");const i=qc(e);e.Ea.add(3),await If(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Dg(e)}async function bj(n,t){const e=ue(n);t?(e.Ea.delete(2),await Dg(e)):t||(e.Ea.add(2),await If(e),e.Ra.set("Unknown"))}function dh(n){return n.ma||(n.ma=function(e,i,s){const a=ue(e);return a.sa(),new sj(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:uj.bind(null,n),t_:hj.bind(null,n),r_:dj.bind(null,n),H_:fj.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),kb(n)?Db(n):n.Ra.set("Unknown")):(await n.ma.stop(),m1(n))})),n.ma}function Ll(n){return n.fa||(n.fa=function(e,i,s){const a=ue(e);return a.sa(),new rj(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:gj.bind(null,n),r_:vj.bind(null,n),ta:yj.bind(null,n),na:_j.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await kg(n)):(await n.fa.stop(),n.Ta.length>0&&(zt(Mc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,a){const l=Date.now()+i,u=new Ob(t,e,l,s,a);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qt(wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mb(n,t){if(So("AsyncQueue",`${t}: ${n}`),hh(n))return new qt(wt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static emptySet(t){return new Bu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Xt.comparator(e.key,i.key):(e,i)=>Xt.comparator(e.key,i.key),this.keyedMap=Ud(),this.sortedSet=new vn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Bu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.ga=new vn(Xt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):se(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class eh{constructor(t,e,i,s,a,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,s,a){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new eh(t,e,Bu.emptySet(e),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class xj{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=ue(e),a=s.queries;s.queries=iT(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new qt(wt.ABORTED,"Firestore shutting down"))}}function iT(){return new $c(n=>VC(n),Sg)}async function wj(n,t){const e=ue(n);let i=3;const s=t.query;let a=e.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new Ej,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await e.onListen(s,!0);break;case 1:a.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=Mb(l,`Initialization of query '${Lu(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&Pb(e)}async function Tj(n,t){const e=ue(n),i=t.query;let s=3;const a=e.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Sj(n,t){const e=ue(n);let i=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(i=!0);l.wa=s}}i&&Pb(e)}function Aj(n,t,e){const i=ue(n),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);i.queries.delete(t)}function Pb(n){n.Ca.forEach(t=>{t.next()})}var kv,sT;(sT=kv||(kv={})).Ma="default",sT.Cache="cache";class Cj{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new eh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t){this.key=t}}class v1{constructor(t){this.key=t}}class Rj{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=UC(t),this.tu=new Bu(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new nT,s=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((g,b)=>{const E=s.get(g),T=Ag(this.query,b)?b:null,C=!!E&&this.mutatedKeys.has(E.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;E&&T?E.data.isEqual(T.data)?C!==k&&(i.track({type:3,doc:T}),R=!0):this.su(E,T)||(i.track({type:2,doc:T}),R=!0,(h&&this.eu(T,h)>0||f&&this.eu(T,f)<0)&&(u=!0)):!E&&T?(i.track({type:0,doc:T}),R=!0):E&&!T&&(i.track({type:1,doc:E}),R=!0,(h||f)&&(u=!0)),R&&(T?(l=l.add(T),a=k?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Cs:u,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((g,b)=>function(T,C){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:R})}};return k(T)-k(C)}(g.type,b.type)||this.eu(g.doc,b.doc)),this.ou(i),s=s??!1;const u=e&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new eh(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ce(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new v1(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new _1(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=Ce();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return eh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jb="SyncEngine";class Ij{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Nj{constructor(t){this.key=t,this.hu=!1}}class Dj{constructor(t,e,i,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new $c(u=>VC(u),Sg),this.Iu=new Map,this.Eu=new Set,this.du=new vn(Xt.comparator),this.Au=new Map,this.Ru=new Sb,this.Vu={},this.mu=new Map,this.fu=th.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kj(n,t,e=!0){const i=S1(n);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await b1(i,t,e,!0),s}async function Oj(n,t){const e=S1(n);await b1(e,t,!0,!1)}async function b1(n,t,e,i){const s=await XP(n.localStore,fa(t)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return i&&(u=await Mj(n,t,a,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&d1(n.remoteStore,s),u}async function Mj(n,t,e,i,s){n.pu=(b,E,T)=>async function(k,R,V,$){let q=R.view.ru(V);q.Cs&&(q=await Xw(k.localStore,R.query,!1).then(({documents:U})=>R.view.ru(U,q)));const Q=$&&$.targetChanges.get(R.targetId),W=$&&$.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(q,k.isPrimaryClient,Q,W);return aT(k,R.targetId,Z.au),Z.snapshot}(n,b,E,T);const a=await Xw(n.localStore,t,!0),l=new Rj(t,a.Qs),u=l.ru(a.documents),h=Rf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),f=l.applyChanges(u,n.isPrimaryClient,h);aT(n,e,f.au);const g=new Ij(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function Pj(n,t,e){const i=ue(n),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter(l=>!Sg(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Nv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Ib(i.remoteStore,s.targetId),Ov(i,s.targetId)}).catch(uh)):(Ov(i,s.targetId),await Nv(i.localStore,s.targetId,!0))}async function jj(n,t){const e=ue(n),i=e.Tu.get(t),s=e.Iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Ib(e.remoteStore,i.targetId))}async function Lj(n,t,e){const i=$j(n);try{const s=await function(l,u){const h=ue(l),f=dn.now(),g=u.reduce((T,C)=>T.add(C.key),Ce());let b,E;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=Ao(),k=Ce();return h.Ns.getEntries(T,g).next(R=>{C=R,C.forEach((V,$)=>{$.isValidDocument()||(k=k.add(V))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,C)).next(R=>{b=R;const V=[];for(const $ of u){const q=Y2($,b.get($.key).overlayedDocument);q!=null&&V.push(new Hl($.key,q,NC(q.value.mapValue),Mr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,V,u)}).next(R=>{E=R;const V=R.applyToLocalDocumentSet(b,k);return h.documentOverlayCache.saveOverlays(T,R.batchId,V)})}).then(()=>({batchId:E.batchId,changes:zC(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new vn(Ae)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,e),await Nf(i,s.changes),await kg(i.remoteStore)}catch(s){const a=Mb(s,"Failed to persist write");e.reject(a)}}async function E1(n,t){const e=ue(n);try{const i=await KP(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Au.get(a);l&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?$e(l.hu,14607):s.removedDocuments.size>0&&($e(l.hu,42227),l.hu=!1))}),await Nf(e,i,t)}catch(i){await uh(i)}}function rT(n,t,e){const i=ue(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.Tu.forEach((a,l)=>{const u=l.view.va(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=ue(l);h.onlineState=u;let f=!1;h.queries.forEach((g,b)=>{for(const E of b.Sa)E.va(u)&&(f=!0)}),f&&Pb(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Vj(n,t,e){const i=ue(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Au.get(t),a=s&&s.key;if(a){let l=new vn(Xt.comparator);l=l.insert(a,ji.newNoDocument(a,le.min()));const u=Ce().add(a),h=new Ig(le.min(),new Map,new vn(Ae),l,u);await E1(i,h),i.du=i.du.remove(a),i.Au.delete(t),Lb(i)}else await Nv(i.localStore,t,!1).then(()=>Ov(i,t,e)).catch(uh)}async function Uj(n,t){const e=ue(n),i=t.batch.batchId;try{const s=await GP(e.localStore,t);w1(e,i,null),x1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Nf(e,s)}catch(s){await uh(s)}}async function Fj(n,t,e){const i=ue(n);try{const s=await function(l,u){const h=ue(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next(b=>($e(b!==null,37113),g=b.keys(),h.mutationQueue.removeMutationBatch(f,b))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(i.localStore,t);w1(i,t,e),x1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Nf(i,s)}catch(s){await uh(s)}}function x1(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function w1(n,t,e){const i=ue(n);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function Ov(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||T1(n,i)})}function T1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ib(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Lb(n))}function aT(n,t,e){for(const i of e)i instanceof _1?(n.Ru.addReference(i.key,t),zj(n,i)):i instanceof v1?(zt(jb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||T1(n,i.key)):se(19791,{wu:i})}function zj(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(zt(jb,"New document in limbo: "+e),n.Eu.add(i),Lb(n))}function Lb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Xt(hn.fromString(t)),i=n.fu.next();n.Au.set(i,new Nj(e)),n.du=n.du.insert(e,i),d1(n.remoteStore,new xl(fa(LC(e.path)),i,"TargetPurposeLimboResolution",Eg.ce))}}async function Nf(n,t,e){const i=ue(n),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient){const g=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){s.push(f);const g=Cb.As(h.targetId,f);a.push(g)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const g=ue(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>bt.forEach(f,E=>bt.forEach(E.Es,T=>g.persistence.referenceDelegate.addReference(b,E.targetId,T)).next(()=>bt.forEach(E.ds,T=>g.persistence.referenceDelegate.removeReference(b,E.targetId,T)))))}catch(b){if(!hh(b))throw b;zt(Rb,"Failed to update sequence numbers: "+b)}for(const b of f){const E=b.targetId;if(!b.fromCache){const T=g.Ms.get(E),C=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(E,k)}}}(i.localStore,a))}async function Bj(n,t){const e=ue(n);if(!e.currentUser.isEqual(t)){zt(jb,"User change. New user:",t.toKey());const i=await l1(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new qt(wt.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Nf(e,i.Ls)}}function Hj(n,t){const e=ue(n),i=e.Au.get(t);if(i&&i.hu)return Ce().add(i.key);{let s=Ce();const a=e.Iu.get(t);if(!a)return s;for(const l of a){const u=e.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function S1(n){const t=ue(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=E1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vj.bind(null,t),t.Pu.H_=Sj.bind(null,t.eventManager),t.Pu.yu=Aj.bind(null,t.eventManager),t}function $j(n){const t=ue(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fj.bind(null,t),t}class qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ng(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return qP(this.persistence,new BP,t.initialUser,this.serializer)}Cu(t){return new o1(Ab.mi,this.serializer)}Du(t){return new ZP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qp.provider={build:()=>new qp};class qj extends qp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$e(this.persistence.referenceDelegate instanceof Hp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CP(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new o1(i=>Hp.mi(i,e),this.serializer)}}class Mv{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bj.bind(null,this.syncEngine),await bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new xj}()}createDatastore(t){const e=Ng(t.databaseInfo.databaseId),i=function(a){return new ij(a)}(t.databaseInfo);return function(a,l,u,h){return new oj(a,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,a,l,u){return new cj(i,s,a,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>rT(this.syncEngine,e,0),function(){return Jw.v()?new Jw:new JP}())}createSyncEngine(t,e){return function(s,a,l,u,h,f,g){const b=new Dj(s,a,l,u,h,f);return g&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=ue(e);zt(Mc,"RemoteStore shutting down."),i.Ea.add(5),await If(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mv.provider={build:()=>new Mv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):So("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="FirestoreClient";class Kj{constructor(t,e,i,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Pi.UNAUTHENTICATED,this.clientId=fb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{zt(Vl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(zt(Vl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Mb(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function M_(n,t){n.asyncQueue.verifyOperationInProgress(),zt(Vl,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await l1(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function oT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Wj(n);zt(Vl,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>eT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>eT(t.remoteStore,s)),n._onlineComponents=t}async function Wj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){zt(Vl,"Using user provided OfflineComponentProvider");try{await M_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===wt.FAILED_PRECONDITION||s.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Xu("Error using user provided cache. Falling back to memory cache: "+e),await M_(n,new qp)}}else zt(Vl,"Using default OfflineComponentProvider"),await M_(n,new qj(void 0));return n._offlineComponents}async function A1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(zt(Vl,"Using user provided OnlineComponentProvider"),await oT(n,n._uninitializedComponentsProvider._online)):(zt(Vl,"Using default OnlineComponentProvider"),await oT(n,new Mv))),n._onlineComponents}function Yj(n){return A1(n).then(t=>t.syncEngine)}async function Xj(n){const t=await A1(n),e=t.eventManager;return e.onListen=kj.bind(null,t.syncEngine),e.onUnlisten=Pj.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Oj.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=jj.bind(null,t.syncEngine),e}function Qj(n,t,e={}){const i=new Rl;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const g=new Gj({next:E=>{g.Nu(),l.enqueueAndForget(()=>Tj(a,b)),E.fromCache&&h.source==="server"?f.reject(new qt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),b=new Cj(u,g,{includeMetadataChanges:!0,qa:!0});return wj(a,b)}(await Xj(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firestore.googleapis.com",cT=!0;class uT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new qt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R1,this.ssl=cT}else this.host=t.host,this.ssl=t.ssl??cT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SP)throw new qt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C1(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new qt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new qt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new qt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Og{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new qt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ZM;switch(i.type){case"firstParty":return new n2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new qt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=lT.get(e);i&&(zt("ComponentProvider","Removing Datastore"),lT.delete(e),i.terminate())}(this),Promise.resolve()}}function Zj(n,t,e,i={}){n=Oc(n,Og);const s=zc(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;s&&(cb(`https://${u}`),ub("Firestore",!0)),a.host!==R1&&a.host!==u&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:i};if(!kl(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=Pi.MOCK_USER;else{f=eC(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new qt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Pi(b)}n._authCredentials=new JM(new _C(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Mg(this.firestore,t,this._query)}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}toJSON(){return{type:fi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Af(e,fi._jsonSchema))return new fi(t,i||null,new Xt(hn.fromString(e.referencePath)))}}fi._jsonSchemaVersion="firestore/documentReference/1.0",fi._jsonSchema={type:Gn("string",fi._jsonSchemaVersion),referencePath:Gn("string")};class Il extends Mg{constructor(t,e,i){super(t,e,LC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new Xt(t))}withConverter(t){return new Il(this.firestore,t,this._path)}}function en(n,t,...e){if(n=Ln(n),vC("collection","path",t),n instanceof Og){const i=hn.fromString(t,...e);return Tw(i),new Il(n,null,i)}{if(!(n instanceof fi||n instanceof Il))throw new qt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(t,...e));return Tw(i),new Il(n.firestore,null,i)}}function xa(n,t,...e){if(n=Ln(n),arguments.length===1&&(t=fb.newId()),vC("doc","path",t),n instanceof Og){const i=hn.fromString(t,...e);return ww(i),new fi(n,null,new Xt(i))}{if(!(n instanceof fi||n instanceof Il))throw new qt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(t,...e));return ww(i),new fi(n.firestore,n instanceof Il?n.converter:null,new Xt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="AsyncQueue";class dT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u1(this,"async_queue_retry"),this._c=()=>{const i=O_();i&&zt(hT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=O_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=O_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Rl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hh(t))throw t;zt(hT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,So("INTERNAL UNHANDLED ERROR: ",fT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=Ob.createAndSchedule(this,t,e,i,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function fT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Df extends Og{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new dT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new dT(t),this._firestoreClient=void 0,await t}}}function Jj(n,t){const e=typeof n=="object"?n:bg(),i=typeof n=="string"?n:jp,s=zl(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=ZA("firestore");a&&Zj(s,...a)}return s}function I1(n){if(n._terminated)throw new qt(wt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tL(n),n._firestoreClient}function tL(n){const t=n._freezeSettings(),e=function(s,a,l,u){return new v2(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,C1(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Kj(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this._byteString=t}static fromBase64String(t){try{return new or(Si.fromBase64String(t))}catch(e){throw new qt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new or(Si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Af(t,or._jsonSchema))return or.fromBase64String(t.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:Gn("string",or._jsonSchemaVersion),bytes:Gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new qt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new qt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ae(this._lat,t._lat)||Ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pa._jsonSchemaVersion}}static fromJSON(t){if(Af(t,pa._jsonSchema))return new pa(t.latitude,t.longitude)}}pa._jsonSchemaVersion="firestore/geoPoint/1.0",pa._jsonSchema={type:Gn("string",pa._jsonSchemaVersion),latitude:Gn("number"),longitude:Gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Af(t,ga._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new ga(t.vectorValues);throw new qt(wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ga._jsonSchemaVersion="firestore/vectorValue/1.0",ga._jsonSchema={type:Gn("string",ga._jsonSchemaVersion),vectorValues:Gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=/^__.*__$/;class nL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Hl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cf(t,this.data,e,this.fieldTransforms)}}class N1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Hl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function D1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:n})}}class Ub{constructor(t,e,i,s,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ub({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Gp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(D1(this.Ac)&&eL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class iL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ng(t)}Cc(t,e,i,s=!1){return new Ub({Ac:t,methodName:e,Dc:i,path:Ti.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k1(n){const t=n._freezeSettings(),e=Ng(n._databaseId);return new iL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sL(n,t,e,i,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,s);Fb("Data must be an object, but it was:",l,i);const u=O1(i,l);let h,f;if(a.merge)h=new Os(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const b of a.mergeFields){const E=Pv(t,b,e);if(!l.contains(E))throw new qt(wt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);P1(g,E)||g.push(E)}h=new Os(g),f=l.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,f=l.fieldTransforms;return new nL(new hs(u),h,f)}class jg extends Vb{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jg}}function rL(n,t,e,i){const s=n.Cc(1,t,e);Fb("Data must be an object, but it was:",s,i);const a=[],l=hs.empty();Bl(i,(h,f)=>{const g=zb(t,h,e);f=Ln(f);const b=s.yc(g);if(f instanceof jg)a.push(g);else{const E=Lg(f,b);E!=null&&(a.push(g),l.set(g,E))}});const u=new Os(a);return new N1(l,u,s.fieldTransforms)}function aL(n,t,e,i,s,a){const l=n.Cc(1,t,e),u=[Pv(t,i,e)],h=[s];if(a.length%2!=0)throw new qt(wt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)u.push(Pv(t,a[E])),h.push(a[E+1]);const f=[],g=hs.empty();for(let E=u.length-1;E>=0;--E)if(!P1(f,u[E])){const T=u[E];let C=h[E];C=Ln(C);const k=l.yc(T);if(C instanceof jg)f.push(T);else{const R=Lg(C,k);R!=null&&(f.push(T),g.set(T,R))}}const b=new Os(f);return new N1(g,b,l.fieldTransforms)}function Lg(n,t){if(M1(n=Ln(n)))return Fb("Unsupported field value:",t,n),O1(n,t);if(n instanceof Vb)return function(i,s){if(!D1(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const u of i){let h=Lg(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,s){if((i=Ln(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H2(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=dn.fromDate(i);return{timestampValue:Bp(s.serializer,a)}}if(i instanceof dn){const a=new dn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bp(s.serializer,a)}}if(i instanceof pa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof or)return{bytesValue:JC(s.serializer,i._byteString)};if(i instanceof fi){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Tb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ga)return function(l,u){return{mapValue:{fields:{[RC]:{stringValue:IC},[Lp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return bb(u.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${mb(i)}`)}(n,t)}function O1(n,t){const e={};return xC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bl(n,(i,s)=>{const a=Lg(s,t.mc(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function M1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dn||n instanceof pa||n instanceof or||n instanceof fi||n instanceof Vb||n instanceof ga)}function Fb(n,t,e){if(!M1(e)||!bC(e)){const i=mb(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Pv(n,t,e){if((t=Ln(t))instanceof Pg)return t._internalPath;if(typeof t=="string")return zb(n,t);throw Gp("Field path arguments must be of type string or ",n,!1,void 0,e)}const oL=new RegExp("[~\\*/\\[\\]]");function zb(n,t,e){if(t.search(oL)>=0)throw Gp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Pg(...t.split("."))._internalPath}catch{throw Gp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Gp(n,t,e,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new qt(wt.INVALID_ARGUMENT,u+n+h)}function P1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(L1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class lL extends j1{data(){return super.data()}}function L1(n,t){return typeof t=="string"?zb(n,t):t instanceof Pg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new qt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uL{convertValue(t,e="none"){switch(jl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Pl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw se(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Bl(t,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertVectorValue(t){const e=t.fields?.[Lp].arrayValue?.values?.map(i=>Mn(i.doubleValue));return new ga(e)}convertGeoPoint(t){return new pa(Mn(t.latitude),Mn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=wg(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(af(t));default:return null}}convertTimestamp(t){const e=Ml(t);return new dn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=hn.fromString(t);$e(r1(i),9688,{name:t});const s=new of(i.get(1),i.get(3)),a=new Xt(i.popFirst(5));return s.isEqual(e)||So(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Qm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hu extends j1{constructor(t,e,i,s,a,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(L1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qt(wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Hu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Hu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hu._jsonSchema={type:Gn("string",Hu._jsonSchemaVersion),bundleSource:Gn("string","DocumentSnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class Tp extends Hu{data(t={}){return super.data(t)}}class $u{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Qm(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Tp(this._firestore,this._userDataWriter,i.key,i,new Qm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new Tp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Qm(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Tp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Qm(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:dL(u.type),doc:h,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qt(wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$u._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}$u._jsonSchemaVersion="firestore/querySnapshot/1.0",$u._jsonSchema={type:Gn("string",$u._jsonSchemaVersion),bundleSource:Gn("string","QuerySnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class fL extends uL{constructor(t){super(),this.firestore=t}convertBytes(t){return new or(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function Pn(n){n=Oc(n,Mg);const t=Oc(n.firestore,Df),e=I1(t),i=new fL(t);return cL(n._query),Qj(e,n._query).then(s=>new $u(t,i,n,s))}function kf(n,t,e,...i){n=Oc(n,fi);const s=Oc(n.firestore,Df),a=k1(s);let l;return l=typeof(t=Ln(t))=="string"||t instanceof Pg?aL(a,"updateDoc",n._key,t,e,i):rL(a,"updateDoc",n._key,t),Bb(s,[l.toMutation(n._key,Mr.exists(!0))])}function Vg(n){return Bb(Oc(n.firestore,Df),[new Eb(n._key,Mr.none())])}function Pc(n,t){const e=Oc(n.firestore,Df),i=xa(n),s=hL(n.converter,t);return Bb(e,[sL(k1(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Mr.exists(!1))]).then(()=>i)}function Bb(n,t){return function(i,s){const a=new Rl;return i.asyncQueue.enqueueAndForget(async()=>Lj(await Yj(i),s,a)),a.promise}(I1(n),t)}(function(t,e=!0){(function(s){ch=s})(Hc),jr(new ur("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new Df(new t2(i.getProvider("auth-internal")),new i2(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new qt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(f.options.projectId,g)}(l,s),l);return a={useFetchStreams:e,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),fs(vw,bw,t),fs(vw,bw,"esm2020")})();var mL="firebase",pL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(mL,pL,"app");const V1="@firebase/installations",Hb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e4,F1=`w:${Hb}`,z1="FIS_v2",gL="https://firebaseinstallations.googleapis.com/v1",yL=3600*1e3,_L="installations",vL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jc=new Bc(_L,vL,bL);function B1(n){return n instanceof dr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1({projectId:n}){return`${gL}/projects/${n}/installations`}function $1(n){return{token:n.token,requestStatus:2,expiresIn:xL(n.expiresIn),creationTime:Date.now()}}async function q1(n,t){const i=(await t.json()).error;return jc.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function G1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function EL(n,{refreshToken:t}){const e=G1(n);return e.append("Authorization",wL(t)),e}async function K1(n){const t=await n();return t.status>=500&&t.status<600?n():t}function xL(n){return Number(n.replace("s","000"))}function wL(n){return`${z1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=H1(n),s=G1(n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:e,authVersion:z1,appId:n.appId,sdkVersion:F1},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await K1(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||e,registrationStatus:2,refreshToken:f.refreshToken,authToken:$1(f.authToken)}}else throw await q1("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/^[cdef][\w-]{21}$/,jv="";function CL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=RL(n);return AL.test(e)?e:jv}catch{return jv}}function RL(n){return SL(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function X1(n,t){const e=Ug(n);Q1(e,t),IL(e,t)}function Q1(n,t){const e=Y1.get(n);if(e)for(const i of e)i(t)}function IL(n,t){const e=NL();e&&e.postMessage({key:n,fid:t}),DL()}let Ic=null;function NL(){return!Ic&&"BroadcastChannel"in self&&(Ic=new BroadcastChannel("[Firebase] FID Change"),Ic.onmessage=n=>{Q1(n.data.key,n.data.fid)}),Ic}function DL(){Y1.size===0&&Ic&&(Ic.close(),Ic=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebase-installations-database",OL=1,Lc="firebase-installations-store";let P_=null;function $b(){return P_||(P_=oC(kL,OL,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Lc)}}})),P_}async function Kp(n,t){const e=Ug(n),s=(await $b()).transaction(Lc,"readwrite"),a=s.objectStore(Lc),l=await a.get(e);return await a.put(t,e),await s.done,(!l||l.fid!==t.fid)&&X1(n,t.fid),t}async function Z1(n){const t=Ug(n),i=(await $b()).transaction(Lc,"readwrite");await i.objectStore(Lc).delete(t),await i.done}async function Fg(n,t){const e=Ug(n),s=(await $b()).transaction(Lc,"readwrite"),a=s.objectStore(Lc),l=await a.get(e),u=t(l);return u===void 0?await a.delete(e):await a.put(u,e),await s.done,u&&(!l||l.fid!==u.fid)&&X1(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(n){let t;const e=await Fg(n.appConfig,i=>{const s=ML(i),a=PL(n,s);return t=a.registrationPromise,a.installationEntry});return e.fid===jv?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function ML(n){const t=n||{fid:CL(),registrationStatus:0};return J1(t)}function PL(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(jc.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=jL(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:LL(n)}:{installationEntry:t}}async function jL(n,t){try{const e=await TL(n,t);return Kp(n.appConfig,e)}catch(e){throw B1(e)&&e.customData.serverCode===409?await Z1(n.appConfig):await Kp(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function LL(n){let t=await mT(n.appConfig);for(;t.registrationStatus===1;)await W1(100),t=await mT(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await qb(n);return i||e}return t}function mT(n){return Fg(n,t=>{if(!t)throw jc.create("installation-not-found");return J1(t)})}function J1(n){return VL(n)?{fid:n.fid,registrationStatus:0}:n}function VL(n){return n.registrationStatus===1&&n.registrationTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL({appConfig:n,heartbeatServiceProvider:t},e){const i=FL(n,e),s=EL(n,e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:F1,appId:n.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await K1(()=>fetch(i,u));if(h.ok){const f=await h.json();return $1(f)}else throw await q1("Generate Auth Token",h)}function FL(n,{fid:t}){return`${H1(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(n,t=!1){let e;const i=await Fg(n.appConfig,a=>{if(!tR(a))throw jc.create("not-registered");const l=a.authToken;if(!t&&HL(l))return a;if(l.requestStatus===1)return e=zL(n,t),a;{if(!navigator.onLine)throw jc.create("app-offline");const u=qL(a);return e=BL(n,u),u}});return e?await e:i.authToken}async function zL(n,t){let e=await pT(n.appConfig);for(;e.authToken.requestStatus===1;)await W1(100),e=await pT(n.appConfig);const i=e.authToken;return i.requestStatus===0?Gb(n,t):i}function pT(n){return Fg(n,t=>{if(!tR(t))throw jc.create("not-registered");const e=t.authToken;return GL(e)?{...t,authToken:{requestStatus:0}}:t})}async function BL(n,t){try{const e=await UL(n,t),i={...t,authToken:e};return await Kp(n.appConfig,i),e}catch(e){if(B1(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await Z1(n.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Kp(n.appConfig,i)}throw e}}function tR(n){return n!==void 0&&n.registrationStatus===2}function HL(n){return n.requestStatus===2&&!$L(n)}function $L(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+yL}function qL(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function GL(n){return n.requestStatus===1&&n.requestTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n){const t=n,{installationEntry:e,registrationPromise:i}=await qb(t);return i?i.catch(console.error):Gb(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(n,t=!1){const e=n;return await YL(e),(await Gb(e,t)).token}async function YL(n){const{registrationPromise:t}=await qb(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n){if(!n||!n.options)throw j_("App Configuration");if(!n.name)throw j_("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw j_(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function j_(n){return jc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="installations",QL="installations-internal",ZL=n=>{const t=n.getProvider("app").getImmediate(),e=XL(t),i=zl(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},JL=n=>{const t=n.getProvider("app").getImmediate(),e=zl(t,eR).getImmediate();return{getId:()=>KL(e),getToken:s=>WL(e,s)}};function tV(){jr(new ur(eR,ZL,"PUBLIC")),jr(new ur(QL,JL,"PRIVATE"))}tV();fs(V1,Hb);fs(V1,Hb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="analytics",eV="firebase_id",nV="origin",iV=60*1e3,sV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new vg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ms=new Bc("analytics","Analytics",rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(n){if(!n.startsWith(Kb)){const t=Ms.create("invalid-gtag-resource",{gtagURL:n});return ms.warn(t.message),""}return n}function nR(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function oV(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function lV(n,t){const e=oV("firebase-js-sdk-policy",{createScriptURL:aV}),i=document.createElement("script"),s=`${Kb}?l=${n}&id=${t}`;i.src=e?e?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function cV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function uV(n,t,e,i,s,a){const l=i[s];try{if(l)await t[l];else{const h=(await nR(e)).find(f=>f.measurementId===s);h&&await t[h.appId]}}catch(u){ms.error(u)}n("config",s,a)}async function hV(n,t,e,i,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await nR(e);for(const h of l){const f=u.find(b=>b.measurementId===h),g=f&&t[f.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),n("event",i,s||{})}catch(a){ms.error(a)}}function dV(n,t,e,i){async function s(a,...l){try{if(a==="event"){const[u,h]=l;await hV(n,t,e,u,h)}else if(a==="config"){const[u,h]=l;await uV(n,t,e,i,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){ms.error(u)}}return s}function fV(n,t,e,i,s){let a=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=dV(a,n,t,e),{gtagCore:a,wrappedGtag:window[s]}}function mV(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Kb)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=30,gV=1e3;class yV{constructor(t={},e=gV){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const iR=new yV;function _V(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function vV(n){const{appId:t,apiKey:e}=n,i={method:"GET",headers:_V(e)},s=sV.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw Ms.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function bV(n,t=iR,e){const{appId:i,apiKey:s,measurementId:a}=n.options;if(!i)throw Ms.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw Ms.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new wV;return setTimeout(async()=>{u.abort()},iV),sR({appId:i,apiKey:s,measurementId:a},l,u,t)}async function sR(n,{throttleEndTimeMillis:t,backoffCount:e},i,s=iR){const{appId:a,measurementId:l}=n;try{await EV(i,t)}catch(u){if(l)return ms.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await vV(n);return s.deleteThrottleMetadata(a),u}catch(u){const h=u;if(!xV(h)){if(s.deleteThrottleMetadata(a),l)return ms.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw u}const f=Number(h?.customData?.httpStatus)===503?cw(e,s.intervalMillis,pV):cw(e,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:e+1};return s.setThrottleMetadata(a,g),ms.debug(`Calling attemptFetch again in ${f} millis`),sR(n,g,i,s)}}function EV(n,t){return new Promise((e,i)=>{const s=Math.max(t-Date.now(),0),a=setTimeout(e,s);n.addEventListener(()=>{clearTimeout(a),i(Ms.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function xV(n){if(!(n instanceof dr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class wV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function TV(n,t,e,i,s){if(s&&s.global){n("event",e,i);return}else{const a=await t,l={...i,send_to:a};n("event",e,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(){if(iC())try{await sC()}catch(n){return ms.warn(Ms.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ms.warn(Ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AV(n,t,e,i,s,a,l){const u=bV(n);u.then(E=>{e[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&ms.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ms.error(E)),t.push(u);const h=SV().then(E=>{if(E)return i.getId()}),[f,g]=await Promise.all([u,h]);mV(a)||lV(a,f.measurementId),s("js",new Date);const b=l?.config??{};return b[nV]="firebase",b.update=!0,g!=null&&(b[eV]=g),s("config",f.measurementId,b),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(t){this.app=t}_delete(){return delete Xd[this.app.options.appId],Promise.resolve()}}let Xd={},gT=[];const yT={};let L_="dataLayer",RV="gtag",_T,rR,vT=!1;function IV(){const n=[];if(nC()&&n.push("This is a browser extension environment."),OO()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),e=Ms.create("invalid-analytics-context",{errorInfo:t});ms.warn(e.message)}}function NV(n,t,e){IV();const i=n.options.appId;if(!i)throw Ms.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ms.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ms.create("no-api-key");if(Xd[i]!=null)throw Ms.create("already-exists",{id:i});if(!vT){cV(L_);const{wrappedGtag:a,gtagCore:l}=fV(Xd,gT,yT,L_,RV);rR=a,_T=l,vT=!0}return Xd[i]=AV(n,gT,yT,t,_T,L_,e),new CV(n)}function DV(n=bg()){n=Ln(n);const t=zl(n,Wp);return t.isInitialized()?t.getImmediate():kV(n)}function kV(n,t={}){const e=zl(n,Wp);if(e.isInitialized()){const s=e.getImmediate();if(kl(t,e.getOptions()))return s;throw Ms.create("already-initialized")}return e.initialize({options:t})}function OV(n,t,e,i){n=Ln(n),TV(rR,Xd[n.app.options.appId],t,e,i).catch(s=>ms.error(s))}const bT="@firebase/analytics",ET="0.10.18";function MV(){jr(new ur(Wp,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return NV(i,s,e)},"PUBLIC")),jr(new ur("analytics-internal",n,"PRIVATE")),fs(bT,ET),fs(bT,ET,"esm2020");function n(t){try{const e=t.getProvider(Wp).getImmediate();return{logEvent:(i,s,a)=>OV(e,i,s,a)}}catch(e){throw Ms.create("interop-component-reg-failed",{reason:e})}}}MV();function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PV=aR,oR=new Bc("auth","Firebase",aR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new vg("@firebase/auth");function jV(n,...t){Yp.logLevel<=Se.WARN&&Yp.warn(`Auth (${Hc}): ${n}`,...t)}function Sp(n,...t){Yp.logLevel<=Se.ERROR&&Yp.error(`Auth (${Hc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n,...t){throw Wb(n,...t)}function ya(n,...t){return Wb(n,...t)}function lR(n,t,e){const i={...PV(),[t]:e};return new Bc("auth","Firebase",i).create(t,{appName:n.name})}function Nl(n){return lR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wb(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return oR.create(n,...t)}function ie(n,t,...e){if(!n)throw Wb(t,...e)}function yo(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Sp(t),new Error(t)}function Co(n,t){n||yo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof self<"u"&&self.location?.href||""}function LV(){return xT()==="http:"||xT()==="https:"}function xT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LV()||nC()||"connection"in navigator)?navigator.onLine:!0}function UV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,e){this.shortDelay=t,this.longDelay=e,Co(e>t,"Short delay should be less than long delay!"),this.isMobile=CO()||NO()}get(){return VV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,t){Co(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BV=new Of(3e4,6e4);function Gc(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function $l(n,t,e,i,s={}){return uR(n,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const u=Sf({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:h,...a};return IO()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&zc(n.emulatorConfig.host)&&(f.credentials="include"),cR.fetch()(await hR(n,n.config.apiHost,e,u),f)})}async function uR(n,t,e){n._canInitEmulator=!1;const i={...FV,...t};try{const s=new $V(n),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Zm(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zm(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Zm(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Zm(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lR(n,g,f);Lr(n,g)}}catch(s){if(s instanceof dr)throw s;Lr(n,"network-request-failed",{message:String(s)})}}async function zg(n,t,e,i,s={}){const a=await $l(n,t,e,i,s);return"mfaPendingCredential"in a&&Lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function hR(n,t,e,i){const s=`${t}${e}?${i}`,a=n,l=a.config.emulator?Yb(n.config,s):`${n.config.apiScheme}://${s}`;return zV.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function HV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $V{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ya(this.auth,"network-request-failed")),BV.get())})}}function Zm(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=ya(n,t,i);return s.customData._tokenResponse=e,s}function wT(n){return n!==void 0&&n.enterprise!==void 0}class qV{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return HV(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GV(n,t){return $l(n,"GET","/v2/recaptchaConfig",Gc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(n,t){return $l(n,"POST","/v1/accounts:delete",t)}async function Xp(n,t){return $l(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WV(n,t=!1){const e=Ln(n),i=await e.getIdToken(t),s=Xb(i);ie(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:i,authTime:Qd(V_(s.auth_time)),issuedAtTime:Qd(V_(s.iat)),expirationTime:Qd(V_(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function V_(n){return Number(n)*1e3}function Xb(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const s=XA(e);return s?JSON.parse(s):(Sp("Failed to decode base64 JWT payload"),null)}catch(s){return Sp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function TT(n){const t=Xb(n);return ie(t,"internal-error"),ie(typeof t.exp<"u","internal-error"),ie(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof dr&&YV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function YV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qd(this.lastLoginAt),this.creationTime=Qd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(n){const t=n.auth,e=await n.getIdToken(),i=await hf(n,Xp(t,{idToken:e}));ie(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?dR(s.providerUserInfo):[],l=ZV(n.providerData,a),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,f=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Vv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function QV(n){const t=Ln(n);await Qp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZV(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function dR(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,t){const e=await uR(n,{},async()=>{const i=Sf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await hR(n,s,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&zc(n.emulatorConfig.host)&&(h.credentials="include"),cR.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function t4(n,t){return $l(n,"POST","/v2/accounts:revokeToken",Gc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ie(t.idToken,"internal-error"),ie(typeof t.idToken<"u","internal-error"),ie(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):TT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ie(t.length!==0,"internal-error");const e=TT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:a}=await JV(t,e);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:a}=e,l=new qu;return i&&(ie(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(ie(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(ie(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n,t){ie(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class kr{constructor({uid:t,auth:e,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new XV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await hf(this,this.stsTokenManager.getToken(this.auth,t));return ie(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return WV(this,t)}reload(){return QV(this)}_assign(t){this!==t&&(ie(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new kr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Qp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Nl(this.auth));const t=await this.getIdToken();return await hf(this,KV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,s=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,h=e._redirectEventId??void 0,f=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:T,providerData:C,stsTokenManager:k}=e;ie(b&&k,t,"internal-error");const R=qu.fromJSON(this.name,k);ie(typeof b=="string",t,"internal-error"),ml(i,t.name),ml(s,t.name),ie(typeof E=="boolean",t,"internal-error"),ie(typeof T=="boolean",t,"internal-error"),ml(a,t.name),ml(l,t.name),ml(u,t.name),ml(h,t.name),ml(f,t.name),ml(g,t.name);const V=new kr({uid:b,auth:t,email:s,emailVerified:E,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:R,createdAt:f,lastLoginAt:g});return C&&Array.isArray(C)&&(V.providerData=C.map($=>({...$}))),h&&(V._redirectEventId=h),V}static async _fromIdTokenResponse(t,e,i=!1){const s=new qu;s.updateFromServerResponse(e);const a=new kr({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Qp(a),a}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];ie(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?dR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new qu;u.updateFromIdToken(i);const h=new kr({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;function _o(n){Co(n instanceof Function,"Expected a class definition");let t=ST.get(n);return t?(Co(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ST.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}fR.type="NONE";const AT=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,t,e){return`firebase:${n}:${t}:${e}`}class Gu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Ap(this.userKey,s.apiKey,a),this.fullPersistenceKey=Ap("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Xp(this.auth,{idToken:t}).catch(()=>{});return e?kr._fromGetAccountInfoResponse(this.auth,e,t):null}return kr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Gu(_o(AT),t,i);const s=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||_o(AT);const l=Ap(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const g=await f._get(l);if(g){let b;if(typeof g=="string"){const E=await Xp(t,{idToken:g}).catch(()=>{});if(!E)break;b=await kr._fromGetAccountInfoResponse(t,E,g)}else b=kr._fromJSON(t,g);f!==a&&(u=b),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Gu(a,t,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Gu(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vR(t))return"Blackberry";if(bR(t))return"Webos";if(pR(t))return"Safari";if((t.includes("chrome/")||gR(t))&&!t.includes("edge/"))return"Chrome";if(_R(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function mR(n=Ui()){return/firefox\//i.test(n)}function pR(n=Ui()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gR(n=Ui()){return/crios\//i.test(n)}function yR(n=Ui()){return/iemobile/i.test(n)}function _R(n=Ui()){return/android/i.test(n)}function vR(n=Ui()){return/blackberry/i.test(n)}function bR(n=Ui()){return/webos/i.test(n)}function Qb(n=Ui()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e4(n=Ui()){return Qb(n)&&!!window.navigator?.standalone}function n4(){return DO()&&document.documentMode===10}function ER(n=Ui()){return Qb(n)||_R(n)||bR(n)||vR(n)||/windows phone/i.test(n)||yR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n,t=[]){let e;switch(n){case"Browser":e=CT(Ui());break;case"Worker":e=`${CT(Ui())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Hc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=a=>new Promise((l,u)=>{try{const h=t(a);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,t={}){return $l(n,"GET","/v2/passwordPolicy",Gc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=6;class a4{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??r4,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new i4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=_o(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Xp(this,{idToken:t}),i=await kr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ar(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Qp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ar(this.app))return Promise.reject(Nl(this));const e=t?Ln(t):null;return e&&ie(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ie(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Nl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ar(this.app)?Promise.reject(Nl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_o(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await s4(this),e=new a4(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await t4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&_o(t)||this._popupRedirectResolver;ie(e,this,"argument-error"),this.redirectPersistenceManager=await Gu.create(this,[_o(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fh(n){return Ln(n)}class RT{constructor(t){this.auth=t,this.observer=null,this.addObserver=VO(e=>this.observer=e)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l4(n){Bg=n}function wR(n){return Bg.loadJS(n)}function c4(){return Bg.recaptchaEnterpriseScript}function u4(){return Bg.gapiScript}function h4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class d4{constructor(){this.enterprise=new f4}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class f4{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const m4="recaptcha-enterprise",TR="NO_RECAPTCHA";class p4{constructor(t){this.type=m4,this.auth=fh(t)}async verify(t="verify",e=!1){async function i(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{GV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new qV(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;wT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(TR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!e&&wT(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=c4();h.length!==0&&(h+=u),wR(h).then(()=>{s(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function IT(n,t,e,i=!1,s=!1){const a=new p4(n);let l;if(s)l=TR;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function NT(n,t,e,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await IT(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await IT(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n,t){const e=zl(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(kl(a,t??{}))return s;Lr(s,"already-initialized")}return e.initialize({options:t})}function y4(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(_o);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function _4(n,t,e){const i=fh(n);ie(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=SR(t),{host:l,port:u}=v4(t),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ie(kl(f,i.config.emulator)&&kl(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,zc(l)?(cb(`${a}//${l}${h}`),ub("Auth",!0)):b4()}function SR(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function v4(n){const t=SR(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:DT(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:DT(l)}}}function DT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function b4(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return yo("not implemented")}_getIdTokenResponse(t){return yo("not implemented")}_linkToIdToken(t,e){return yo("not implemented")}_getReauthenticationResolver(t){return yo("not implemented")}}async function E4(n,t){return $l(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(n,t){return zg(n,"POST","/v1/accounts:signInWithPassword",Gc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(n,t){return zg(n,"POST","/v1/accounts:signInWithEmailLink",Gc(n,t))}async function T4(n,t){return zg(n,"POST","/v1/accounts:signInWithEmailLink",Gc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Zb{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new df(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new df(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NT(t,e,"signInWithPassword",x4);case"emailLink":return w4(t,{email:this._email,oobCode:this._password});default:Lr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NT(t,i,"signUpPassword",E4);case"emailLink":return T4(t,{idToken:e,email:this._email,oobCode:this._password});default:Lr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(n,t){return zg(n,"POST","/v1/accounts:signInWithIdp",Gc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="http://localhost";class Vc extends Zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Vc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Lr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=e;if(!i||!s)return null;const l=new Vc(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Ku(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ku(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ku(t,e)}buildRequest(){const t={requestUri:S4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Sf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C4(n){const t=jd(Ld(n)).link,e=t?jd(Ld(t)).deep_link_id:null,i=jd(Ld(n)).deep_link_id;return(i?jd(Ld(i)).link:null)||i||e||t||n}class Jb{constructor(t){const e=jd(Ld(t)),i=e.apiKey??null,s=e.oobCode??null,a=A4(e.mode??null);ie(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=C4(t);try{return new Jb(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.providerId=mh.PROVIDER_ID}static credential(t,e){return df._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Jb.parseLink(e);return ie(i,"argument-error"),df._fromEmailAndCode(t,i.code,i.tenantId)}}mh.PROVIDER_ID="password";mh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends AR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Mf{constructor(){super("facebook.com")}static credential(t){return Vc._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _l.credentialFromTaggedObject(t)}static credentialFromError(t){return _l.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _l.credential(t.oauthAccessToken)}catch{return null}}}_l.FACEBOOK_SIGN_IN_METHOD="facebook.com";_l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Vc._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return vl.credentialFromTaggedObject(t)}static credentialFromError(t){return vl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return vl.credential(e,i)}catch{return null}}}vl.GOOGLE_SIGN_IN_METHOD="google.com";vl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Mf{constructor(){super("github.com")}static credential(t){return Vc._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bl.credentialFromTaggedObject(t)}static credentialFromError(t){return bl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bl.credential(t.oauthAccessToken)}catch{return null}}}bl.GITHUB_SIGN_IN_METHOD="github.com";bl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Mf{constructor(){super("twitter.com")}static credential(t,e){return Vc._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return El.credentialFromTaggedObject(t)}static credentialFromError(t){return El.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return El.credential(e,i)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const a=await kr._fromIdTokenResponse(t,i,s),l=kT(i);return new nh({user:a,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=kT(i);return new nh({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function kT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends dr{constructor(t,e,i,s){super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new Zp(t,e,i,s)}}function CR(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(n,a,t,i):a})}async function R4(n,t,e=!1){const i=await hf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return nh._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,t,e=!1){const{auth:i}=n;if(ar(i.app))return Promise.reject(Nl(i));const s="reauthenticate";try{const a=await hf(n,CR(i,s,t,n),e);ie(a.idToken,i,"internal-error");const l=Xb(a.idToken);ie(l,i,"internal-error");const{sub:u}=l;return ie(n.uid===u,i,"user-mismatch"),nh._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,t,e=!1){if(ar(n.app))return Promise.reject(Nl(n));const i="signIn",s=await CR(n,i,t),a=await nh._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(a.user),a}async function N4(n,t){return RR(fh(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(n){const t=fh(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function k4(n,t,e){return ar(n.app)?Promise.reject(Nl(n)):N4(Ln(n),mh.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&D4(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n,t){return Ln(n).setPersistence(t)}function M4(n,t,e,i){return Ln(n).onIdTokenChanged(t,e,i)}function P4(n,t,e){return Ln(n).beforeAuthStateChanged(t,e)}function j4(n,t,e,i){return Ln(n).onAuthStateChanged(t,e,i)}function L4(n){return Ln(n).signOut()}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=1e3,U4=10;class NR extends IR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ER(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);n4()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,U4):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},V4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}NR.type="LOCAL";const DR=NR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR extends IR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}kR.type="SESSION";const OR=kR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Hg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async f=>f(e.origin,a)),h=await F4(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=t0("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(b){const E=b;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(E.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return window}function B4(n){_a().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return typeof _a().WorkerGlobalScope<"u"&&typeof _a().importScripts=="function"}async function H4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $4(){return navigator?.serviceWorker?.controller||null}function q4(){return MR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebaseLocalStorageDb",G4=1,tg="firebaseLocalStorage",jR="fbase_key";class Pf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function $g(n,t){return n.transaction([tg],t?"readwrite":"readonly").objectStore(tg)}function K4(){const n=indexedDB.deleteDatabase(PR);return new Pf(n).toPromise()}function Uv(){const n=indexedDB.open(PR,G4);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(tg,{keyPath:jR})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(tg)?t(i):(i.close(),await K4(),t(await Uv()))})})}async function OT(n,t,e){const i=$g(n,!0).put({[jR]:t,value:e});return new Pf(i).toPromise()}async function W4(n,t){const e=$g(n,!1).get(t),i=await new Pf(e).toPromise();return i===void 0?null:i.value}function MT(n,t){const e=$g(n,!0).delete(t);return new Pf(e).toPromise()}const Y4=800,X4=3;class LR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uv(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>X4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hg._getInstance(q4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H4(),!this.activeServiceWorker)return;this.sender=new z4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Uv();return await OT(t,Jp,"1"),await MT(t,Jp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>OT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>W4(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>MT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=$g(s,!1).getAll();return new Pf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LR.type="LOCAL";const Q4=LR;new Of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n,t){return t?_o(t):(ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Zb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ku(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ku(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ku(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function J4(n){return RR(n.auth,new e0(n),n.bypassAuthState)}function t6(n){const{auth:t,user:e}=n;return ie(e,t,"internal-error"),I4(e,new e0(n),n.bypassAuthState)}async function e6(n){const{auth:t,user:e}=n;return ie(e,t,"internal-error"),R4(e,new e0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,e,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:a,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return J4;case"linkViaPopup":case"linkViaRedirect":return e6;case"reauthViaPopup":case"reauthViaRedirect":return t6;default:Lr(this.auth,"internal-error")}}resolve(t){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Of(2e3,1e4);class zu extends VR{constructor(t,e,i,s,a){super(t,e,s,a),this.provider=i,this.authWindow=null,this.pollId=null,zu.currentPopupAction&&zu.currentPopupAction.cancel(),zu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ie(t,this.auth,"internal-error"),t}async onExecution(){Co(this.filter.length===1,"Popup operations only handle one event");const t=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n6.get())};t()}}zu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="pendingRedirect",Cp=new Map;class s6 extends VR{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Cp.get(this.auth._key());if(!t){try{const i=await r6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Cp.set(this.auth._key(),t)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r6(n,t){const e=l6(t),i=o6(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function a6(n,t){Cp.set(n._key(),t)}function o6(n){return _o(n._redirectPersistence)}function l6(n){return Ap(i6,n.config.apiKey,n.name)}async function c6(n,t,e=!1){if(ar(n.app))return Promise.reject(Nl(n));const i=fh(n),s=Z4(i,t),l=await new s6(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=600*1e3;class h6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!d6(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!UR(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ya(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=u6&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(t))}saveEventToCache(t){this.cachedEventUids.add(PT(t)),this.lastProcessedEventTime=Date.now()}}function PT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function UR({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function d6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(n,t={}){return $l(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p6=/^https?/;async function g6(n){if(n.config.emulator)return;const{authorizedDomains:t}=await f6(n);for(const e of t)try{if(y6(e))return}catch{}Lr(n,"unauthorized-domain")}function y6(n){const t=Lv(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!p6.test(e))return!1;if(m6.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new Of(3e4,6e4);function jT(){const n=_a().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function v6(n){return new Promise((t,e)=>{function i(){jT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jT(),e(ya(n,"network-request-failed"))},timeout:_6.get()})}if(_a().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_a().gapi?.load)i();else{const s=h4("iframefcb");return _a()[s]=()=>{gapi.load?i():e(ya(n,"network-request-failed"))},wR(`${u4()}?onload=${s}`).catch(a=>e(a))}}).catch(t=>{throw Rp=null,t})}let Rp=null;function b6(n){return Rp=Rp||v6(n),Rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new Of(5e3,15e3),x6="__/auth/iframe",w6="emulator/auth/iframe",T6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A6(n){const t=n.config;ie(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Yb(t,w6):`https://${n.config.authDomain}/${x6}`,i={apiKey:t.apiKey,appName:n.name,v:Hc},s=S6.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${e}?${Sf(i).slice(1)}`}async function C6(n){const t=await b6(n),e=_a().gapi;return ie(e,n,"internal-error"),t.open({where:document.body,url:A6(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T6,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=ya(n,"network-request-failed"),u=_a().setTimeout(()=>{a(l)},E6.get());function h(){_a().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,N6=600,D6="_blank",k6="http://localhost";class LT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O6(n,t,e,i=I6,s=N6){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...R6,width:i.toString(),height:s.toString(),top:a,left:l},f=Ui().toLowerCase();e&&(u=gR(f)?D6:e),mR(f)&&(t=t||k6,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[T,C])=>`${E}${T}=${C},`,"");if(e4(f)&&u!=="_self")return M6(t||"",u),new LT(null);const b=window.open(t||"",u,g);ie(b,n,"popup-blocked");try{b.focus()}catch{}return new LT(b)}function M6(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",j6="emulator/auth/handler",L6=encodeURIComponent("fac");async function VT(n,t,e,i,s,a){ie(n.config.authDomain,n,"auth-domain-config-required"),ie(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Hc,eventId:s};if(t instanceof AR){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",LO(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,b]of Object.entries({}))l[g]=b}if(t instanceof Mf){const g=t.getScopes().filter(b=>b!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),f=h?`#${L6}=${encodeURIComponent(h)}`:"";return`${V6(n)}?${Sf(u).slice(1)}${f}`}function V6({config:n}){return n.emulator?Yb(n,j6):`https://${n.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="webStorageSupport";class U6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OR,this._completeRedirectFn=c6,this._overrideRedirectResult=a6}async _openPopup(t,e,i,s){Co(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await VT(t,e,i,Lv(),s);return O6(t,a,t0())}async _openRedirect(t,e,i,s){await this._originValidation(t);const a=await VT(t,e,i,Lv(),s);return B4(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(Co(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await C6(t),i=new h6(t);return e.register("authEvent",s=>(ie(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(U_,{type:U_},s=>{const a=s?.[0]?.[U_];a!==void 0&&e(!!a),Lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=g6(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ER()||pR()||Qb()}}const F6=U6;var UT="@firebase/auth",FT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H6(n){jr(new ur("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;ie(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xR(n)},f=new o4(i,s,a,h);return y4(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),jr(new ur("auth-internal",t=>{const e=fh(t.getProvider("auth").getImmediate());return(i=>new z6(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(UT,FT,B6(n)),fs(UT,FT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=300,q6=tC("authIdTokenMaxAge")||$6;let zT=null;const G6=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>q6)return;const s=e?.token;zT!==s&&(zT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function K6(n=bg()){const t=zl(n,"auth");if(t.isInitialized())return t.getImmediate();const e=g4(n,{popupRedirectResolver:F6,persistence:[Q4,DR,OR]}),i=tC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=G6(a.toString());P4(e,l,()=>l(e.currentUser)),M4(e,u=>l(u))}}const s=QA("auth");return s&&_4(e,`http://${s}`),e}function W6(){return document.getElementsByTagName("head")?.[0]??document}l4({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const a=ya("internal-error");a.customData=s,e(a)},i.type="text/javascript",i.charset="UTF-8",W6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebasestorage.googleapis.com",Y6="storageBucket",X6=120*1e3,Q6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends dr{constructor(t,e,i=0){super(F_(t),`Firebase Storage: ${e} (${F_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Aa.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return F_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wa;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wa||(wa={}));function F_(n){return"storage/"+n}function Z6(){const n="An unknown error occurred, please check the error payload for server response.";return new Aa(wa.UNKNOWN,n)}function J6(){return new Aa(wa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tU(){return new Aa(wa.CANCELED,"User canceled the upload/download.")}function eU(n){return new Aa(wa.INVALID_URL,"Invalid URL '"+n+"'.")}function nU(n){return new Aa(wa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function BT(n){return new Aa(wa.INVALID_ARGUMENT,n)}function zR(){return new Aa(wa.APP_DELETED,"The Firebase app was deleted.")}function iU(n){return new Aa(wa.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Or.makeFromUrl(t,e)}catch{return new Or(t,"")}if(i.path==="")return i;throw nU(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(Q){Q.path_=decodeURIComponent(Q.path)}const g="v[A-Za-z0-9_]+",b=e.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",T=new RegExp(`^https?://${b}/${g}/b/${s}/o${E}`,"i"),C={bucket:1,path:3},k=e===FR?"(?:storage.googleapis.com|storage.cloud.google.com)":e,R="([^?#]*)",V=new RegExp(`^https?://${k}/${s}/${R}`,"i"),q=[{regex:u,indices:h,postModify:a},{regex:T,indices:C,postModify:f},{regex:V,indices:{bucket:1,path:2},postModify:f}];for(let Q=0;Q<q.length;Q++){const W=q[Q],Z=W.regex.exec(t);if(Z){const U=Z[W.indices.bucket];let I=Z[W.indices.path];I||(I=""),i=new Or(U,I),W.postModify(i);break}}if(i==null)throw eU(t);return i}}class sU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(n,t,e){let i=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let f=!1;function g(...R){f||(f=!0,t.apply(null,R))}function b(R){s=setTimeout(()=>{s=null,n(T,h())},R)}function E(){a&&clearTimeout(a)}function T(R,...V){if(f){E();return}if(R){E(),g.call(null,R,...V);return}if(h()||l){E(),g.call(null,R,...V);return}i<64&&(i*=2);let q;u===1?(u=2,q=0):q=(i+Math.random())*1e3,b(q)}let C=!1;function k(R){C||(C=!0,E(),!f&&(s!==null?(R||(u=2),clearTimeout(s),b(0)):R||(u=1)))}return b(0),a=setTimeout(()=>{l=!0,k(!0)},e),k}function aU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(n){return n!==void 0}function HT(n,t,e,i){if(i<t)throw BT(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw BT(`Invalid value for '${n}'. Expected ${e} or less.`)}function lU(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const s=t(i)+"="+t(n[i]);e=e+s+"&"}return e=e.slice(0,-1),e}var eg;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(eg||(eg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(n,t){const e=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=t.indexOf(n)!==-1;return e||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(t,e,i,s,a,l,u,h,f,g,b,E=!0,T=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=b,this.retry=E,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new Jm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===eg.NO_ERROR,h=a.getStatus();if(!u||cU(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===eg.ABORT;i(!1,new Jm(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Jm(f,a))})},e=(i,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());oU(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=Z6();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?zR():tU();l(h)}else{const h=J6();l(h)}};this.canceled_?e(!1,new Jm(!1,null,!0)):this.backoffId_=rU(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&aU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jm{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function hU(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function dU(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function fU(n,t){t&&(n["X-Firebase-GMPID"]=t)}function mU(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function pU(n,t,e,i,s,a,l=!0,u=!1){const h=lU(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return fU(g,t),hU(g,e),dU(g,a),mU(g,i),new uU(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function yU(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,e){this._service=t,e instanceof Or?this._location=e:this._location=Or.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ng(t,e)}get root(){const t=new Or(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yU(this._location.path)}get storage(){return this._service}get parent(){const t=gU(this._location.path);if(t===null)return null;const e=new Or(this._location.bucket,t);return new ng(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw iU(t)}}function $T(n,t){const e=t?.[Y6];return e==null?null:Or.makeFromBucketSpec(e,n)}function _U(n,t,e,i={}){n.host=`${t}:${e}`;const s=zc(t);s&&(cb(`https://${n.host}/b`),ub("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:eC(a,n.app.options.projectId))}class vU{constructor(t,e,i,s,a,l=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=FR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X6,this._maxUploadRetryTime=Q6,this._requests=new Set,s!=null?this._bucket=Or.makeFromBucketSpec(s,this._host):this._bucket=$T(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Or.makeFromBucketSpec(this._url,t):this._bucket=$T(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){HT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){HT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ng(this,t)}_makeRequest(t,e,i,s,a=!0){if(this._deleted)return new sU(zR());{const l=pU(t,this._appId,i,s,e,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,e){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,s).getPromise()}}const qT="@firebase/storage",GT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="storage";function bU(n=bg(),t){n=Ln(n);const i=zl(n,BR).getImmediate({identifier:t}),s=ZA("storage");return s&&EU(i,...s),i}function EU(n,t,e,i={}){_U(n,t,e,i)}function xU(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new vU(e,i,s,t,Hc)}function wU(){jr(new ur(BR,xU,"PUBLIC").setMultipleInstances(!0)),fs(qT,GT,""),fs(qT,GT,"esm2020")}wU();const TU={apiKey:"AIzaSyBANwmEJ1kcCHD7-G2Zh-SGwkFf4b814Ag",authDomain:"kombuchaprod.firebaseapp.com",projectId:"kombuchaprod",storageBucket:"kombuchaprod.firebasestorage.app",messagingSenderId:"530701989412",appId:"1:530701989412:web:42f34bba68a8d78c970ab1",measurementId:"G-FW5SZV6G31"},qg=lC(TU);DV(qg);const ig=K6(qg),Ee=Jj(qg);bU(qg);O4(ig,DR).then(()=>{console.log("Firebase Auth persistence set to local storage (prod)")}).catch(n=>{console.error("Error setting Firebase Auth persistence (prod):",n)});const Ul="America/Mexico_City",ks=()=>new Date().toLocaleDateString("en-CA",{timeZone:Ul}),sg=()=>{const n=new Date;return new Date(n.toLocaleString("en-US",{timeZone:Ul})).toISOString()},HR=()=>new Date().toLocaleDateString("en-CA",{timeZone:Ul,year:"numeric",month:"2-digit"}).replace("/","-"),ha=n=>new Date(n).toLocaleDateString("es-ES",{timeZone:Ul}),SU=(n=0)=>{const t=new Date;return t.setDate(t.getDate()+n),t.toLocaleDateString("en-CA",{timeZone:Ul})},z_=n=>n?new Date(n+"-01").toLocaleDateString("es-ES",{month:"long",year:"numeric",timeZone:Ul}):"este mes",AU=n=>{const t=new Date(n+"T00:00:00"),e=new Date,i=new Date(t.toLocaleString("en-US",{timeZone:Ul})),s=new Date(e.toLocaleString("en-US",{timeZone:Ul}));i.setHours(0,0,0,0),s.setHours(0,0,0,0);const a=Math.abs(s-i),l=Math.ceil(a/(1e3*60*60*24));return l===0?"Hoy":l===1?"Ayer":l<=7?`Hace ${l} das`:ha(n)},CU=n=>{if(!n||!n.fecha||!n.items)return null;const t=n.items.reduce((b,E)=>b+(parseInt(E.cantidad)||0),0);if(t===0)return null;const e=t,i=new Date(n.fecha+"T00:00:00"),s=new Date(i);s.setDate(i.getDate()+e);const a=s.toISOString().split("T")[0],l=ks(),u=a<=l,h=new Date(l+"T00:00:00"),f=new Date(a+"T00:00:00"),g=Math.floor((h-f)/(1e3*60*60*24));return{customerId:n.cliente,lastSaleId:n.id,lastSaleDate:n.fecha,totalKombuchas:t,daysToWait:e,reminderDate:a,isDue:u,daysOverdue:u?Math.abs(g):0,daysUntilDue:u?0:Math.abs(g),status:"pending"}},n0=(n,t)=>{const e=[],i={};return n.forEach(s=>{i[s.cliente]||(i[s.cliente]=[]),i[s.cliente].push(s)}),Object.keys(i).forEach(s=>{const l=i[s].sort((h,f)=>new Date(f.fecha)-new Date(h.fecha))[0],u=CU(l);if(u){const h=t.find(f=>f.id===s);h&&e.push({...u,customerName:h.nombre,customerPhone:h.telefono,customerAddress:h.direccion,notificationId:`${s}_${l.id}_${u.reminderDate}`})}}),e.sort((s,a)=>s.isDue&&!a.isDue?-1:!s.isDue&&a.isDue?1:s.isDue&&a.isDue?a.daysOverdue-s.daysOverdue:s.daysUntilDue-a.daysUntilDue)},rg=n=>{const t=n.filter(s=>s.status==="pending"),e=t.filter(s=>s.isDue),i=t.filter(s=>!s.isDue);return{total:n.length,pending:t.length,overdue:e.length,upcoming:i.length,contacted:n.filter(s=>s.status==="contacted").length,dismissed:n.filter(s=>s.status==="dismissed").length}},$R=n=>{const{customerName:t,totalKombuchas:e,isDue:i,daysOverdue:s,daysUntilDue:a}=n;return i?s===0?`Hoy es el da! Contacta a ${t} - compr ${e} kombuchas`:s===1?`Ayer era el da! Contacta a ${t} - compr ${e} kombuchas`:`${s} das de retraso! Contacta a ${t} - compr ${e} kombuchas`:a===1?`Maana contacta a ${t} - compr ${e} kombuchas`:`En ${a} das contacta a ${t} - compr ${e} kombuchas`},Ip=n=>n.isDue?n.daysOverdue>=7?"high":n.daysOverdue>=3?"medium":"low":"low";/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jf(n){return n+.5|0}const wl=(n,t,e)=>Math.max(Math.min(n,e),t);function zd(n){return wl(jf(n*2.55),0,255)}function Dl(n){return wl(jf(n*255),0,255)}function mo(n){return wl(jf(n/2.55)/100,0,1)}function KT(n){return wl(jf(n*100),0,100)}const rr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fv=[..."0123456789ABCDEF"],RU=n=>Fv[n&15],IU=n=>Fv[(n&240)>>4]+Fv[n&15],tp=n=>(n&240)>>4===(n&15),NU=n=>tp(n.r)&&tp(n.g)&&tp(n.b)&&tp(n.a);function DU(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&rr[n[1]]*17,g:255&rr[n[2]]*17,b:255&rr[n[3]]*17,a:t===5?rr[n[4]]*17:255}:(t===7||t===9)&&(e={r:rr[n[1]]<<4|rr[n[2]],g:rr[n[3]]<<4|rr[n[4]],b:rr[n[5]]<<4|rr[n[6]],a:t===9?rr[n[7]]<<4|rr[n[8]]:255})),e}const kU=(n,t)=>n<255?t(n):"";function OU(n){var t=NU(n)?RU:IU;return n?"#"+t(n.r)+t(n.g)+t(n.b)+kU(n.a,t):void 0}const MU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qR(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function PU(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function jU(n,t,e){const i=qR(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function LU(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function i0(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),u=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),h=LU(e,i,s,g,a),h=h*60+.5),[h|0,f||0,u]}function s0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Dl)}function r0(n,t,e){return s0(qR,n,t,e)}function VU(n,t,e){return s0(jU,n,t,e)}function UU(n,t,e){return s0(PU,n,t,e)}function GR(n){return(n%360+360)%360}function FU(n){const t=MU.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?zd(+t[5]):Dl(+t[5]));const s=GR(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=VU(s,a,l):t[1]==="hsv"?i=UU(s,a,l):i=r0(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function zU(n,t){var e=i0(n);e[0]=GR(e[0]+t),e=r0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function BU(n){if(!n)return;const t=i0(n),e=t[0],i=KT(t[1]),s=KT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${mo(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const WT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},YT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function HU(){const n={},t=Object.keys(YT),e=Object.keys(WT);let i,s,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)a=e[s],u=u.replace(a,WT[a]);a=parseInt(YT[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let ep;function $U(n){ep||(ep=HU(),ep.transparent=[0,0,0,0]);const t=ep[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GU(n){const t=qU.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?zd(l):wl(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?zd(i):wl(i,0,255)),s=255&(t[4]?zd(s):wl(s,0,255)),a=255&(t[6]?zd(a):wl(a,0,255)),{r:i,g:s,b:a,a:e}}}function KU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${mo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const B_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ku=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function WU(n,t,e){const i=ku(mo(n.r)),s=ku(mo(n.g)),a=ku(mo(n.b));return{r:Dl(B_(i+e*(ku(mo(t.r))-i))),g:Dl(B_(s+e*(ku(mo(t.g))-s))),b:Dl(B_(a+e*(ku(mo(t.b))-a))),a:n.a+e*(t.a-n.a)}}function np(n,t,e){if(n){let i=i0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=r0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function KR(n,t){return n&&Object.assign(t||{},n)}function XT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Dl(n[3]))):(t=KR(n,{r:0,g:0,b:0,a:1}),t.a=Dl(t.a)),t}function YU(n){return n.charAt(0)==="r"?GU(n):FU(n)}class ff{constructor(t){if(t instanceof ff)return t;const e=typeof t;let i;e==="object"?i=XT(t):e==="string"&&(i=DU(t)||$U(t)||YU(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=KR(this._rgb);return t&&(t.a=mo(t.a)),t}set rgb(t){this._rgb=XT(t)}rgbString(){return this._valid?KU(this._rgb):void 0}hexString(){return this._valid?OU(this._rgb):void 0}hslString(){return this._valid?BU(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=i.a-s.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=WU(this._rgb,t._rgb,e)),this}clone(){return new ff(this.rgb)}alpha(t){return this._rgb.a=Dl(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=jf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return np(this._rgb,2,t),this}darken(t){return np(this._rgb,2,-t),this}saturate(t){return np(this._rgb,1,t),this}desaturate(t){return np(this._rgb,1,-t),this}rotate(t){return zU(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function co(){}const XU=(()=>{let n=0;return()=>n++})();function He(n){return n==null}function qn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Re(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Fi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function oa(n,t){return Fi(n)?n:t}function fe(n,t){return typeof n>"u"?t:n}const QU=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,WR=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function un(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ye(n,t,e,i){let s,a,l;if(qn(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Re(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function ag(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function og(n){if(qn(n))return n.map(og);if(Re(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=og(n[e[s]]);return t}return n}function YR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function ZU(n,t,e,i){if(!YR(n))return;const s=t[n],a=e[n];Re(s)&&Re(a)?mf(s,a,i):t[n]=og(a)}function mf(n,t,e){const i=qn(t)?t:[t],s=i.length;if(!Re(n))return n;e=e||{};const a=e.merger||ZU;let l;for(let u=0;u<s;++u){if(l=i[u],!Re(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,e)}return n}function Zd(n,t){return mf(n,t,{merger:JU})}function JU(n,t,e){if(!YR(n))return;const i=t[n],s=e[n];Re(i)&&Re(s)?Zd(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=og(s))}const QT={"":n=>n,x:n=>n.x,y:n=>n.y};function t3(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function e3(n){const t=t3(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Uc(n,t){return(QT[t]||(QT[t]=e3(t)))(n)}function a0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const pf=n=>typeof n<"u",Fl=n=>typeof n=="function",ZT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function n3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Xe=Math.PI,_n=2*Xe,i3=_n+Xe,lg=Number.POSITIVE_INFINITY,s3=Xe/180,si=Xe/2,Ec=Xe/4,JT=Xe*2/3,XR=Math.log10,va=Math.sign;function Jd(n,t,e){return Math.abs(n-t)<e}function tS(n){const t=Math.round(n);n=Jd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(XR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function r3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function a3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function gf(n){return!a3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function o3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function l3(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function vo(n){return n*(Xe/180)}function c3(n){return n*(180/Xe)}function eS(n){if(!Fi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function QR(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Xe&&(a+=_n),{angle:a,distance:s}}function zv(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function u3(n,t){return(n-t+i3)%_n-Xe}function Ds(n){return(n%_n+_n)%_n}function yf(n,t,e,i){const s=Ds(n),a=Ds(t),l=Ds(e),u=Ds(a-s),h=Ds(l-s),f=Ds(s-a),g=Ds(s-l);return s===a||s===l||i&&a===l||u>h&&f<g}function Li(n,t,e){return Math.max(t,Math.min(e,n))}function h3(n){return Li(n,-32768,32767)}function bo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function o0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const Nc=(n,t,e,i)=>o0(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),d3=(n,t,e)=>o0(n,e,i=>n[i][t]>=e);function f3(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const ZR=["push","pop","shift","splice","unshift"];function m3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ZR.forEach(e=>{const i="_onData"+a0(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function nS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(ZR.forEach(a=>{delete n[a]}),delete n._chartjs)}function JR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const tI=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function eI(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,tI.call(window,()=>{i=!1,n.apply(t,e)}))}}function p3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const l0=n=>n==="start"?"left":n==="end"?"right":"center",Mi=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,g3=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function y3(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:b,max:E,minDefined:T,maxDefined:C}=l.getUserBounds();if(T){if(s=Math.min(Nc(h,g,b).lo,e?i:Nc(t,g,l.getPixelForValue(b)).lo),f){const k=h.slice(0,s+1).reverse().findIndex(R=>!He(R[u.axis]));s-=Math.max(0,k)}s=Li(s,0,i-1)}if(C){let k=Math.max(Nc(h,l.axis,E,!0).hi+1,e?0:Nc(t,g,l.getPixelForValue(E),!0).hi+1);if(f){const R=h.slice(k-1).findIndex(V=>!He(V[u.axis]));k+=Math.max(0,R)}a=Li(k,s,i)-s}else a=i-s}return{start:s,count:a}}function _3(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const ip=n=>n===0||n===1,iS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*_n/e)),sS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*_n/e)+1,tf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*si)+1,easeOutSine:n=>Math.sin(n*si),easeInOutSine:n=>-.5*(Math.cos(Xe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ip(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ip(n)?n:iS(n,.075,.3),easeOutElastic:n=>ip(n)?n:sS(n,.075,.3),easeInOutElastic(n){return ip(n)?n:n<.5?.5*iS(n*2,.1125,.45):.5+.5*sS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-tf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?tf.easeInBounce(n*2)*.5:tf.easeOutBounce(n*2-1)*.5+.5};function c0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function rS(n){return c0(n)?n:new ff(n)}function H_(n){return c0(n)?n:new ff(n).saturate(.5).darken(.1).hexString()}const v3=["x","y","borderWidth","radius","tension"],b3=["color","borderColor","backgroundColor"];function E3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:b3},numbers:{type:"number",properties:v3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function x3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aS=new Map;function w3(n,t){t=t||{};const e=n+JSON.stringify(t);let i=aS.get(e);return i||(i=new Intl.NumberFormat(n,t),aS.set(e,i)),i}function u0(n,t,e){return w3(t,e).format(n)}const T3={values(n){return qn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=S3(n,e)}const l=XR(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),u0(n,i,h)}};function S3(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var nI={formatters:T3};function A3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fc=Object.create(null),Bv=Object.create(null);function ef(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function $_(n,t,e){return typeof t=="string"?mf(ef(n,t),e):mf(ef(n,""),t)}class C3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>H_(s.backgroundColor),this.hoverBorderColor=(i,s)=>H_(s.borderColor),this.hoverColor=(i,s)=>H_(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return $_(this,t,e)}get(t){return ef(this,t)}describe(t,e){return $_(Bv,t,e)}override(t,e){return $_(Fc,t,e)}route(t,e,i,s){const a=ef(this,t),l=ef(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[s];return Re(h)?Object.assign({},f,h):fe(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var jn=new C3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[E3,x3,A3]);function R3(n){return!n||He(n.size)||He(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function oS(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function xc(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function lS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Hv(n,t,e,i){iI(n,t,e,i,null)}function iI(n,t,e,i,s){let a,l,u,h,f,g,b,E;const T=t.pointStyle,C=t.rotation,k=t.radius;let R=(C||0)*s3;if(T&&typeof T=="object"&&(a=T.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),T){default:s?n.ellipse(e,i,s/2,k,0,0,_n):n.arc(e,i,k,0,_n),n.closePath();break;case"triangle":g=s?s/2:k,n.moveTo(e+Math.sin(R)*g,i-Math.cos(R)*k),R+=JT,n.lineTo(e+Math.sin(R)*g,i-Math.cos(R)*k),R+=JT,n.lineTo(e+Math.sin(R)*g,i-Math.cos(R)*k),n.closePath();break;case"rectRounded":f=k*.516,h=k-f,l=Math.cos(R+Ec)*h,b=Math.cos(R+Ec)*(s?s/2-f:h),u=Math.sin(R+Ec)*h,E=Math.sin(R+Ec)*(s?s/2-f:h),n.arc(e-b,i-u,f,R-Xe,R-si),n.arc(e+E,i-l,f,R-si,R),n.arc(e+b,i+u,f,R,R+si),n.arc(e-E,i+l,f,R+si,R+Xe),n.closePath();break;case"rect":if(!C){h=Math.SQRT1_2*k,g=s?s/2:h,n.rect(e-g,i-h,2*g,2*h);break}R+=Ec;case"rectRot":b=Math.cos(R)*(s?s/2:k),l=Math.cos(R)*k,u=Math.sin(R)*k,E=Math.sin(R)*(s?s/2:k),n.moveTo(e-b,i-u),n.lineTo(e+E,i-l),n.lineTo(e+b,i+u),n.lineTo(e-E,i+l),n.closePath();break;case"crossRot":R+=Ec;case"cross":b=Math.cos(R)*(s?s/2:k),l=Math.cos(R)*k,u=Math.sin(R)*k,E=Math.sin(R)*(s?s/2:k),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l);break;case"star":b=Math.cos(R)*(s?s/2:k),l=Math.cos(R)*k,u=Math.sin(R)*k,E=Math.sin(R)*(s?s/2:k),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l),R+=Ec,b=Math.cos(R)*(s?s/2:k),l=Math.cos(R)*k,u=Math.sin(R)*k,E=Math.sin(R)*(s?s/2:k),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l);break;case"line":l=s?s/2:Math.cos(R)*k,u=Math.sin(R)*k,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(s?s/2:k),i+Math.sin(R)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function _f(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Gg(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Kg(n){n.restore()}function I3(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function N3(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function D3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),He(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function k3(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,g=s.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function O3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function vf(n,t,e,i,s,a={}){const l=qn(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=s.string,D3(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&O3(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),He(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,i,a.maxWidth)),n.fillText(f,e,i,a.maxWidth),k3(n,e,i,f,a),i+=Number(s.lineHeight);n.restore()}function cg(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Xe,Xe,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Xe,si,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,si,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-si,!0),n.lineTo(e+l.topLeft,i)}const M3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,P3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j3(n,t){const e=(""+n).match(M3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const L3=n=>+n||0;function h0(n,t){const e={},i=Re(t),s=i?Object.keys(t):t,a=Re(n)?i?l=>fe(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=L3(a(l));return e}function sI(n){return h0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Wu(n){return h0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hr(n){const t=sI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Vi(n,t){n=n||{},t=t||jn.font;let e=fe(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=fe(n.style,t.style);i&&!(""+i).match(P3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:fe(n.family,t.family),lineHeight:j3(fe(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:fe(n.weight,t.weight),string:""};return s.string=R3(s),s}function sp(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function V3(n,t,e){const{min:i,max:s}=n,a=WR(t,(s-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Kc(n,t){return Object.assign(Object.create(n),t)}function d0(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=lI("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>d0([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return aI(u,h,()=>G3(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return uS(u).includes(h)},ownKeys(u){return uS(u)},set(u,h,f){const g=u._storage||(u._storage=s());return u[h]=g[h]=f,delete u._keys,!0}})}function ih(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:rI(n,i),setContext:a=>ih(n,a,e,i),override:a=>ih(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return aI(a,l,()=>F3(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function rI(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Fl(e)?e:()=>e,isIndexable:Fl(i)?i:()=>i}}const U3=(n,t)=>n?n+a0(t):t,f0=(n,t)=>Re(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function aI(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function F3(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let u=i[t];return Fl(u)&&l.isScriptable(t)&&(u=z3(t,u,n,e)),qn(u)&&u.length&&(u=B3(t,u,n,l.isIndexable)),f0(t,u)&&(u=ih(u,s,a&&a[t],l)),u}function z3(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||i);return u.delete(n),f0(n,h)&&(h=m0(s._scopes,s,n,h)),h}function B3(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Re(t[0])){const h=t,f=s._scopes.filter(g=>g!==h);t=[];for(const g of h){const b=m0(f,s,n,g);t.push(ih(b,a,l&&l[n],u))}}return t}function oI(n,t,e){return Fl(n)?n(t,e):n}const H3=(n,t)=>n===!0?t:typeof n=="string"?Uc(t,n):void 0;function $3(n,t,e,i,s){for(const a of t){const l=H3(e,a);if(l){n.add(l);const u=oI(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function m0(n,t,e,i){const s=t._rootScopes,a=oI(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let h=cS(u,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=cS(u,l,a,h,i),h===null)?!1:d0(Array.from(u),[""],s,a,()=>q3(t,e,i))}function cS(n,t,e,i,s){for(;e;)e=$3(n,t,e,i,s);return e}function q3(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return qn(s)&&Re(e)?e:s||{}}function G3(n,t,e,i){let s;for(const a of t)if(s=lI(U3(a,n),e),typeof s<"u")return f0(n,s)?m0(e,i,n,s):s}function lI(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function uS(n){let t=n._keys;return t||(t=n._keys=K3(n._scopes)),t}function K3(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const W3=Number.EPSILON||1e-14,sh=(n,t)=>t<n.length&&!n[t].skip&&n[t],cI=n=>n==="x"?"y":"x";function Y3(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,u=zv(a,s),h=zv(l,a);let f=u/(u+h),g=h/(u+h);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const b=i*f,E=i*g;return{previous:{x:a.x-b*(l.x-s.x),y:a.y-b*(l.y-s.y)},next:{x:a.x+E*(l.x-s.x),y:a.y+E*(l.y-s.y)}}}function X3(n,t,e){const i=n.length;let s,a,l,u,h,f=sh(n,0);for(let g=0;g<i-1;++g)if(h=f,f=sh(n,g+1),!(!h||!f)){if(Jd(t[g],0,W3)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=s*l*t[g],e[g+1]=a*l*t[g])}}function Q3(n,t,e="x"){const i=cI(e),s=n.length;let a,l,u,h=sh(n,0);for(let f=0;f<s;++f){if(l=u,u=h,h=sh(n,f+1),!u)continue;const g=u[e],b=u[i];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${i}`]=b-a*t[f]),h&&(a=(h[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${i}`]=b+a*t[f])}}function Z3(n,t="x"){const e=cI(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,u,h,f=sh(n,0);for(l=0;l<i;++l)if(u=h,h=f,f=sh(n,l+1),!!h){if(f){const g=f[t]-h[t];s[l]=g!==0?(f[e]-h[e])/g:0}a[l]=u?f?va(s[l-1])!==va(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}X3(n,s,a),Q3(n,a,t)}function rp(n,t,e){return Math.max(Math.min(n,e),t)}function J3(n,t){let e,i,s,a,l,u=_f(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&_f(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=rp(s.cp1x,t.left,t.right),s.cp1y=rp(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=rp(s.cp2x,t.left,t.right),s.cp2y=rp(s.cp2y,t.top,t.bottom)))}function t5(n,t,e,i,s){let a,l,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Z3(n,s);else{let f=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=Y3(f,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&J3(n,e)}function p0(){return typeof window<"u"&&typeof document<"u"}function g0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ug(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Wg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function e5(n,t){return Wg(n).getPropertyValue(t)}const n5=["top","right","bottom","left"];function Dc(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=n5[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const i5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function s5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,u,h;if(i5(s,a,n.target))u=s,h=a;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function Sc(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Wg(e),a=s.boxSizing==="border-box",l=Dc(s,"padding"),u=Dc(s,"border","width"),{x:h,y:f,box:g}=s5(n,e),b=l.left+(g&&u.left),E=l.top+(g&&u.top);let{width:T,height:C}=t;return a&&(T-=l.width+u.width,C-=l.height+u.height),{x:Math.round((h-b)/T*e.width/i),y:Math.round((f-E)/C*e.height/i)}}function r5(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&g0(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Wg(a),h=Dc(u,"border","width"),f=Dc(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,i=ug(u.maxWidth,a,"clientWidth"),s=ug(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||lg,maxHeight:s||lg}}const ap=n=>Math.round(n*10)/10;function a5(n,t,e,i){const s=Wg(n),a=Dc(s,"margin"),l=ug(s.maxWidth,n,"clientWidth")||lg,u=ug(s.maxHeight,n,"clientHeight")||lg,h=r5(n,t,e);let{width:f,height:g}=h;if(s.boxSizing==="content-box"){const E=Dc(s,"border","width"),T=Dc(s,"padding");f-=T.width+E.width,g-=T.height+E.height}return f=Math.max(0,f-a.width),g=Math.max(0,i?f/i:g-a.height),f=ap(Math.min(f,l,h.maxWidth)),g=ap(Math.min(g,u,h.maxHeight)),f&&!g&&(g=ap(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,f=ap(Math.floor(g*i))),{width:f,height:g}}function hS(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const o5=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};p0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function dS(n,t){const e=e5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ac(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function l5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function c5(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Ac(n,s,e),u=Ac(s,a,e),h=Ac(a,t,e),f=Ac(l,u,e),g=Ac(u,h,e);return Ac(f,g,e)}const u5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},h5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Yu(n,t,e){return n?u5(t,e):h5()}function uI(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function hI(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function dI(n){return n==="angle"?{between:yf,compare:u3,normalize:Ds}:{between:bo,compare:(t,e)=>t-e,normalize:t=>t}}function fS({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function d5(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:u}=dI(i),h=t.length;let{start:f,end:g,loop:b}=n,E,T;if(b){for(f+=h,g+=h,E=0,T=h;E<T&&l(u(t[f%h][i]),s,a);++E)f--,g--;f%=h,g%=h}return g<f&&(g+=h),{start:f,end:g,loop:b,style:n.style}}function fI(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:u,between:h,normalize:f}=dI(i),{start:g,end:b,loop:E,style:T}=d5(n,t,e),C=[];let k=!1,R=null,V,$,q;const Q=()=>h(s,q,V)&&u(s,q)!==0,W=()=>u(a,V)===0||h(a,q,V),Z=()=>k||Q(),U=()=>!k||W();for(let I=g,O=g;I<=b;++I)$=t[I%l],!$.skip&&(V=f($[i]),V!==q&&(k=h(V,s,a),R===null&&Z()&&(R=u(V,s)===0?I:O),R!==null&&U()&&(C.push(fS({start:R,end:I,loop:E,count:l,style:T})),R=null),O=I,q=V));return R!==null&&C.push(fS({start:R,end:b,loop:E,count:l,style:T})),C}function mI(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=fI(i[s],n.points,t);a.length&&e.push(...a)}return e}function f5(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function m5(n,t,e,i){const s=n.length,a=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%s];f.skip||f.stop?u.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function p5(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:u}=f5(e,s,a,i);if(i===!0)return mS(n,[{start:l,end:u,loop:a}],e,t);const h=u<l?u+s:u,f=!!n._fullLoop&&l===0&&u===s-1;return mS(n,m5(e,l,h,f),e,t)}function mS(n,t,e,i){return!i||!i.setContext||!e?t:g5(n,t,e,i)}function g5(n,t,e,i){const s=n._chart.getContext(),a=pS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,f=[];let g=a,b=t[0].start,E=b;function T(C,k,R,V){const $=u?-1:1;if(C!==k){for(C+=h;e[C%h].skip;)C-=$;for(;e[k%h].skip;)k+=$;C%h!==k%h&&(f.push({start:C%h,end:k%h,loop:R,style:V}),g=V,b=k%h)}}for(const C of t){b=u?b:C.start;let k=e[b%h],R;for(E=b+1;E<=C.end;E++){const V=e[E%h];R=pS(i.setContext(Kc(s,{type:"segment",p0:k,p1:V,p0DataIndex:(E-1)%h,p1DataIndex:E%h,datasetIndex:l}))),y5(R,g)&&T(b,E-1,C.loop,g),k=V,g=R}b<E-1&&T(b,E-1,C.loop,g)}return f}function pS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function y5(n,t){if(!t)return!1;const e=[],i=function(s,a){return c0(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function op(n,t,e){return n.options.clip?n[e]:t[e]}function _5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:op(e,t,"left"),right:op(e,t,"right"),top:op(i,t,"top"),bottom:op(i,t,"bottom")}:t}function pI(n,t){const e=t._clip;if(e.disabled)return!1;const i=_5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class v5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=tI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ho=new v5;const gS="transparent",b5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=rS(n||gS),s=i.valid&&rS(t||gS);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class E5{constructor(t,e,i,s){const a=e[i];s=sp([t.to,s,a,t.from]);const l=sp([t.from,a,s]);this._active=!0,this._fn=t.fn||b5[t.type||typeof l],this._easing=tf[t.easing]||tf.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=sp([t.to,e,s,t.from]),this._from=sp([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class gI{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Re(t))return;const e=Object.keys(jn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Re(a))return;const l={};for(const u of e)l[u]=a[u];(qn(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=w5(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&x5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[f];let b=a[f];const E=i.get(f);if(b)if(E&&b.active()){b.update(E,g,u);continue}else b.cancel();if(!E||!E.duration){t[f]=g;continue}a[f]=b=new E5(E,t,f,g),s.push(b)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ho.add(this._chart,i),!0}}function x5(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function w5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function yS(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function T5(n,t,e){if(e===!1)return!1;const i=yS(n,e),s=yS(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function S5(n){let t,e,i,s;return Re(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function yI(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function _S(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,u,h,f;if(t===null)return;let g=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===e){if(g=!0,i.all)continue;break}f=n.values[h],Fi(f)&&(a||t===0||va(t)===va(f))&&(t+=f)}return!g&&!i.all?0:t}function A5(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[s]:g,[a]:n[g]};return u}function q_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function C5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function R5(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function I5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function vS(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function bS(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,g=C5(a,l,i),b=t.length;let E;for(let T=0;T<b;++T){const C=t[T],{[h]:k,[f]:R}=C,V=C._stacks||(C._stacks={});E=V[f]=I5(s,g,k),E[u]=R,E._top=vS(E,l,!0,i.type),E._bottom=vS(E,l,!1,i.type);const $=E._visualValues||(E._visualValues={});$[u]=R}}function G_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function N5(n,t){return Kc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function D5(n,t,e){return Kc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Id(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const K_=n=>n==="reset"||n==="none",ES=(n,t)=>t?n:Object.assign({},n),k5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:yI(e,!0),values:null};class Yg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=q_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Id(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(b,E,T,C)=>b==="x"?E:b==="r"?C:T,a=e.xAxisID=fe(i.xAxisID,G_(t,"x")),l=e.yAxisID=fe(i.yAxisID,G_(t,"y")),u=e.rAxisID=fe(i.rAxisID,G_(t,"r")),h=e.indexAxis,f=e.iAxisID=s(h,a,l,u),g=e.vAxisID=s(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&nS(this._data,this),t._stacked&&Id(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Re(e)){const s=this._cachedMeta;this._data=A5(e,s)}else if(i!==e){if(i){nS(i,this);const s=this._cachedMeta;Id(s),s._parsed=[]}e&&Object.isExtensible(e)&&m3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=q_(e.vScale,e),e.stack!==i.stack&&(s=!0,Id(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(bS(this,e._parsed),e._stacked=q_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=t===0&&e===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],g,b,E;if(this._parsing===!1)i._parsed=s,i._sorted=!0,E=s;else{qn(s[t])?E=this.parseArrayData(i,s,t,e):Re(s[t])?E=this.parseObjectData(i,s,t,e):E=this.parsePrimitiveData(i,s,t,e);const T=()=>b[u]===null||f&&b[u]<f[u];for(g=0;g<e;++g)i._parsed[g+t]=b=E[g],h&&(T()&&(h=!1),f=b);i._sorted=h}l&&bS(this,E)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,f=a.getLabels(),g=a===l,b=new Array(s);let E,T,C;for(E=0,T=s;E<T;++E)C=E+i,b[E]={[u]:g||a.parse(f[C],C),[h]:l.parse(e[C],C)};return b}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,u=new Array(s);let h,f,g,b;for(h=0,f=s;h<f;++h)g=h+i,b=e[g],u[h]={x:a.parse(b[0],g),y:l.parse(b[1],g)};return u}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let g,b,E,T;for(g=0,b=s;g<b;++g)E=g+i,T=e[E],f[g]={x:a.parse(Uc(T,u),E),y:l.parse(Uc(T,h),E)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:yI(s,!0),values:e._stacks[t.axis]._visualValues};return _S(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=_S(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),h=k5(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:b}=R5(u);let E,T;function C(){T=s[E];const k=T[u.axis];return!Fi(T[t.axis])||g>k||b<k}for(E=0;E<l&&!(!C()&&(this.updateRangeFromParsed(f,t,T,h),a));++E);if(a){for(E=l-1;E>=0;--E)if(!C()){this.updateRangeFromParsed(f,t,T,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],Fi(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=S5(fe(this.options.clip,T5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,h),g=u;g<u+h;++g){const b=s[g];b.hidden||(b.active&&f?l.push(b):b.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=D5(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=N5(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&pf(i);if(u)return ES(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),b=s?[`${t}Hover`,"hover",t,""]:[t,""],E=f.getOptionScopes(this.getDataset(),g),T=Object.keys(jn.elements[t]),C=()=>this.getContext(i,s,e),k=f.resolveNamedOptions(E,T,C,b);return k.$shared&&(k.$shared=h,a[l]=Object.freeze(ES(k,h))),k}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(s.options.animation!==!1){const g=this.chart.config,b=g.datasetAnimationScopeKeys(this._type,e),E=g.getOptionScopes(this.getDataset(),b);h=g.createResolver(E,this.getContext(t,i,e))}const f=new gI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||K_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){K_(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!K_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Id(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function O5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=e.length;s<a;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=JR(i.sort((s,a)=>s-a))}return n._cache.$bar}function M5(n){const t=n.iScale,e=O5(t,n.type);let i=t._length,s,a,l,u;const h=()=>{l===32767||l===-32768||(pf(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,a=e.length;s<a;++s)l=t.getPixelForValue(e[s]),h();for(u=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function P5(n,t,e,i){const s=e.barThickness;let a,l;return He(s)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function j5(n,t,e,i){const s=t.pixels,a=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:f}}function L5(n,t,e,i){const s=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(s,a),u=Math.max(s,a);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),t[e.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:u}}function _I(n,t,e,i){return qn(n)?L5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function xS(n,t,e,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),u=s===a,h=[];let f,g,b,E;for(f=e,g=e+i;f<g;++f)E=t[f],b={},b[s.axis]=u||s.parse(l[f],f),h.push(_I(E,b,a,f));return h}function W_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function V5(n,t,e){return n!==0?va(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function U5(n){let t,e,i,s,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:i,reverse:t,top:s,bottom:a}}function F5(n,t,e,i){let s=t.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:g}=U5(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=f:(e._bottom||0)===i?s=g:(a[wS(g,l,u,h)]=!0,s=f)),a[wS(s,l,u,h)]=!0,n.borderSkipped=a}function wS(n,t,e,i){return i?(n=z5(n,t,e),n=TS(n,e,t)):n=TS(n,t,e),n}function z5(n,t,e){return n===t?e:n===e?t:n}function TS(n,t,e){return n==="start"?t:n==="end"?e:n}function B5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class H5 extends Yg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return xS(t,e,i,s)}parseArrayData(t,e,i,s){return xS(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?u:h,g=l.axis==="x"?u:h,b=[];let E,T,C,k;for(E=i,T=i+s;E<T;++E)k=e[E],C={},C[a.axis]=a.parse(Uc(k,f),E),b.push(_I(Uc(k,g),C,l,E));return b}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,a=this.getParsed(t),l=a._custom,u=W_(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),g=this._getRuler(),{sharedOptions:b,includeOptions:E}=this._getSharedOptions(e,s);for(let T=e;T<e+i;T++){const C=this.getParsed(T),k=a||He(C[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),R=this._calculateBarIndexPixels(T,g),V=(C._stacks||{})[u.axis],$={horizontal:f,base:k.base,enableBorderRadius:!V||W_(C._custom)||l===V._top||l===V._bottom,x:f?k.head:R.center,y:f?R.center:k.head,height:f?R.size:Math.abs(k.size),width:f?Math.abs(k.size):R.size};E&&($.options=b||this.resolveDataElementOptions(T,t[T].active?"active":s));const q=$.options||t[T].options;F5($,q,V,l),B5($,q,g.ratio),this.updateElement(t[T],T,$,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],f=g=>{const b=g._parsed.find(T=>T[i.axis]===h),E=b&&b[g.vScale.axis];if(He(E)||isNaN(E))return!0};for(const g of s)if(!(e!==void 0&&f(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[fe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let a,l;for(a=0,l=e.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=t.barThickness;return{min:u||M5(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(t),f=h._custom,g=W_(f);let b=h[e.axis],E=0,T=i?this.applyStack(e,h,i):b,C,k;T!==b&&(E=T-b,T=b),g&&(b=f.barStart,T=f.barEnd-f.barStart,b!==0&&va(b)!==va(f.barEnd)&&(E=0),E+=b);const R=!He(a)&&!g?a:E;let V=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?C=e.getPixelForValue(E+T):C=V,k=C-V,Math.abs(k)<l){k=V5(k,e,u)*l,b===u&&(V-=k/2);const $=e.getPixelForDecimal(0),q=e.getPixelForDecimal(1),Q=Math.min($,q),W=Math.max($,q);V=Math.max(Math.min(V,W),Q),C=V+k,i&&!g&&(h._stacks[e.axis]._visualValues[s]=e.getValueForPixel(C)-e.getValueForPixel(V))}if(V===e.getPixelForValue(u)){const $=va(k)*e.getLineWidthForValue(u)/2;V+=$,k-=$}return{size:k,base:V,head:C,center:C+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,a=s.skipNull,l=fe(s.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(e.grouped){const g=a?this._getStackCount(t):e.stackCount,b=s.barThickness==="flex"?j5(t,e,s,g*f):P5(t,e,s,g*f),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(fe(E,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+T;u=b.start+b.chunk*C+b.chunk/2,h=Math.min(l,b.chunk*b.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}function $5(n,t,e){let i=1,s=1,a=0,l=0;if(t<_n){const u=n,h=u+t,f=Math.cos(u),g=Math.sin(u),b=Math.cos(h),E=Math.sin(h),T=(q,Q,W)=>yf(q,u,h,!0)?1:Math.max(Q,Q*e,W,W*e),C=(q,Q,W)=>yf(q,u,h,!0)?-1:Math.min(Q,Q*e,W,W*e),k=T(0,f,b),R=T(si,g,E),V=C(Xe,f,b),$=C(Xe+si,g,E);i=(k-V)/2,s=(R-$)/2,a=-(k+V)/2,l=-(R+$)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class q5 extends Yg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(Re(i[t])){const{key:h="value"}=this._parsing;a=f=>+Uc(i[f],h)}let l,u;for(l=t,u=t+e;l<u;++l)s._parsed[l]=a(l)}}_getRotation(){return vo(this.options.rotation-90)}_getCircumference(){return vo(this.options.circumference)}_getRotationExtents(){let t=_n,e=-_n;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(QU(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:b}=this._getRotationExtents(),{ratioX:E,ratioY:T,offsetX:C,offsetY:k}=$5(b,g,h),R=(i.width-l)/E,V=(i.height-l)/T,$=Math.max(Math.min(R,V)/2,0),q=WR(this.options.radius,$),Q=Math.max(q*h,0),W=(q-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=C*q,this.offsetY=k*q,s.total=this.calculateTotal(),this.outerRadius=q-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/_n)}updateElements(t,e,i,s){const a=s==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,b=(u.top+u.bottom)/2,E=a&&f.animateScale,T=E?0:this.innerRadius,C=E?0:this.outerRadius,{sharedOptions:k,includeOptions:R}=this._getSharedOptions(e,s);let V=this._getRotation(),$;for($=0;$<e;++$)V+=this._circumference($,a);for($=e;$<e+i;++$){const q=this._circumference($,a),Q=t[$],W={x:g+this.offsetX,y:b+this.offsetY,startAngle:V,endAngle:V+q,circumference:q,outerRadius:C,innerRadius:T};R&&(W.options=k||this.resolveDataElementOptions($,Q.active?"active":s)),V+=q,this.updateElement(Q,$,W,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_n*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=u0(e._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,a,l,u,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,u=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=u.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(fe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class G5 extends Yg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=y3(e,s,l);this._drawStart=u,this._drawCount=h,_3(e)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,u,h,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(e,s),E=l.axis,T=u.axis,{spanGaps:C,segment:k}=this.options,R=gf(C)?C:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||a||s==="none",$=e+i,q=t.length;let Q=e>0&&this.getParsed(e-1);for(let W=0;W<q;++W){const Z=t[W],U=V?Z:{};if(W<e||W>=$){U.skip=!0;continue}const I=this.getParsed(W),O=He(I[T]),F=U[E]=l.getPixelForValue(I[E],W),H=U[T]=a||O?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,I,h):I[T],W);U.skip=isNaN(F)||isNaN(H)||O,U.stop=W>0&&Math.abs(I[E]-Q[E])>R,k&&(U.parsed=I,U.raw=f.data[W]),b&&(U.options=g||this.resolveDataElementOptions(W,Z.active?"active":s)),V||this.updateElement(Z,W,U,s),Q=I}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function wc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class y0{static override(t){Object.assign(y0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return wc()}parse(){return wc()}format(){return wc()}add(){return wc()}diff(){return wc()}startOf(){return wc()}endOf(){return wc()}}var K5={_date:y0};function W5(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const f=u._reversePixels?d3:Nc;if(i){if(s._sharedOptions){const g=a[0],b=typeof g.getRange=="function"&&g.getRange(t);if(b){const E=f(a,t,e-b),T=f(a,t,e+b);return{lo:E.lo,hi:T.hi}}}}else{const g=f(a,t,e);if(h){const{vScale:b}=s._cachedMeta,{_parsed:E}=n,T=E.slice(0,g.lo+1).reverse().findIndex(k=>!He(k[b.axis]));g.lo-=Math.max(0,T);const C=E.slice(g.hi).findIndex(k=>!He(k[b.axis]));g.hi+=Math.max(0,C)}return g}}return{lo:0,hi:a.length-1}}function Xg(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:f,data:g}=a[u],{lo:b,hi:E}=W5(a[u],t,l,s);for(let T=b;T<=E;++T){const C=g[T];C.skip||i(C,f,T)}}}function Y5(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Y_(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||Xg(n,e,t,function(u,h,f){!s&&!_f(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function X5(n,t,e,i){let s=[];function a(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:b}=QR(l,{x:t.x,y:t.y});yf(b,f,g)&&s.push({element:l,datasetIndex:u,index:h})}return Xg(n,e,t,a),s}function Q5(n,t,e,i,s,a){let l=[];const u=Y5(e);let h=Number.POSITIVE_INFINITY;function f(g,b,E){const T=g.inRange(t.x,t.y,s);if(i&&!T)return;const C=g.getCenterPoint(s);if(!(!!a||n.isPointInArea(C))&&!T)return;const R=u(t,C);R<h?(l=[{element:g,datasetIndex:b,index:E}],h=R):R===h&&l.push({element:g,datasetIndex:b,index:E})}return Xg(n,e,t,f),l}function X_(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?X5(n,t,e,s):Q5(n,t,e,i,s,a)}function SS(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Xg(n,e,t,(h,f,g)=>{h[l]&&h[l](t[e],s)&&(a.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(t.x,t.y,s))}),i&&!u?[]:a}var Z5={modes:{index(n,t,e,i){const s=Sc(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Y_(n,s,a,i,l):X_(n,s,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,b=f.data[g];b&&!b.skip&&h.push({element:b,datasetIndex:f.index,index:g})}),h):[]},dataset(n,t,e,i){const s=Sc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Y_(n,s,a,i,l):X_(n,s,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,t,e,i){const s=Sc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Y_(n,s,a,i,l)},nearest(n,t,e,i){const s=Sc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return X_(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=Sc(t,n);return SS(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Sc(t,n);return SS(n,s,"y",e.intersect,i)}}};const vI=["left","top","right","bottom"];function Nd(n,t){return n.filter(e=>e.pos===t)}function AS(n,t){return n.filter(e=>vI.indexOf(e.pos)===-1&&e.box.axis===t)}function Dd(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function J5(n){const t=[];let e,i,s,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return t}function tF(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!vI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function eF(n,t){const e=tF(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=e[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*i:h&&t.availableWidth,u.height=s):(u.width=i,u.height=g?g*s:h&&t.availableHeight)}return e}function nF(n){const t=J5(n),e=Dd(t.filter(f=>f.box.fullSize),!0),i=Dd(Nd(t,"left"),!0),s=Dd(Nd(t,"right")),a=Dd(Nd(t,"top"),!0),l=Dd(Nd(t,"bottom")),u=AS(t,"x"),h=AS(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Nd(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(u)}}function CS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function bI(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function iF(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Re(s)){e.size&&(n[s]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?a.height:a.width),e.size=b.size/b.count,n[s]+=e.size}a.getPadding&&bI(l,a.getPadding());const u=Math.max(0,t.outerWidth-CS(l,n,"left","right")),h=Math.max(0,t.outerHeight-CS(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:g}:{same:g,other:f}}function sF(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function rF(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Bd(n,t,e,i){const s=[];let a,l,u,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,rF(u.horizontal,t));const{same:b,other:E}=iF(t,e,u,i);f|=b&&s.length,g=g||E,h.fullSize||s.push(u)}return f&&Bd(s,t,e,i)||g}function lp(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function RS(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const b=t.w*g,E=f.size||h.height;pf(f.start)&&(l=f.start),h.fullSize?lp(h,s.left,l,e.outerWidth-s.right-s.left,E):lp(h,t.left+f.placed,l,b,E),f.start=l,f.placed+=b,l=h.bottom}else{const b=t.h*g,E=f.size||h.width;pf(f.start)&&(a=f.start),h.fullSize?lp(h,a,s.top,E,e.outerHeight-s.bottom-s.top):lp(h,a,t.top+f.placed,E,b),f.start=a,f.placed+=b,a=h.right}}t.x=a,t.y=l}var cr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=hr(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=nF(n.boxes),h=u.vertical,f=u.horizontal;Ye(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const g=h.reduce((k,R)=>R.box.options&&R.box.options.display===!1?k:k+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),E=Object.assign({},s);bI(E,hr(i));const T=Object.assign({maxPadding:E,w:a,h:l,x:s.left,y:s.top},s),C=eF(h.concat(f),b);Bd(u.fullSize,T,b,C),Bd(h,T,b,C),Bd(f,T,b,C)&&Bd(h,T,b,C),sF(T),RS(u.leftAndTop,T,b,C),T.x+=T.w,T.y+=T.h,RS(u.rightAndBottom,T,b,C),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Ye(u.chartArea,k=>{const R=k.box;Object.assign(R,n.chartArea),R.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class EI{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class aF extends EI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Np="$chartjs",oF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},IS=n=>n===null||n==="";function lF(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Np]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",IS(s)){const a=dS(n,"width");a!==void 0&&(n.width=a)}if(IS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=dS(n,"height");a!==void 0&&(n.height=a)}return n}const xI=o5?{passive:!0}:!1;function cF(n,t,e){n&&n.addEventListener(t,e,xI)}function uF(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,xI)}function hF(n,t){const e=oF[n.type]||n.type,{x:i,y:s}=Sc(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function hg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function dF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||hg(u.addedNodes,i),l=l&&!hg(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function fF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||hg(u.removedNodes,i),l=l&&!hg(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const bf=new Map;let NS=0;function wI(){const n=window.devicePixelRatio;n!==NS&&(NS=n,bf.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function mF(n,t){bf.size||window.addEventListener("resize",wI),bf.set(n,t)}function pF(n){bf.delete(n),bf.size||window.removeEventListener("resize",wI)}function gF(n,t,e){const i=n.canvas,s=i&&g0(i);if(!s)return;const a=eI((u,h)=>{const f=s.clientWidth;e(u,h),f<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(s),mF(n,a),l}function Q_(n,t,e){e&&e.disconnect(),t==="resize"&&pF(n)}function yF(n,t,e){const i=n.canvas,s=eI(a=>{n.ctx!==null&&e(hF(a,n))},n);return cF(i,t,s),s}class _F extends EI{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(lF(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Np])return!1;const i=e[Np].initial;["height","width"].forEach(a=>{const l=i[a];He(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[Np],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:dF,detach:fF,resize:gF}[e]||yF;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Q_,detach:Q_,resize:Q_}[e]||uF)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return a5(t,e,i,s)}isAttached(t){const e=t&&g0(t);return!!(e&&e.isConnected)}}function vF(n){return!p0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?aF:_F}let Ro=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return gf(this.x)&&gf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}};function bF(n,t){const e=n.options.ticks,i=EF(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?wF(t):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>s)return TF(t,f,a,l/s),f;const g=xF(a,t,s);if(l>0){let b,E;const T=l>1?Math.round((h-u)/(l-1)):null;for(cp(t,f,g,He(T)?0:u-T,u),b=0,E=l-1;b<E;b++)cp(t,f,g,a[b],a[b+1]);return cp(t,f,g,h,He(T)?t.length:h+T),f}return cp(t,f,g),f}function EF(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function xF(n,t,e){const i=SF(n),s=t.length/e;if(!i)return Math.max(s,1);const a=r3(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function wF(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function TF(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function cp(n,t,e,i,s){const a=fe(i,0),l=Math.min(fe(s,n.length),n.length);let u=0,h,f,g;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(f=Math.max(a,0);f<l;f++)f===g&&(t.push(n[f]),u++,g=Math.round(a+u*e))}function SF(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const AF=n=>n==="left"?"right":n==="right"?"left":n,DS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,kS=(n,t)=>Math.min(t||n,n);function OS(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function CF(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(s),f;if(!(e&&(i===1?f=Math.max(h-a,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-u||h>l+u)))return h}function RF(n,t){Ye(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function kd(n){return n.drawTicks?n.tickLength:0}function MS(n,t){if(!n.display)return 0;const e=Vi(n.font,t),i=hr(n.padding);return(qn(n.text)?n.text.length:1)*e.lineHeight+i.height}function IF(n,t){return Kc(n,{scale:t,type:"scale"})}function NF(n,t,e){return Kc(n,{tick:e,index:t,type:"tick"})}function DF(n,t,e){let i=l0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=AF(i)),i}function kF(n,t,e,i){const{top:s,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let b=0,E,T,C;const k=l-s,R=u-a;if(n.isHorizontal()){if(T=Mi(i,a,u),Re(e)){const V=Object.keys(e)[0],$=e[V];C=g[V].getPixelForValue($)+k-t}else e==="center"?C=(f.bottom+f.top)/2+k-t:C=DS(n,e,t);E=u-a}else{if(Re(e)){const V=Object.keys(e)[0],$=e[V];T=g[V].getPixelForValue($)-R+t}else e==="center"?T=(f.left+f.right)/2-R+t:T=DS(n,e,t);C=Mi(i,l,s),b=e==="left"?-si:si}return{titleX:T,titleY:C,maxWidth:E,rotation:b}}class ph extends Ro{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=oa(t,Number.POSITIVE_INFINITY),e=oa(e,Number.NEGATIVE_INFINITY),i=oa(i,Number.POSITIVE_INFINITY),s=oa(s,Number.NEGATIVE_INFINITY),{min:oa(t,i),max:oa(e,s),minDefined:Fi(t),maxDefined:Fi(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:oa(e,oa(i,e)),max:oa(i,oa(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){un(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=V3(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?OS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=bF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){un(this.options.afterUpdate,[this])}beforeSetDimensions(){un(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){un(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),un(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){un(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=un(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){un(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){un(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=kS(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,u,h,f;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),b=g.widest.width,E=g.highest.height,T=Li(this.chart.width-b,0,this.maxWidth);u=t.offset?this.maxWidth/i:T/(i-1),b+6>u&&(u=T/(i-(t.offset?.5:1)),h=this.maxHeight-kd(t.grid)-e.padding-MS(t.title,this.chart.options.font),f=Math.sqrt(b*b+E*E),l=c3(Math.min(Math.asin(Li((g.highest.height+6)/u,-1,1)),Math.asin(Li(h/f,-1,1))-Math.asin(Li(E/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){un(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){un(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=MS(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=kd(a)+h):(t.height=this.maxHeight,t.width=kd(a)+h),i.display&&this.ticks.length){const{first:f,last:g,widest:b,highest:E}=this._getLabelSizes(),T=i.padding*2,C=vo(this.labelRotation),k=Math.cos(C),R=Math.sin(C);if(u){const V=i.mirror?0:R*b.width+k*E.height;t.height=Math.min(this.maxHeight,t.height+V+T)}else{const V=i.mirror?0:k*b.width+R*E.height;t.width=Math.min(this.maxWidth,t.width+V+T)}this._calculatePadding(f,g,R,k)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,T=0;h?f?(E=s*t.width,T=i*e.height):(E=i*t.height,T=s*e.width):a==="start"?T=e.width:a==="end"?E=t.width:a!=="inner"&&(E=t.width/2,T=e.width/2),this.paddingLeft=Math.max((E-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-b+l)*this.width/(this.width-b),0)}else{let g=e.height/2,b=t.height/2;a==="start"?(g=0,b=t.height):a==="end"&&(g=e.height,b=0),this.paddingTop=g+l,this.paddingBottom=b+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){un(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)He(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=OS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/kS(e,i));let f=0,g=0,b,E,T,C,k,R,V,$,q,Q,W;for(b=0;b<e;b+=h){if(C=t[b].label,k=this._resolveTickFontOptions(b),s.font=R=k.string,V=a[R]=a[R]||{data:{},gc:[]},$=k.lineHeight,q=Q=0,!He(C)&&!qn(C))q=oS(s,V.data,V.gc,q,C),Q=$;else if(qn(C))for(E=0,T=C.length;E<T;++E)W=C[E],!He(W)&&!qn(W)&&(q=oS(s,V.data,V.gc,q,W),Q+=$);l.push(q),u.push(Q),f=Math.max(q,f),g=Math.max(Q,g)}RF(a,e);const Z=l.indexOf(f),U=u.indexOf(g),I=O=>({width:l[O]||0,height:u[O]||0});return{first:I(0),last:I(e-1),widest:I(Z),highest:I(U),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return h3(this._alignToPixels?xc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=NF(this.getContext(),t,i))}return this.$context||(this.$context=IF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=vo(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,h=a.offset,f=this.isHorizontal(),b=this.ticks.length+(h?1:0),E=kd(a),T=[],C=u.setContext(this.getContext()),k=C.display?C.width:0,R=k/2,V=function(K){return xc(i,K,k)};let $,q,Q,W,Z,U,I,O,F,H,B,z;if(l==="top")$=V(this.bottom),U=this.bottom-E,O=$-R,H=V(t.top)+R,z=t.bottom;else if(l==="bottom")$=V(this.top),H=t.top,z=V(t.bottom)-R,U=$+R,O=this.top+E;else if(l==="left")$=V(this.right),Z=this.right-E,I=$-R,F=V(t.left)+R,B=t.right;else if(l==="right")$=V(this.left),F=t.left,B=V(t.right)-R,Z=$+R,I=this.left+E;else if(e==="x"){if(l==="center")$=V((t.top+t.bottom)/2+.5);else if(Re(l)){const K=Object.keys(l)[0],nt=l[K];$=V(this.chart.scales[K].getPixelForValue(nt))}H=t.top,z=t.bottom,U=$+R,O=U+E}else if(e==="y"){if(l==="center")$=V((t.left+t.right)/2);else if(Re(l)){const K=Object.keys(l)[0],nt=l[K];$=V(this.chart.scales[K].getPixelForValue(nt))}Z=$-R,I=Z-E,F=t.left,B=t.right}const kt=fe(s.ticks.maxTicksLimit,b),pt=Math.max(1,Math.ceil(b/kt));for(q=0;q<b;q+=pt){const K=this.getContext(q),nt=a.setContext(K),_t=u.setContext(K),Ot=nt.lineWidth,P=nt.color,ht=_t.dash||[],Et=_t.dashOffset,ft=nt.tickWidth,At=nt.tickColor,Lt=nt.tickBorderDash||[],Dt=nt.tickBorderDashOffset;Q=CF(this,q,h),Q!==void 0&&(W=xc(i,Q,Ot),f?Z=I=F=B=W:U=O=H=z=W,T.push({tx1:Z,ty1:U,tx2:I,ty2:O,x1:F,y1:H,x2:B,y2:z,width:Ot,color:P,borderDash:ht,borderDashOffset:Et,tickWidth:ft,tickColor:At,tickBorderDash:Lt,tickBorderDashOffset:Dt}))}return this._ticksLength=b,this._borderValue=$,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:b}=a,E=kd(i.grid),T=E+g,C=b?-g:T,k=-vo(this.labelRotation),R=[];let V,$,q,Q,W,Z,U,I,O,F,H,B,z="middle";if(s==="top")Z=this.bottom-C,U=this._getXAxisLabelAlignment();else if(s==="bottom")Z=this.top+C,U=this._getXAxisLabelAlignment();else if(s==="left"){const pt=this._getYAxisLabelAlignment(E);U=pt.textAlign,W=pt.x}else if(s==="right"){const pt=this._getYAxisLabelAlignment(E);U=pt.textAlign,W=pt.x}else if(e==="x"){if(s==="center")Z=(t.top+t.bottom)/2+T;else if(Re(s)){const pt=Object.keys(s)[0],K=s[pt];Z=this.chart.scales[pt].getPixelForValue(K)+T}U=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")W=(t.left+t.right)/2-T;else if(Re(s)){const pt=Object.keys(s)[0],K=s[pt];W=this.chart.scales[pt].getPixelForValue(K)}U=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(h==="start"?z="top":h==="end"&&(z="bottom"));const kt=this._getLabelSizes();for(V=0,$=u.length;V<$;++V){q=u[V],Q=q.label;const pt=a.setContext(this.getContext(V));I=this.getPixelForTick(V)+a.labelOffset,O=this._resolveTickFontOptions(V),F=O.lineHeight,H=qn(Q)?Q.length:1;const K=H/2,nt=pt.color,_t=pt.textStrokeColor,Ot=pt.textStrokeWidth;let P=U;l?(W=I,U==="inner"&&(V===$-1?P=this.options.reverse?"left":"right":V===0?P=this.options.reverse?"right":"left":P="center"),s==="top"?f==="near"||k!==0?B=-H*F+F/2:f==="center"?B=-kt.highest.height/2-K*F+F:B=-kt.highest.height+F/2:f==="near"||k!==0?B=F/2:f==="center"?B=kt.highest.height/2-K*F:B=kt.highest.height-H*F,b&&(B*=-1),k!==0&&!pt.showLabelBackdrop&&(W+=F/2*Math.sin(k))):(Z=I,B=(1-H)*F/2);let ht;if(pt.showLabelBackdrop){const Et=hr(pt.backdropPadding),ft=kt.heights[V],At=kt.widths[V];let Lt=B-Et.top,Dt=0-Et.left;switch(z){case"middle":Lt-=ft/2;break;case"bottom":Lt-=ft;break}switch(U){case"center":Dt-=At/2;break;case"right":Dt-=At;break;case"inner":V===$-1?Dt-=At:V>0&&(Dt-=At/2);break}ht={left:Dt,top:Lt,width:At+Et.width,height:ft+Et.height,color:pt.backdropColor}}R.push({label:Q,font:O,textOffset:B,options:{rotation:k,color:nt,strokeColor:_t,strokeWidth:Ot,textAlign:P,textBaseline:z,translation:[W,Z],backdrop:ht}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-vo(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let f,g;return e==="left"?s?(g=this.right+a,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g=this.left)):e==="right"?s?(g=this.left+a,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const h=s[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,b,E;this.isHorizontal()?(f=xc(t,this.left,l)-l/2,g=xc(t,this.right,u)+u/2,b=E=h):(b=xc(t,this.top,l)-l/2,E=xc(t,this.bottom,u)+u/2,f=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,b),e.lineTo(g,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Gg(i,s);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,f=l.label,g=l.textOffset;vf(i,f,0,g,h,u)}s&&Kg(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=Vi(i.font),l=hr(i.padding),u=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Re(e)?(h+=l.bottom,qn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:b,rotation:E}=kF(this,h,e,u);vf(t,i.text,0,0,a,{color:i.color,maxWidth:b,rotation:E,textAlign:DF(u,e,s),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=fe(t.grid&&t.grid.z,-1),s=fe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ph.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Vi(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class up{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;PF(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,OF(t,l,i),this.override&&jn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in jn[s]&&(delete jn[s][i],this.override&&delete Fc[i])}}function OF(n,t,e){const i=mf(Object.create(null),[e?jn.get(e):{},jn.get(t),n.defaults]);jn.set(t,i),n.defaultRoutes&&MF(t,n.defaultRoutes),n.descriptors&&jn.describe(t,n.descriptors)}function MF(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");jn.route(a,s,h,u)})}function PF(n){return"id"in n&&"defaults"in n}class jF{constructor(){this.controllers=new up(Yg,"datasets",!0),this.elements=new up(Ro,"elements"),this.plugins=new up(Object,"plugins"),this.scales=new up(ph,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Ye(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=a0(t);un(i["before"+s],[],i),e[t](i),un(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var ca=new jF;class LF{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,u=l[i],h=[e,s,a.options];if(un(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=fe(i.options&&i.options.plugins,{}),a=VF(i);return s===!1&&!e?[]:FF(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function VF(n){const t={},e=[],i=Object.keys(ca.plugins.items);for(let a=0;a<i.length;a++)e.push(ca.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function UF(n,t){return!t&&n===!1?null:n===!0?{}:n}function FF(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const u of t){const h=u.id,f=UF(i[h],s);f!==null&&a.push({plugin:u,options:zF(n.config,{plugin:u,local:e[h]},f,l)})}return a}function zF(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $v(n,t){const e=jn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function BF(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function HF(n,t){return n===t?"_index_":"_value_"}function PS(n){if(n==="x"||n==="y"||n==="r")return n}function $F(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qv(n,...t){if(PS(n))return n;for(const e of t){const i=e.axis||$F(e.position)||n.length>1&&PS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function jS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function qF(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return jS(n,"x",e[0])||jS(n,"y",e[0])}return{}}function GF(n,t){const e=Fc[n.type]||{scales:{}},i=t.scales||{},s=$v(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Re(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=qv(l,u,qF(l,n),jn.scales[u.type]),f=HF(h,s),g=e.scales||{};a[l]=Zd(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||$v(u,t),g=(Fc[u]||{}).scales||{};Object.keys(g).forEach(b=>{const E=BF(b,h),T=l[E+"AxisID"]||E;a[T]=a[T]||Object.create(null),Zd(a[T],[{axis:E},i[T],g[b]])})}),Object.keys(a).forEach(l=>{const u=a[l];Zd(u,[jn.scales[u.type],jn.scale])}),a}function TI(n){const t=n.options||(n.options={});t.plugins=fe(t.plugins,{}),t.scales=GF(n,t)}function SI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function KF(n){return n=n||{},n.data=SI(n.data),TI(n),n}const LS=new Map,AI=new Set;function hp(n,t){let e=LS.get(n);return e||(e=t(),LS.set(n,e),AI.add(e)),e}const Od=(n,t,e)=>{const i=Uc(t,e);i!==void 0&&n.add(i)};class WF{constructor(t){this._config=KF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=SI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),TI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return hp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return hp(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return hp(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return hp(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(b=>Od(h,t,b))),g.forEach(b=>Od(h,s,b)),g.forEach(b=>Od(h,Fc[a]||{},b)),g.forEach(b=>Od(h,jn,b)),g.forEach(b=>Od(h,Bv,b))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),AI.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fc[e]||{},jn.datasets[e]||{},{type:e},jn,Bv]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=VS(this._resolverCache,t,s);let h=l;if(XF(l,e)){a.$shared=!1,i=Fl(i)?i():i;const f=this.createResolver(t,i,u);h=ih(l,i,f)}for(const f of e)a[f]=h[f];return a}createResolver(t,e,i=[""],s){const{resolver:a}=VS(this._resolverCache,t,i);return Re(e)?ih(a,e,void 0,s):a}}function VS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:d0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const YF=n=>Re(n)&&Object.getOwnPropertyNames(n).some(t=>Fl(n[t]));function XF(n,t){const{isScriptable:e,isIndexable:i}=rI(n);for(const s of t){const a=e(s),l=i(s),u=(l||a)&&n[s];if(a&&(Fl(u)||YF(u))||l&&qn(u))return!0}return!1}var QF="4.5.0";const ZF=["top","bottom","left","right","chartArea"];function US(n,t){return n==="top"||n==="bottom"||ZF.indexOf(n)===-1&&t==="x"}function FS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function zS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),un(e&&e.onComplete,[n],t)}function JF(n){const t=n.chart,e=t.options.animation;un(e&&e.onProgress,[n],t)}function CI(n){return p0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Dp={},BS=n=>{const t=CI(n);return Object.values(Dp).filter(e=>e.canvas===t).pop()};function tz(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function ez(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Qg=class{static defaults=jn;static instances=Dp;static overrides=Fc;static registry=ca;static version=QF;static getChart=BS;static register(...t){ca.add(...t),HS()}static unregister(...t){ca.remove(...t),HS()}constructor(t,e){const i=this.config=new WF(e),s=CI(t),a=BS(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||vF(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=XU(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p3(b=>this.update(b),l.resizeDelay||0),this._dataChanges=[],Dp[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ho.listen(this,"complete",zS),ho.listen(this,"progress",JF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return He(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lS(this.canvas,this.ctx),this}stop(){return ho.stop(this),this}resize(t,e){ho.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,hS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),un(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ye(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=qv(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Ye(a,l=>{const u=l.options,h=u.id,f=qv(h,u),g=fe(u.type,l.dtype);(u.position===void 0||US(u.position,f)!==US(l.dposition))&&(u.position=l.dposition),s[h]=!0;let b=null;if(h in i&&i[h].type===g)b=i[h];else{const E=ca.getScale(g);b=new E({id:h,type:g,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(u,t)}),Ye(s,(l,u)=>{l||delete i[u]}),Ye(i,l=>{cr.configure(this,l,l.options),cr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(FS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||$v(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=ca.getController(u),{datasetElementType:f,dataElementType:g}=jn.datasets[u];Object.assign(h,{dataElementType:ca.getElement(g),datasetElementType:f&&ca.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Ye(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:b}=this.getDatasetMeta(f),E=!s&&a.indexOf(b)===-1;b.buildOrUpdateElements(E),l=Math.max(+b.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Ye(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(FS("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ye(this.scales,t=>{cr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!ZT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;tz(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!ZT(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ye(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Fl(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ho.has(this)?this.attached&&!ho.running(this)&&ho.start(this):(this.draw(),zS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=pI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Gg(e,s),t.controller.draw(),s&&Kg(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return _f(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=Z5.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Kc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);pf(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ho.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),lS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Dp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Ye(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Ye(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ye(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!ag(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(b=>g.datasetIndex===b.datasetIndex&&g.index===b.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,u=this._getActiveElements(t,s,i,l),h=n3(t),f=ez(t,this._lastEvent,i,h);i&&(this._lastEvent=null,un(a.onHover,[t,u,this],this),h&&un(a.onClick,[t,u,this],this));const g=!ag(u,s);return(g||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=f,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function HS(){return Ye(Qg.instances,n=>n._plugins.invalidate())}function nz(n,t,e){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:u,options:h}=t,{borderWidth:f,borderJoinStyle:g}=h,b=Math.min(f/l,Ds(i-e));if(n.beginPath(),n.arc(s,a,l-f/2,i+b/2,e-b/2),u>0){const E=Math.min(f/u,Ds(i-e));n.arc(s,a,u+f/2,e-E/2,i+E/2,!0)}else{const E=Math.min(f/2,l*Ds(i-e));if(g==="round")n.arc(s,a,E,e-Xe/2,i+Xe/2,!0);else if(g==="bevel"){const T=2*E*E,C=-T*Math.cos(e+Xe/2)+s,k=-T*Math.sin(e+Xe/2)+a,R=T*Math.cos(i+Xe/2)+s,V=T*Math.sin(i+Xe/2)+a;n.lineTo(C,k),n.lineTo(R,V)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function iz(n,t,e){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:h}=t;let f=s/u;n.beginPath(),n.arc(a,l,u,i-f,e+f),h>s?(f=s/h,n.arc(a,l,h,e+f,i-f,!0)):n.arc(a,l,s,e+si,i-si),n.closePath(),n.clip()}function sz(n){return h0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function rz(n,t,e,i){const s=sz(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,i*t/2),u=h=>{const f=(e-Math.min(a,h))*i/2;return Li(h,0,Math.min(a,f))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Li(s.innerStart,0,l),innerEnd:Li(s.innerEnd,0,l)}}function Ou(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function dg(n,t,e,i,s,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=t,b=Math.max(t.outerRadius+i+e-f,0),E=g>0?g+i+e+f:0;let T=0;const C=s-h;if(i){const pt=g>0?g-i:0,K=b>0?b-i:0,nt=(pt+K)/2,_t=nt!==0?C*nt/(nt+i):C;T=(C-_t)/2}const k=Math.max(.001,C*b-e/Xe)/b,R=(C-k)/2,V=h+R+T,$=s-R-T,{outerStart:q,outerEnd:Q,innerStart:W,innerEnd:Z}=rz(t,E,b,$-V),U=b-q,I=b-Q,O=V+q/U,F=$-Q/I,H=E+W,B=E+Z,z=V+W/H,kt=$-Z/B;if(n.beginPath(),a){const pt=(O+F)/2;if(n.arc(l,u,b,O,pt),n.arc(l,u,b,pt,F),Q>0){const Ot=Ou(I,F,l,u);n.arc(Ot.x,Ot.y,Q,F,$+si)}const K=Ou(B,$,l,u);if(n.lineTo(K.x,K.y),Z>0){const Ot=Ou(B,kt,l,u);n.arc(Ot.x,Ot.y,Z,$+si,kt+Math.PI)}const nt=($-Z/E+(V+W/E))/2;if(n.arc(l,u,E,$-Z/E,nt,!0),n.arc(l,u,E,nt,V+W/E,!0),W>0){const Ot=Ou(H,z,l,u);n.arc(Ot.x,Ot.y,W,z+Math.PI,V-si)}const _t=Ou(U,V,l,u);if(n.lineTo(_t.x,_t.y),q>0){const Ot=Ou(U,O,l,u);n.arc(Ot.x,Ot.y,q,V-si,O)}}else{n.moveTo(l,u);const pt=Math.cos(O)*b+l,K=Math.sin(O)*b+u;n.lineTo(pt,K);const nt=Math.cos(F)*b+l,_t=Math.sin(F)*b+u;n.lineTo(nt,_t)}n.closePath()}function az(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:u}=t;let h=t.endAngle;if(a){dg(n,t,e,i,h,s);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%_n||_n))}return dg(n,t,e,i,h,s),n.fill(),h}function oz(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:u,options:h}=t,{borderWidth:f,borderJoinStyle:g,borderDash:b,borderDashOffset:E,borderRadius:T}=h,C=h.borderAlign==="inner";if(!f)return;n.setLineDash(b||[]),n.lineDashOffset=E,C?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let k=t.endAngle;if(a){dg(n,t,e,i,k,s);for(let R=0;R<a;++R)n.stroke();isNaN(u)||(k=l+(u%_n||_n))}C&&iz(n,t,k),h.selfJoin&&k-l>=Xe&&T===0&&g!=="miter"&&nz(n,t,k),a||(dg(n,t,e,i,k,s),n.stroke())}class lz extends Ro{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=QR(s,{x:t,y:e}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,T=fe(b,h-u),C=yf(a,u,h)&&u!==h,k=T>=_n||C,R=bo(l,f+E,g+E);return k&&R}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:f}=this.options,g=(s+a)/2,b=(l+u+f+h)/2;return{x:e+Math.cos(g)*b,y:i+Math.sin(g)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,a=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>_n?Math.floor(i/_n):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*s,Math.sin(u)*s);const h=1-Math.sin(Math.min(Xe,i||0)),f=s*h;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,az(t,this,f,a,l),oz(t,this,f,a,l),t.restore()}}function RI(n,t,e=t){n.lineCap=fe(e.borderCapStyle,t.borderCapStyle),n.setLineDash(fe(e.borderDash,t.borderDash)),n.lineDashOffset=fe(e.borderDashOffset,t.borderDashOffset),n.lineJoin=fe(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=fe(e.borderWidth,t.borderWidth),n.strokeStyle=fe(e.borderColor,t.borderColor)}function cz(n,t,e){n.lineTo(e.x,e.y)}function uz(n){return n.stepped?I3:n.tension||n.cubicInterpolationMode==="monotone"?N3:cz}function II(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:u}=t,h=Math.max(s,l),f=Math.min(a,u),g=s<l&&a<l||s>u&&a>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!g?i+f-h:f-h}}function hz(n,t,e,i){const{points:s,options:a}=t,{count:l,start:u,loop:h,ilen:f}=II(s,e,i),g=uz(a);let{move:b=!0,reverse:E}=i||{},T,C,k;for(T=0;T<=f;++T)C=s[(u+(E?f-T:T))%l],!C.skip&&(b?(n.moveTo(C.x,C.y),b=!1):g(n,k,C,E,a.stepped),k=C);return h&&(C=s[(u+(E?f:0))%l],g(n,k,C,E,a.stepped)),!!h}function dz(n,t,e,i){const s=t.points,{count:a,start:l,ilen:u}=II(s,e,i),{move:h=!0,reverse:f}=i||{};let g=0,b=0,E,T,C,k,R,V;const $=Q=>(l+(f?u-Q:Q))%a,q=()=>{k!==R&&(n.lineTo(g,R),n.lineTo(g,k),n.lineTo(g,V))};for(h&&(T=s[$(0)],n.moveTo(T.x,T.y)),E=0;E<=u;++E){if(T=s[$(E)],T.skip)continue;const Q=T.x,W=T.y,Z=Q|0;Z===C?(W<k?k=W:W>R&&(R=W),g=(b*g+Q)/++b):(q(),n.lineTo(Q,W),C=Z,b=0,k=R=W),V=W}q()}function Gv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?dz:hz}function fz(n){return n.stepped?l5:n.tension||n.cubicInterpolationMode==="monotone"?c5:Ac}function mz(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),RI(n,t.options),n.stroke(s)}function pz(n,t,e,i){const{segments:s,options:a}=t,l=Gv(t);for(const u of s)RI(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const gz=typeof Path2D=="function";function yz(n,t,e,i){gz&&!t.options.segment?mz(n,t,e,i):pz(n,t,e,i)}class Zg extends Ro{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;t5(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=p5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=mI(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],h=fz(i);let f,g;for(f=0,g=l.length;f<g;++f){const{start:b,end:E}=l[f],T=a[b],C=a[E];if(T===C){u.push(T);continue}const k=Math.abs((s-T[e])/(C[e]-T[e])),R=h(T,C,k,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Gv(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=Gv(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),yz(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $S(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class _z extends Ro{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return $S(this,t,"x",e)}inYRange(t,e){return $S(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!_f(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Hv(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function NI(n,t){const{x:e,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,f,g,b;return n.horizontal?(b=l/2,u=Math.min(e,s),h=Math.max(e,s),f=i-b,g=i+b):(b=a/2,u=e-b,h=e+b,f=Math.min(i,s),g=Math.max(i,s)),{left:u,top:f,right:h,bottom:g}}function Tl(n,t,e,i){return n?0:Li(t,e,i)}function vz(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,a=sI(i);return{t:Tl(s.top,a.top,0,e),r:Tl(s.right,a.right,0,t),b:Tl(s.bottom,a.bottom,0,e),l:Tl(s.left,a.left,0,t)}}function bz(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=Wu(s),l=Math.min(t,e),u=n.borderSkipped,h=i||Re(s);return{topLeft:Tl(!h||u.top||u.left,a.topLeft,0,l),topRight:Tl(!h||u.top||u.right,a.topRight,0,l),bottomLeft:Tl(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Tl(!h||u.bottom||u.right,a.bottomRight,0,l)}}function Ez(n){const t=NI(n),e=t.right-t.left,i=t.bottom-t.top,s=vz(n,e/2,i/2),a=bz(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Z_(n,t,e,i){const s=t===null,a=e===null,u=n&&!(s&&a)&&NI(n,i);return u&&(s||bo(t,u.left,u.right))&&(a||bo(e,u.top,u.bottom))}function xz(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function wz(n,t){n.rect(t.x,t.y,t.w,t.h)}function J_(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class Tz extends Ro{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=Ez(this),u=xz(l.radius)?cg:wz;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),u(t,J_(l,e,a)),t.clip(),u(t,J_(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,J_(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Z_(this,t,e,i)}inXRange(t,e){return Z_(this,t,null,e)}inYRange(t,e){return Z_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function Sz(n,t,e){const i=n.segments,s=n.points,a=t.points,l=[];for(const u of i){let{start:h,end:f}=u;f=Jg(h,f,s);const g=Kv(e,s[h],s[f],u.loop);if(!t.segments){l.push({source:u,target:g,start:s[h],end:s[f]});continue}const b=mI(t,g);for(const E of b){const T=Kv(e,a[E.start],a[E.end],E.loop),C=fI(u,s,T);for(const k of C)l.push({source:k,target:E,start:{[e]:qS(g,T,"start",Math.max)},end:{[e]:qS(g,T,"end",Math.min)}})}}return l}function Kv(n,t,e,i){if(i)return;let s=t[n],a=e[n];return n==="angle"&&(s=Ds(s),a=Ds(a)),{property:n,start:s,end:a}}function Az(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:u})=>{u=Jg(l,u,s);const h=s[l],f=s[u];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:f.y}))}),a}function Jg(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function qS(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function DI(n,t){let e=[],i=!1;return qn(n)?(i=!0,e=n):e=Az(n,t),e.length?new Zg({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function GS(n){return n&&n.fill!==!1}function Cz(n,t,e){let s=n[t].fill;const a=[t];let l;if(!e)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Fi(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function Rz(n,t,e){const i=kz(n);if(Re(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Fi(s)&&Math.floor(s)===s?Iz(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Iz(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function Nz(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Re(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Dz(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Re(n)?i=n.value:i=t.getBaseValue(),i}function kz(n){const t=n.options,e=t.fill;let i=fe(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Oz(n){const{scale:t,index:e,line:i}=n,s=[],a=i.segments,l=i.points,u=Mz(t,e);u.push(DI({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let g=f.start;g<=f.end;g++)Pz(s,l[g],u)}return new Zg({points:s,options:{}})}function Mz(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function Pz(n,t,e){const i=[];for(let s=0;s<e.length;s++){const a=e[s],{first:l,last:u,point:h}=jz(a,t,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function jz(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],a=n.segments,l=n.points;let u=!1,h=!1;for(let f=0;f<a.length;f++){const g=a[f],b=l[g.start][e],E=l[g.end][e];if(bo(s,b,E)){u=s===b,h=s===E;break}}return{first:u,last:h,point:i}}class kI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:a,radius:l}=this;return e=e||{start:0,end:_n},t.arc(s,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,a=t.angle;return{x:e+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function Lz(n){const{chart:t,fill:e,line:i}=n;if(Fi(e))return Vz(t,e);if(e==="stack")return Oz(n);if(e==="shape")return!0;const s=Uz(n);return s instanceof kI?s:DI(s,i)}function Vz(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function Uz(n){return(n.scale||{}).getPointPositionForValue?zz(n):Fz(n)}function Fz(n){const{scale:t={},fill:e}=n,i=Nz(e,t);if(Fi(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function zz(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=Dz(e,t,a),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new kI({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)u.push(t.getPointPositionForValue(h,l));return u}function tv(n,t,e){const i=Lz(t),{chart:s,index:a,line:l,scale:u,axis:h}=t,f=l.options,g=f.fill,b=f.backgroundColor,{above:E=b,below:T=b}=g||{},C=s.getDatasetMeta(a),k=pI(s,C);i&&l.points.length&&(Gg(n,e),Bz(n,{line:l,target:i,above:E,below:T,area:e,scale:u,axis:h,clip:k}),Kg(n))}function Bz(n,t){const{line:e,target:i,above:s,below:a,area:l,scale:u,clip:h}=t,f=e._loop?"angle":t.axis;n.save();let g=a;a!==s&&(f==="x"?(KS(n,i,l.top),ev(n,{line:e,target:i,color:s,scale:u,property:f,clip:h}),n.restore(),n.save(),KS(n,i,l.bottom)):f==="y"&&(WS(n,i,l.left),ev(n,{line:e,target:i,color:a,scale:u,property:f,clip:h}),n.restore(),n.save(),WS(n,i,l.right),g=s)),ev(n,{line:e,target:i,color:g,scale:u,property:f,clip:h}),n.restore()}function KS(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,g=s[h],b=s[Jg(h,f,s)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function WS(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,g=s[h],b=s[Jg(h,f,s)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,b.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function ev(n,t){const{line:e,target:i,property:s,color:a,scale:l,clip:u}=t,h=Sz(e,i,s);for(const{source:f,target:g,start:b,end:E}of h){const{style:{backgroundColor:T=a}={}}=f,C=i!==!0;n.save(),n.fillStyle=T,Hz(n,l,u,C&&Kv(s,b,E)),n.beginPath();const k=!!e.pathSegment(n,f);let R;if(C){k?n.closePath():YS(n,i,E,s);const V=!!i.pathSegment(n,g,{move:k,reverse:!0});R=k&&V,R||YS(n,i,b,s)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function Hz(n,t,e,i){const s=t.chart.chartArea,{property:a,start:l,end:u}=i||{};if(a==="x"||a==="y"){let h,f,g,b;a==="x"?(h=l,f=s.top,g=u,b=s.bottom):(h=s.left,f=l,g=s.right,b=u),n.beginPath(),e&&(h=Math.max(h,e.left),g=Math.min(g,e.right),f=Math.max(f,e.top),b=Math.min(b,e.bottom)),n.rect(h,f,g-h,b-f),n.clip()}}function YS(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var $z={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let a,l,u,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),u=a.dataset,h=null,u&&u.options&&u instanceof Zg&&(h={visible:n.isDatasetVisible(l),index:l,fill:Rz(u,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=Cz(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),i&&u.fill&&tv(n.ctx,u,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;GS(a)&&tv(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!GS(i)||e.drawTime!=="beforeDatasetDraw"||tv(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const XS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},qz=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class QS extends Ro{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=un(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Vi(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=XS(i,a);let f,g;e.font=s.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,s,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=s+u;let b=t;a.textAlign="left",a.textBaseline="middle";let E=-1,T=-g;return this.legendItems.forEach((C,k)=>{const R=i+e/2+a.measureText(C.text).width;(k===0||f[f.length-1]+R+2*u>l)&&(b+=g,f[f.length-(k>0?0:1)]=0,T+=g,E++),h[k]={left:0,top:T,row:E,width:R,height:s},f[f.length-1]+=R+u}),b}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-t;let b=u,E=0,T=0,C=0,k=0;return this.legendItems.forEach((R,V)=>{const{itemWidth:$,itemHeight:q}=Gz(i,e,a,R,s);V>0&&T+q+2*u>g&&(b+=E+u,f.push({width:E,height:T}),C+=E+u,k++,E=T=0),h[V]={left:C,top:T,col:k,width:$,height:q},E=Math.max(E,$),T+=q+u}),b+=E,f.push({width:E,height:T}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Yu(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Mi(i,this.left+s,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=Mi(i,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let u=0,h=Mi(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=Mi(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gg(t,this),this._draw(),Kg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,u=jn.color,h=Yu(t.rtl,this.left,this.width),f=Vi(l.font),{padding:g}=l,b=f.size,E=b/2;let T;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:C,boxHeight:k,itemHeight:R}=XS(l,b),V=function(Z,U,I){if(isNaN(C)||C<=0||isNaN(k)||k<0)return;s.save();const O=fe(I.lineWidth,1);if(s.fillStyle=fe(I.fillStyle,u),s.lineCap=fe(I.lineCap,"butt"),s.lineDashOffset=fe(I.lineDashOffset,0),s.lineJoin=fe(I.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=fe(I.strokeStyle,u),s.setLineDash(fe(I.lineDash,[])),l.usePointStyle){const F={radius:k*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:O},H=h.xPlus(Z,C/2),B=U+E;iI(s,F,H,B,l.pointStyleWidth&&C)}else{const F=U+Math.max((b-k)/2,0),H=h.leftForLtr(Z,C),B=Wu(I.borderRadius);s.beginPath(),Object.values(B).some(z=>z!==0)?cg(s,{x:H,y:F,w:C,h:k,radius:B}):s.rect(H,F,C,k),s.fill(),O!==0&&s.stroke()}s.restore()},$=function(Z,U,I){vf(s,I.text,Z,U+R/2,f,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},q=this.isHorizontal(),Q=this._computeTitleHeight();q?T={x:Mi(a,this.left+g,this.right-i[0]),y:this.top+g+Q,line:0}:T={x:this.left+g,y:Mi(a,this.top+Q+g,this.bottom-e[0].height),line:0},uI(this.ctx,t.textDirection);const W=R+g;this.legendItems.forEach((Z,U)=>{s.strokeStyle=Z.fontColor,s.fillStyle=Z.fontColor;const I=s.measureText(Z.text).width,O=h.textAlign(Z.textAlign||(Z.textAlign=l.textAlign)),F=C+E+I;let H=T.x,B=T.y;h.setWidth(this.width),q?U>0&&H+F+g>this.right&&(B=T.y+=W,T.line++,H=T.x=Mi(a,this.left+g,this.right-i[T.line])):U>0&&B+W>this.bottom&&(H=T.x=H+e[T.line].width+g,T.line++,B=T.y=Mi(a,this.top+Q+g,this.bottom-e[T.line].height));const z=h.x(H);if(V(z,B,Z),H=g3(O,H+C+E,q?H+F:this.right,t.rtl),$(h.x(H),B,Z),q)T.x+=F+g;else if(typeof Z.text!="string"){const kt=f.lineHeight;T.y+=OI(Z,kt)+g}else T.y+=W}),hI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Vi(e.font),s=hr(e.padding);if(!e.display)return;const a=Yu(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,f=s.top+h;let g,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),g=this.top+f,b=Mi(t.align,b,this.right-E);else{const C=this.columnSizes.reduce((k,R)=>Math.max(k,R.height),0);g=f+Mi(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const T=Mi(u,b,b+E);l.textAlign=a.textAlign(l0(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,vf(l,e.text,T,g,i)}_computeTitleHeight(){const t=this.options.title,e=Vi(t.font),i=hr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(bo(t,this.left,this.right)&&bo(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],bo(t,s.left,s.left+s.width)&&bo(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Yz(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=qz(s,i);s&&!a&&un(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&un(e.onHover,[t,i,this],this)}else i&&un(e.onClick,[t,i,this],this)}}function Gz(n,t,e,i,s){const a=Kz(i,n,t,e),l=Wz(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function Kz(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function Wz(n,t,e){let i=n;return typeof t.text!="string"&&(i=OI(t,e)),i}function OI(n,t){const e=n.text?n.text.length:0;return t*e}function Yz(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Xz={id:"legend",_element:QS,start(n,t,e){const i=n.legend=new QS({ctx:n.ctx,options:e,chart:n});cr.configure(n,i,e),cr.addBox(n,i)},stop(n){cr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;cr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),g=hr(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class MI extends Ro{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=qn(i.text)?i.text.length:1;this._padding=hr(i.padding);const a=s*Vi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,u=l.align;let h=0,f,g,b;return this.isHorizontal()?(g=Mi(u,i,a),b=e+t,f=a-i):(l.position==="left"?(g=i+t,b=Mi(u,s,e),h=Xe*-.5):(g=a-t,b=Mi(u,e,s),h=Xe*.5),f=s-e),{titleX:g,titleY:b,maxWidth:f,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Vi(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(a);vf(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:f,textAlign:l0(e.align),textBaseline:"middle",translation:[l,u]})}}function Qz(n,t){const e=new MI({ctx:n.ctx,options:t,chart:n});cr.configure(n,e,t),cr.addBox(n,e),n.titleBlock=e}var Zz={id:"title",_element:MI,start(n,t,e){Qz(n,e)},stop(n){const t=n.titleBlock;cr.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;cr.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hd={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=zv(t,f);g<s&&(s=g,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function la(n,t){return t&&(qn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function fo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Jz(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function ZS(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=Vi(t.bodyFont),f=Vi(t.titleFont),g=Vi(t.footerFont),b=a.length,E=s.length,T=i.length,C=hr(t.padding);let k=C.height,R=0,V=i.reduce((Q,W)=>Q+W.before.length+W.lines.length+W.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,b&&(k+=b*f.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),V){const Q=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;k+=T*Q+(V-T)*h.lineHeight+(V-1)*t.bodySpacing}E&&(k+=t.footerMarginTop+E*g.lineHeight+(E-1)*t.footerSpacing);let $=0;const q=function(Q){R=Math.max(R,e.measureText(Q).width+$)};return e.save(),e.font=f.string,Ye(n.title,q),e.font=h.string,Ye(n.beforeBody.concat(n.afterBody),q),$=t.displayColors?l+2+t.boxPadding:0,Ye(i,Q=>{Ye(Q.before,q),Ye(Q.lines,q),Ye(Q.after,q)}),$=0,e.font=g.string,Ye(n.footer,q),e.restore(),R+=C.width,{width:R,height:k}}function tB(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function eB(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function nB(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=s<=(u+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),eB(f,n,t,e)&&(f="center"),f}function JS(n,t,e){const i=e.yAlign||t.yAlign||tB(n,e);return{xAlign:e.xAlign||t.xAlign||nB(n,t,e,i),yAlign:i}}function iB(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function sB(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function tA(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=s+a,{topLeft:g,topRight:b,bottomLeft:E,bottomRight:T}=Wu(l);let C=iB(t,u);const k=sB(t,h,f);return h==="center"?u==="left"?C+=f:u==="right"&&(C-=f):u==="left"?C-=Math.max(g,E)+s:u==="right"&&(C+=Math.max(b,T)+s),{x:Li(C,0,i.width-t.width),y:Li(k,0,i.height-t.height)}}function dp(n,t,e){const i=hr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function eA(n){return la([],fo(n))}function rB(n,t,e){return Kc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function nA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const PI={beforeTitle:co,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:co,beforeBody:co,beforeLabel:co,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return He(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:co,afterBody:co,beforeFooter:co,footer:co,afterFooter:co};function cs(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?PI[t].call(e,i):s}class iA extends Ro{static positioners=Hd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new gI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=rB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=cs(i,"beforeTitle",this,t),a=cs(i,"title",this,t),l=cs(i,"afterTitle",this,t);let u=[];return u=la(u,fo(s)),u=la(u,fo(a)),u=la(u,fo(l)),u}getBeforeBody(t,e){return eA(cs(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Ye(t,a=>{const l={before:[],lines:[],after:[]},u=nA(i,a);la(l.before,fo(cs(u,"beforeLabel",this,a))),la(l.lines,cs(u,"label",this,a)),la(l.after,fo(cs(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return eA(cs(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=cs(i,"beforeFooter",this,t),a=cs(i,"footer",this,t),l=cs(i,"afterFooter",this,t);let u=[];return u=la(u,fo(s)),u=la(u,fo(a)),u=la(u,fo(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(Jz(this.chart,e[h]));return t.filter&&(u=u.filter((g,b,E)=>t.filter(g,b,E,i))),t.itemSort&&(u=u.sort((g,b)=>t.itemSort(g,b,i))),Ye(u,g=>{const b=nA(t.callbacks,g);s.push(cs(b,"labelColor",this,g)),a.push(cs(b,"labelPointStyle",this,g)),l.push(cs(b,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Hd[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=ZS(this,i),f=Object.assign({},u,h),g=JS(this.chart,i,f),b=tA(i,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:b.x,y:b.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:b}=Wu(u),{x:E,y:T}=t,{width:C,height:k}=e;let R,V,$,q,Q,W;return a==="center"?(Q=T+k/2,s==="left"?(R=E,V=R-l,q=Q+l,W=Q-l):(R=E+C,V=R+l,q=Q-l,W=Q+l),$=R):(s==="left"?V=E+Math.max(h,g)+l:s==="right"?V=E+C-Math.max(f,b)-l:V=this.caretX,a==="top"?(q=T,Q=q-l,R=V-l,$=V+l):(q=T+k,Q=q+l,R=V+l,$=V-l),W=q),{x1:R,x2:V,x3:$,y1:q,y2:Q,y3:W}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,u,h;if(a){const f=Yu(i.rtl,this.x,this.width);for(t.x=dp(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=Vi(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,g=Vi(a.bodyFont),b=dp(this,"left",a),E=s.x(b),T=h<g.lineHeight?(g.lineHeight-h)/2:0,C=e.y+T;if(a.usePointStyle){const k={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=s.leftForLtr(E,f)+f/2,V=C+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Hv(t,k,R,V),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Hv(t,k,R,V)}else{t.lineWidth=Re(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const k=s.leftForLtr(E,f),R=s.leftForLtr(s.xPlus(E,1),f-2),V=Wu(l.borderRadius);Object.values(V).some($=>$!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,cg(t,{x:k,y:C,w:f,h,radius:V}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),cg(t,{x:R,y:C+1,w:f-2,h:h-2,radius:V}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(k,C,f,h),t.strokeRect(k,C,f,h),t.fillStyle=l.backgroundColor,t.fillRect(R,C+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=i,b=Vi(i.bodyFont);let E=b.lineHeight,T=0;const C=Yu(i.rtl,this.x,this.width),k=function(I){e.fillText(I,C.x(t.x+T),t.y+E/2),t.y+=E+a},R=C.textAlign(l);let V,$,q,Q,W,Z,U;for(e.textAlign=l,e.textBaseline="middle",e.font=b.string,t.x=dp(this,R,i),e.fillStyle=i.bodyColor,Ye(this.beforeBody,k),T=u&&R!=="right"?l==="center"?f/2+g:f+2+g:0,Q=0,Z=s.length;Q<Z;++Q){for(V=s[Q],$=this.labelTextColors[Q],e.fillStyle=$,Ye(V.before,k),q=V.lines,u&&q.length&&(this._drawColorBox(e,t,Q,C,i),E=Math.max(b.lineHeight,h)),W=0,U=q.length;W<U;++W)k(q[W]),E=b.lineHeight;Ye(V.after,k)}T=0,E=b.lineHeight,Ye(this.afterBody,k),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,u;if(a){const h=Yu(i.rtl,this.x,this.width);for(t.x=dp(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=Vi(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(s[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:g}=i,{topLeft:b,topRight:E,bottomLeft:T,bottomRight:C}=Wu(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+b,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+f-E,h),e.quadraticCurveTo(u+f,h,u+f,h+E),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+f,h+g-C),e.quadraticCurveTo(u+f,h+g,u+f-C,h+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+T,h+g),e.quadraticCurveTo(u,h+g,u,h+g-T),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,h+b),e.quadraticCurveTo(u,h,u+b,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Hd[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=ZS(this,t),h=Object.assign({},l,this._size),f=JS(e,t,h),g=tA(t,h,f,e);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=hr(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),uI(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),hI(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!ag(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),h=e||!ag(l,a)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Hd[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var aB={id:"tooltip",_element:iA,positioners:Hd,afterInit(n,t,e){e&&(n.tooltip=new iA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:PI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const oB=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function lB(n,t,e,i){const s=n.indexOf(t);if(s===-1)return oB(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const cB=(n,t)=>n===null?null:Li(Math.round(n),0,t);function sA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class uB extends ph{static id="category";static defaults={ticks:{callback:sA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(He(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:lB(i,t,fe(e,t),this._addedLabels),cB(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return sA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function hB(n,t){const e=[],{bounds:s,step:a,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:b,includeBounds:E}=n,T=a||1,C=g-1,{min:k,max:R}=t,V=!He(l),$=!He(u),q=!He(f),Q=(R-k)/(b+1);let W=tS((R-k)/C/T)*T,Z,U,I,O;if(W<1e-14&&!V&&!$)return[{value:k},{value:R}];O=Math.ceil(R/W)-Math.floor(k/W),O>C&&(W=tS(O*W/C/T)*T),He(h)||(Z=Math.pow(10,h),W=Math.ceil(W*Z)/Z),s==="ticks"?(U=Math.floor(k/W)*W,I=Math.ceil(R/W)*W):(U=k,I=R),V&&$&&a&&o3((u-l)/a,W/1e3)?(O=Math.round(Math.min((u-l)/W,g)),W=(u-l)/O,U=l,I=u):q?(U=V?l:U,I=$?u:I,O=f-1,W=(I-U)/O):(O=(I-U)/W,Jd(O,Math.round(O),W/1e3)?O=Math.round(O):O=Math.ceil(O));const F=Math.max(eS(W),eS(U));Z=Math.pow(10,He(h)?F:h),U=Math.round(U*Z)/Z,I=Math.round(I*Z)/Z;let H=0;for(V&&(E&&U!==l?(e.push({value:l}),U<l&&H++,Jd(Math.round((U+H*W)*Z)/Z,l,rA(l,Q,n))&&H++):U<l&&H++);H<O;++H){const B=Math.round((U+H*W)*Z)/Z;if($&&B>u)break;e.push({value:B})}return $&&E&&I!==u?e.length&&Jd(e[e.length-1].value,u,rA(u,Q,n))?e[e.length-1].value=u:e.push({value:u}):(!$||I===u)&&e.push({value:I}),e}function rA(n,t,{horizontal:e,minRotation:i}){const s=vo(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class dB extends ph{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return He(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=e?s:h,u=h=>a=i?a:h;if(t){const h=va(s),f=va(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=hB(s,a);return t.bounds==="ticks"&&l3(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return u0(t,this.chart.options.locale,this.options.ticks.format)}}class fB extends dB{static id="linear";static defaults={ticks:{callback:nI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Fi(t)?t:0,this.max=Fi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=vo(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ty={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ds=Object.keys(ty);function aA(n,t){return n-t}function oA(n,t){if(He(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Fi(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(gf(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function lA(n,t,e,i){const s=ds.length;for(let a=ds.indexOf(n);a<s-1;++a){const l=ty[ds[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return ds[a]}return ds[s-1]}function mB(n,t,e,i,s){for(let a=ds.length-1;a>=ds.indexOf(e);a--){const l=ds[a];if(ty[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return ds[e?ds.indexOf(e):0]}function pB(n){for(let t=ds.indexOf(n)+1,e=ds.length;t<e;++t)if(ty[ds[t]].common)return ds[t]}function cA(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=o0(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function gB(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+s.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function uA(n,t,e){const i=[],s={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return a===0||!e?i:gB(n,i,s,e)}class hA extends ph{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new K5._date(t.adapters.date);s.init(e),Zd(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:oA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Fi(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=Fi(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=f3(s,a,l);return this._unit=e.unit||(i.autoSkip?lA(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):mB(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:pB(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),uA(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Li(e,0,l),i=Li(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||lA(a.minUnit,e,i,this._getLabelCapacity(e)),u=fe(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=gf(h)||h===!0,g={};let b=e,E,T;if(f&&(b=+t.startOf(b,"isoWeek",h)),b=+t.startOf(b,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const C=s.ticks.source==="data"&&this.getDataTimestamps();for(E=b,T=0;E<i;E=+t.add(E,u,l),T++)cA(g,E,C);return(E===i||s.bounds==="ticks"||T===1)&&cA(g,E,C),Object.keys(g).sort(aA).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return un(l,[t,e,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],b=f&&u[f],E=i[e],T=f&&b&&E&&E.major;return this._adapter.format(t,s||(T?b:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=vo(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,uA(this,[t],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(oA(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return JR(t.sort(aA))}}function fp(n,t,e){let i=0,s=n.length-1,a,l,u,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Nc(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Nc(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[s]);const f=l-a;return f?u+(h-u)*(t-a)/f:u}class kH extends hA{static id="timeseries";static defaults=hA.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=fp(e,this.min),this._tableRange=fp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,u,h,f,g;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&s.push(f);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)g=s[l+1],h=s[l-1],f=s[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(fp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return fp(this._table,i*this._tableRange+this._minPos,!0)}}const jI="label";function dA(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function yB(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function LI(n,t){n.labels=t}function VI(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jI;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function _B(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jI;const e={labels:[],datasets:[]};return LI(e,n.labels),VI(e,n.datasets,t),e}function vB(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:b,...E}=n,T=D.useRef(null),C=D.useRef(null),k=()=>{T.current&&(C.current=new Qg(T.current,{type:l,data:_B(u,a),options:h&&{...h},plugins:f}),dA(t,C.current))},R=()=>{dA(t,null),C.current&&(C.current.destroy(),C.current=null)};return D.useEffect(()=>{!s&&C.current&&h&&yB(C.current,h)},[s,h]),D.useEffect(()=>{!s&&C.current&&LI(C.current.config.data,u.labels)},[s,u.labels]),D.useEffect(()=>{!s&&C.current&&u.datasets&&VI(C.current.config.data,u.datasets,a)},[s,u.datasets]),D.useEffect(()=>{C.current&&(s?(R(),setTimeout(k)):C.current.update(b))},[s,h,u.labels,u.datasets,b]),D.useEffect(()=>{C.current&&(R(),setTimeout(k))},[l]),D.useEffect(()=>(k(),()=>R()),[]),lr.createElement("canvas",{ref:T,role:"img",height:e,width:i,...E},g)}const bB=D.forwardRef(vB);function _0(n,t){return Qg.register(t),D.forwardRef((e,i)=>lr.createElement(bB,{...e,ref:i,type:n}))}const fA=_0("line",G5),EB=_0("bar",H5),xB=_0("doughnut",q5),wB=({onNotificationClick:n})=>{const[t,e]=D.useState(0),[i,s]=D.useState(!0),[a,l]=D.useState(!1),[u,h]=D.useState([]),f=async()=>{try{s(!0);const[T,C]=await Promise.all([Pn(en(Ee,"ventas")),Pn(en(Ee,"clientes"))]),k=T.docs.map(Q=>({id:Q.id,...Q.data()})),R=C.docs.map(Q=>({id:Q.id,...Q.data()})),V=n0(k,R),$=rg(V),q=V.filter(Q=>Q.status==="pending").slice(0,5);e($.pending),h(q)}catch(T){console.error("Error fetching notifications:",T)}finally{s(!1)}};D.useEffect(()=>{f();const T=setInterval(f,300*1e3);return()=>clearInterval(T)},[]);const g=()=>{l(!a)},b=T=>{l(!1),n&&n(T)},E=T=>T.isDue&&T.daysOverdue>=7?"":T.isDue?"":"";return i?y.jsx("div",{className:"notification-bell",children:y.jsx("div",{className:"bell-icon",children:""})}):y.jsxs("div",{className:"notification-bell-container",children:[y.jsxs("div",{className:`notification-bell ${t>0?"has-notifications":""}`,onClick:g,children:[y.jsx("div",{className:"bell-icon",children:""}),t>0&&y.jsx("div",{className:"notification-badge",children:t>99?"99+":t})]}),a&&y.jsxs("div",{className:"notification-dropdown",children:[y.jsxs("div",{className:"dropdown-header",children:[y.jsx("h3",{children:"Recordatorios de Clientes"}),y.jsxs("span",{className:"notification-count",children:[t," pendientes"]})]}),u.length===0?y.jsx("div",{className:"no-notifications",children:y.jsx("p",{children:"No hay recordatorios pendientes"})}):y.jsx("div",{className:"notification-list",children:u.map(T=>y.jsxs("div",{className:`notification-item ${T.isDue?"overdue":"upcoming"}`,onClick:()=>b(T),children:[y.jsx("div",{className:"notification-priority",children:E(T)}),y.jsxs("div",{className:"notification-content",children:[y.jsx("div",{className:"customer-name",children:T.customerName}),y.jsx("div",{className:"notification-message",children:T.isDue?`${T.daysOverdue} das de retraso!`:`En ${T.daysUntilDue} das`}),y.jsxs("div",{className:"kombucha-info",children:["Compr ",T.totalKombuchas," kombuchas"]})]})]},T.notificationId))}),y.jsx("div",{className:"dropdown-footer",children:y.jsx("button",{className:"view-all-btn",onClick:()=>{l(!1),n&&n({type:"view-all"})},children:"Ver todos los recordatorios"})})]})]})};Qg.register(uB,fB,_z,Zg,Tz,lz,Zz,aB,Xz,$z);function TB(){const n=lh(),[t,e]=D.useState({dailySales:0,monthlySales:0,monthlyKombuchasSold:0,dailyRevenue:0,monthlyRevenue:0,monthlyCost:0}),[i,s]=D.useState(!0),[a,l]=D.useState([]),[u,h]=D.useState([]),[f,g]=D.useState([]),[b,E]=D.useState({salesTrend:{},topProducts:{},revenueGrowth:{},salesStatus:{}}),[T,C]=D.useState([]),[k,R]=D.useState({}),V=async()=>{try{s(!0);const U=(await Pn(en(Ee,"ventas"))).docs.map(Bt=>({id:Bt.id,...Bt.data()})),O=(await Pn(en(Ee,"clientes"))).docs.map(Bt=>({id:Bt.id,...Bt.data()}));h(O);const H=(await Pn(en(Ee,"kombuchas"))).docs.map(Bt=>({id:Bt.id,...Bt.data()}));g(H);const B=ks(),z=HR(),kt=U.filter(Bt=>Bt.fecha===B),pt=kt.reduce((Bt,xt)=>Bt+(parseFloat(xt.total)||0),0),K=U.filter(Bt=>(Bt.fecha?Bt.fecha.slice(0,7):"")===z),nt=K.reduce((Bt,xt)=>Bt+(parseFloat(xt.total)||0),0);let _t=0,Ot=0;K.forEach(Bt=>{if(Bt.items&&Array.isArray(Bt.items))Bt.items.forEach(xt=>{const pe=parseInt(xt.cantidad)||0;_t+=pe;const Tt=H.find(lt=>lt.id===xt.kombuchaId);Tt&&Tt.costoUnitario&&(Ot+=pe*parseFloat(Tt.costoUnitario))});else if(Bt.cantidad){const xt=parseInt(Bt.cantidad)||0;_t+=xt;const pe=H.find(Tt=>Tt.id===Bt.kombucha);pe&&pe.costoUnitario&&(Ot+=xt*parseFloat(pe.costoUnitario))}});const P=nt-Ot,Et=U.sort((Bt,xt)=>new Date(xt.fecha)-new Date(Bt.fecha)).slice(0,5),ft=$(U,H),At=n0(U,O),Lt=rg(At),Dt=At.filter(Bt=>Bt.status==="pending").slice(0,3);e({dailySales:kt.length,monthlySales:K.length,monthlyKombuchasSold:_t,dailyRevenue:pt,monthlyRevenue:nt,monthlyCost:Ot,monthlyEarnings:P}),l(Et),E(ft),C(Dt),R(Lt)}catch(Z){console.error("Error fetching sales data:",Z)}finally{s(!1)}},$=(Z,U)=>{const I=[],O={};for(let K=29;K>=0;K--){const nt=SU(-K);I.push(nt),O[nt]=0}Z.forEach(K=>{O.hasOwnProperty(K.fecha)&&O[K.fecha]++});const F={};Z.forEach(K=>{if(K.items&&Array.isArray(K.items))K.items.forEach(nt=>{const _t=U.find(P=>P.id===nt.kombuchaId),Ot=_t?_t.nombre:"Producto desconocido";F[Ot]=(F[Ot]||0)+parseInt(nt.cantidad||0)});else if(K.kombucha){const nt=U.find(Ot=>Ot.id===K.kombucha),_t=nt?nt.nombre:"Producto desconocido";F[_t]=(F[_t]||0)+parseInt(K.cantidad||0)}});const H=Object.entries(F).sort(([,K],[,nt])=>nt-K).slice(0,5),B=Z.sort((K,nt)=>new Date(K.fecha)-new Date(nt.fecha)),z=[];let kt=0;B.forEach(K=>{kt+=parseFloat(K.total||0),z.push(kt)});const pt={};return Z.forEach(K=>{const nt=K.estado||"pendiente";pt[nt]=(pt[nt]||0)+1}),{salesTrend:{labels:I.map(K=>ha(K)),datasets:[{label:"Ventas",data:I.map(K=>O[K]),borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",tension:.4,fill:!0}]},topProducts:{labels:H.map(([K])=>K),datasets:[{label:"Cantidad Vendida",data:H.map(([,K])=>K),backgroundColor:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe"],borderRadius:8}]},revenueGrowth:{labels:B.map((K,nt)=>`Venta ${nt+1}`),datasets:[{label:"Ingresos Acumulados",data:z,borderColor:"#38a169",backgroundColor:"rgba(56, 161, 105, 0.1)",fill:!0,tension:.4}]},salesStatus:{labels:Object.keys(pt).map(K=>K==="completada"?"Completadas":"Pendientes"),datasets:[{data:Object.values(pt),backgroundColor:["#38a169","#d69e2e"],borderWidth:0}]}}};D.useEffect(()=>{V()},[]);const q=Z=>{const U=u.find(I=>I.id===Z);return U?U.nombre:"Cliente no encontrado"},Q=Z=>AU(Z),W=Z=>{Z.type,n("/recordatorios")};return i?y.jsx("div",{className:"dashboard",children:y.jsx("div",{className:"loading",children:"Cargando dashboard..."})}):y.jsxs("div",{className:"dashboard",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsx("h1",{children:"Dashboard"}),y.jsx(wB,{onNotificationClick:W})]}),y.jsxs("div",{className:"stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"Ventas del da"}),y.jsx("p",{className:"stat-number",children:t.dailySales}),y.jsxs("p",{className:"stat-subtitle",children:["$",t.dailyRevenue.toFixed(2)]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"Ventas del mes"}),y.jsx("p",{className:"stat-number",children:t.monthlySales}),y.jsxs("p",{className:"stat-subtitle",children:["$",t.monthlyRevenue.toFixed(2)]}),y.jsxs("p",{className:"stat-subtitle",children:["Ganancia: $",t.monthlyEarnings.toFixed(2)]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"Kombuchas vendidas"}),y.jsx("p",{className:"stat-number",children:t.monthlyKombuchasSold}),y.jsx("p",{className:"stat-subtitle",children:"Este mes"})]}),y.jsxs("div",{className:"stat-card notification-stat",children:[y.jsx("h3",{children:"Recordatorios"}),y.jsx("p",{className:"stat-number",children:k.pending}),y.jsx("p",{className:"stat-subtitle",children:k.overdue>0?`${k.overdue} vencidos`:"Al da"})]})]}),y.jsxs("div",{className:"charts-section",children:[y.jsxs("div",{className:"chart-row",children:[y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:"Tendencia de Ventas (ltimos 30 das)"}),y.jsx("div",{style:{height:"200px",width:"100%"},children:y.jsx(fA,{data:b.salesTrend,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}},x:{ticks:{maxTicksLimit:10}}},elements:{point:{radius:2}}}})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:"Productos Ms Vendidos"}),y.jsx("div",{style:{height:"200px",width:"100%"},children:y.jsx(EB,{data:b.topProducts,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0}}}})})]})]}),y.jsxs("div",{className:"chart-row",children:[y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:"Crecimiento de Ingresos"}),y.jsx("div",{style:{height:"200px",width:"100%"},children:y.jsx(fA,{data:b.revenueGrowth,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0},x:{ticks:{maxTicksLimit:8}}},elements:{point:{radius:2}}}})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:"Estado de Ventas"}),y.jsx("div",{style:{height:"200px",width:"100%"},children:y.jsx(xB,{data:b.salesStatus,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0}},tooltip:{enabled:!0}}}})})]})]})]}),T.length>0&&y.jsxs("div",{className:"notifications-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("h2",{children:"Recordatorios Urgentes"}),y.jsx("button",{onClick:()=>n("/recordatorios"),className:"view-all-link",children:"Ver todos"})]}),y.jsx("div",{className:"notifications-list",children:T.map(Z=>y.jsxs("div",{className:`notification-item ${Z.isDue?"overdue":"upcoming"}`,children:[y.jsxs("div",{className:"notification-content",children:[y.jsx("div",{className:"customer-name",children:Z.customerName}),y.jsx("div",{className:"notification-message",children:$R(Z)}),y.jsxs("div",{className:"notification-details",children:[y.jsxs("span",{children:["Compr ",Z.totalKombuchas," kombuchas"]}),y.jsx("span",{children:""}),y.jsx("span",{children:ha(Z.lastSaleDate)})]})]}),y.jsx("div",{className:"notification-actions",children:y.jsx("button",{onClick:()=>n("/recordatorios"),className:"action-link",children:"Ver detalles"})})]},Z.notificationId))})]}),y.jsxs("div",{className:"recent-batches",children:[y.jsx("h2",{children:"Ventas recientes"}),y.jsx("div",{className:"batch-list",children:a.length===0?y.jsx("div",{className:"empty-state",children:y.jsx("p",{children:"No hay ventas recientes"})}):a.map(Z=>y.jsxs("div",{className:"batch-item",children:[y.jsxs("div",{className:"batch-info",children:[y.jsxs("h4",{children:["Venta #",Z.id.slice(-6)]}),y.jsxs("p",{children:["Fecha: ",Q(Z.fecha)]}),y.jsxs("p",{children:["Cliente: ",q(Z.cliente)]}),y.jsxs("p",{children:["Total: $",parseFloat(Z.total||0).toFixed(2)]})]}),y.jsx("div",{className:`batch-status ${Z.estado==="completada"?"completed":"active"}`,children:Z.estado==="completada"?"Completada":"Pendiente"})]},Z.id))})]})]})}var nv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mA;function SB(){return mA||(mA=1,function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=s(a,i(u)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=s(l,u));return l}function s(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()}(nv)),nv.exports}var AB=SB();const Fe=xf(AB),CB=["xxl","xl","lg","md","sm","xs"],RB="xs",UI=D.createContext({prefixes:{},breakpoints:CB,minBreakpoint:RB}),{Consumer:OH,Provider:MH}=UI;function an(n,t){const{prefixes:e}=D.useContext(UI);return n||e[t]||t}const FI=D.forwardRef(({bsPrefix:n,fluid:t=!1,as:e="div",className:i,...s},a)=>{const l=an(n,"container"),u=typeof t=="string"?`-${t}`:"-fluid";return y.jsx(e,{ref:a,...s,className:Fe(i,t?`${l}${u}`:l)})});FI.displayName="Container";function Wv(){return Wv=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wv.apply(null,arguments)}function zI(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function pA(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function IB(n){var t=NB(n,"string");return typeof t=="symbol"?t:String(t)}function NB(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function DB(n,t,e){var i=D.useRef(n!==void 0),s=D.useState(t),a=s[0],l=s[1],u=n!==void 0,h=i.current;return i.current=u,!u&&h&&a!==t&&l(t),[u?n:a,D.useCallback(function(f){for(var g=arguments.length,b=new Array(g>1?g-1:0),E=1;E<g;E++)b[E-1]=arguments[E];e&&e.apply(void 0,[f].concat(b)),l(f)},[e])]}function BI(n,t){return Object.keys(t).reduce(function(e,i){var s,a=e,l=a[pA(i)],u=a[i],h=zI(a,[pA(i),i].map(IB)),f=t[i],g=DB(u,l,n[f]),b=g[0],E=g[1];return Wv({},h,(s={},s[i]=b,s[f]=E,s))},n)}function Yv(n,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},Yv(n,t)}function kB(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Yv(n,t)}var OB=Function.prototype.bind.call(Function.prototype.call,[].slice);function Cc(n,t){return OB(n.querySelectorAll(t))}function MB(){const[,n]=D.useReducer(t=>t+1,0);return n}const gA=n=>!n||typeof n=="function"?n:t=>{n.current=t};function PB(n,t){const e=gA(n),i=gA(t);return s=>{e&&e(s),i&&i(s)}}function ey(n,t){return D.useMemo(()=>PB(n,t),[n,t])}const v0=D.createContext(null);v0.displayName="NavContext";const fg=D.createContext(null),b0=(n,t=null)=>n!=null?String(n):t||null,HI=D.createContext(null),jB="data-rr-ui-",LB="rrUi";function ny(n){return`${jB}${n}`}function VB(n){return`${LB}${n}`}function UB(n){const t=D.useRef(n);return D.useEffect(()=>{t.current=n},[n]),t}function po(n){const t=UB(n);return D.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const FB=["as","disabled"];function zB(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function BB(n){return!n||n.trim()==="#"}function E0({tagName:n,disabled:t,href:e,target:i,rel:s,role:a,onClick:l,tabIndex:u=0,type:h}){n||(e!=null||i!=null||s!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:h||"button",disabled:t},f];const g=E=>{if((t||n==="a"&&BB(e))&&E.preventDefault(),t){E.stopPropagation();return}l?.(E)},b=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:u,href:e,target:n==="a"?i:void 0,"aria-disabled":t||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:b},f]}const $I=D.forwardRef((n,t)=>{let{as:e,disabled:i}=n,s=zB(n,FB);const[a,{tagName:l}]=E0(Object.assign({tagName:e,disabled:i},s));return y.jsx(l,Object.assign({},s,a,{ref:t}))});$I.displayName="Button";const HB=["as","active","eventKey"];function $B(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function qI({key:n,onClick:t,active:e,id:i,role:s,disabled:a}){const l=D.useContext(fg),u=D.useContext(v0),h=D.useContext(HI);let f=e;const g={role:s};if(u){!s&&u.role==="tablist"&&(g.role="tab");const b=u.getControllerId(n??null),E=u.getControlledId(n??null);g[ny("event-key")]=n,g.id=b||i,f=e==null&&n!=null?u.activeKey===n:e,(f||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(g["aria-controls"]=E)}return g.role==="tab"&&(g["aria-selected"]=f,f||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=po(b=>{a||(t?.(b),n!=null&&l&&!b.isPropagationStopped()&&l(n,b))}),[g,{isActive:f}]}const GI=D.forwardRef((n,t)=>{let{as:e=$I,active:i,eventKey:s}=n,a=$B(n,HB);const[l,u]=qI(Object.assign({key:b0(s,a.href),active:i},a));return l[ny("active")]=u.isActive,y.jsx(e,Object.assign({},a,l,{ref:t}))});GI.displayName="NavItem";const qB=["as","onSelect","activeKey","role","onKeyDown"];function GB(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const yA=()=>{},_A=ny("event-key"),KI=D.forwardRef((n,t)=>{let{as:e="div",onSelect:i,activeKey:s,role:a,onKeyDown:l}=n,u=GB(n,qB);const h=MB(),f=D.useRef(!1),g=D.useContext(fg),b=D.useContext(HI);let E,T;b&&(a=a||"tablist",s=b.activeKey,E=b.getControlledId,T=b.getControllerId);const C=D.useRef(null),k=q=>{const Q=C.current;if(!Q)return null;const W=Cc(Q,`[${_A}]:not([aria-disabled=true])`),Z=Q.querySelector("[aria-selected=true]");if(!Z||Z!==document.activeElement)return null;const U=W.indexOf(Z);if(U===-1)return null;let I=U+q;return I>=W.length&&(I=0),I<0&&(I=W.length-1),W[I]},R=(q,Q)=>{q!=null&&(i?.(q,Q),g?.(q,Q))},V=q=>{if(l?.(q),!b)return;let Q;switch(q.key){case"ArrowLeft":case"ArrowUp":Q=k(-1);break;case"ArrowRight":case"ArrowDown":Q=k(1);break;default:return}Q&&(q.preventDefault(),R(Q.dataset[VB("EventKey")]||null,q),f.current=!0,h())};D.useEffect(()=>{if(C.current&&f.current){const q=C.current.querySelector(`[${_A}][aria-selected=true]`);q?.focus()}f.current=!1});const $=ey(t,C);return y.jsx(fg.Provider,{value:R,children:y.jsx(v0.Provider,{value:{role:a,activeKey:b0(s),getControlledId:E||yA,getControllerId:T||yA},children:y.jsx(e,Object.assign({},u,{onKeyDown:V,ref:$,role:a}))})})});KI.displayName="Nav";const KB=Object.assign(KI,{Item:GI}),gh=D.createContext(null);gh.displayName="NavbarContext";const x0=D.createContext(null);x0.displayName="CardHeaderContext";const WI=D.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=an(t,"nav-item"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));WI.displayName="NavItem";function WB(){const n=D.useRef(!0),t=D.useRef(()=>n.current);return D.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function YB(n){const t=D.useRef(null);return D.useEffect(()=>{t.current=n}),t.current}const XB=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",QB=typeof document<"u",vA=QB||XB?D.useLayoutEffect:D.useEffect,ZB=["onKeyDown"];function JB(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function t9(n){return!n||n.trim()==="#"}const YI=D.forwardRef((n,t)=>{let{onKeyDown:e}=n,i=JB(n,ZB);const[s]=E0(Object.assign({tagName:"a"},i)),a=po(l=>{s.onKeyDown(l),e?.(l)});return t9(i.href)||i.role==="button"?y.jsx("a",Object.assign({ref:t},i,s,{onKeyDown:a})):y.jsx("a",Object.assign({ref:t},i,{onKeyDown:e}))});YI.displayName="Anchor";const XI=D.forwardRef(({bsPrefix:n,className:t,as:e=YI,active:i,eventKey:s,disabled:a=!1,...l},u)=>{n=an(n,"nav-link");const[h,f]=qI({key:b0(s,l.href),active:i,disabled:a,...l});return y.jsx(e,{...l,...h,ref:u,disabled:a,className:Fe(t,n,a&&"disabled",f.isActive&&"active")})});XI.displayName="NavLink";const QI=D.forwardRef((n,t)=>{const{as:e="div",bsPrefix:i,variant:s,fill:a=!1,justify:l=!1,navbar:u,navbarScroll:h,className:f,activeKey:g,...b}=BI(n,{activeKey:"onSelect"}),E=an(i,"nav");let T,C,k=!1;const R=D.useContext(gh),V=D.useContext(x0);return R?(T=R.bsPrefix,k=u??!0):V&&({cardHeaderBsPrefix:C}=V),y.jsx(KB,{as:e,ref:t,activeKey:g,className:Fe(f,{[E]:!k,[`${T}-nav`]:k,[`${T}-nav-scroll`]:k&&h,[`${C}-${s}`]:!!C,[`${E}-${s}`]:!!s,[`${E}-fill`]:a,[`${E}-justified`]:l}),...b})});QI.displayName="Nav";const Ir=Object.assign(QI,{Item:WI,Link:XI}),ZI=D.forwardRef(({bsPrefix:n,className:t,as:e,...i},s)=>{n=an(n,"navbar-brand");const a=e||(i.href?"a":"span");return y.jsx(a,{...i,ref:s,className:Fe(t,n)})});ZI.displayName="NavbarBrand";function w0(n){return n&&n.ownerDocument||document}function e9(n){var t=w0(n);return t&&t.defaultView||window}function n9(n,t){return e9(n).getComputedStyle(n,t)}var i9=/([A-Z])/g;function s9(n){return n.replace(i9,"-$1").toLowerCase()}var r9=/^ms-/;function mp(n){return s9(n).replace(r9,"-ms-")}var a9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function o9(n){return!!(n&&a9.test(n))}function xo(n,t){var e="",i="";if(typeof t=="string")return n.style.getPropertyValue(mp(t))||n9(n).getPropertyValue(mp(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?n.style.removeProperty(mp(s)):o9(s)?i+=s+"("+a+") ":e+=mp(s)+": "+a+";"}),i&&(e+="transform: "+i+";"),n.style.cssText+=";"+e}var iv={exports:{}},sv,bA;function l9(){if(bA)return sv;bA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sv=n,sv}var rv,EA;function c9(){if(EA)return rv;EA=1;var n=l9();function t(){}function e(){}return e.resetWarningCache=t,rv=function(){function i(l,u,h,f,g,b){if(b!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},rv}var xA;function u9(){return xA||(xA=1,iv.exports=c9()()),iv.exports}var h9=u9();const av=xf(h9),wA={disabled:!1},JI=lr.createContext(null);var d9=function(t){return t.scrollTop},$d="unmounted",yl="exited",Dr="entering",go="entered",Ef="exiting",Io=function(n){kB(t,n);function t(i,s){var a;a=n.call(this,i,s)||this;var l=s,u=l&&!l.isMounting?i.enter:i.appear,h;return a.appearStatus=null,i.in?u?(h=yl,a.appearStatus=Dr):h=go:i.unmountOnExit||i.mountOnEnter?h=$d:h=yl,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===$d?{status:yl}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Dr&&l!==go&&(a=Dr):(l===Dr||l===go)&&(a=Ef)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,a,l,u;return a=l=u=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,u=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:u}},e.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Dr){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Fu.findDOMNode(this);l&&d9(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yl&&this.setState({status:$d})},e.performEnter=function(s){var a=this,l=this.props.enter,u=this.context?this.context.isMounting:s,h=this.props.nodeRef?[u]:[Fu.findDOMNode(this),u],f=h[0],g=h[1],b=this.getTimeouts(),E=u?b.appear:b.enter;if(!s&&!l||wA.disabled){this.safeSetState({status:go},function(){a.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:Dr},function(){a.props.onEntering(f,g),a.onTransitionEnd(E,function(){a.safeSetState({status:go},function(){a.props.onEntered(f,g)})})})},e.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Fu.findDOMNode(this);if(!a||wA.disabled){this.safeSetState({status:yl},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Ef},function(){s.props.onExiting(u),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:yl},function(){s.props.onExited(u)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},e.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,a.nextCallback=null,s(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Fu.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=h[0],g=h[1];this.props.addEndListener(f,g)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===$d)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=zI(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lr.createElement(JI.Provider,{value:null},typeof l=="function"?l(s,u):lr.cloneElement(lr.Children.only(l),u))},t}(lr.Component);Io.contextType=JI;Io.propTypes={};function Mu(){}Io.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mu,onEntering:Mu,onEntered:Mu,onExit:Mu,onExiting:Mu,onExited:Mu};Io.UNMOUNTED=$d;Io.EXITED=yl;Io.ENTERING=Dr;Io.ENTERED=go;Io.EXITING=Ef;function f9(n){return n.code==="Escape"||n.keyCode===27}function m9(){const n=D.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function yh(n){if(!n||typeof n=="function")return null;const{major:t}=m9();return t>=19?n.props.ref:n.ref}const iy=!!(typeof window<"u"&&window.document&&window.document.createElement);var Xv=!1,Qv=!1;try{var ov={get passive(){return Xv=!0},get once(){return Qv=Xv=!0}};iy&&(window.addEventListener("test",ov,ov),window.removeEventListener("test",ov,!0))}catch{}function p9(n,t,e,i){if(i&&typeof i!="boolean"&&!Qv){var s=i.once,a=i.capture,l=e;!Qv&&s&&(l=e.__once||function u(h){this.removeEventListener(t,u,a),e.call(this,h)},e.__once=l),n.addEventListener(t,l,Xv?i:a)}n.addEventListener(t,e,i)}function g9(n,t,e,i){var s=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(t,e,s),e.__once&&n.removeEventListener(t,e.__once,s)}function mg(n,t,e,i){return p9(n,t,e,i),function(){g9(n,t,e,i)}}function y9(n,t,e,i){if(i===void 0&&(i=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(t,e,i),n.dispatchEvent(s)}}function _9(n){var t=xo(n,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function v9(n,t,e){e===void 0&&(e=5);var i=!1,s=setTimeout(function(){i||y9(n,"transitionend",!0)},t+e),a=mg(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),a()}}function b9(n,t,e,i){e==null&&(e=_9(n)||0);var s=v9(n,e,i),a=mg(n,"transitionend",t);return function(){s(),a()}}function TA(n,t){const e=xo(n,t)||"",i=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*i}function T0(n,t){const e=TA(n,"transitionDuration"),i=TA(n,"transitionDelay"),s=b9(n,a=>{a.target===n&&(s(),t(a))},e+i)}function Md(...n){return n.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...s){t.apply(this,s),e.apply(this,s)}},null)}function tN(n){n.offsetHeight}const SA=n=>!n||typeof n=="function"?n:t=>{n.current=t};function E9(n,t){const e=SA(n),i=SA(t);return s=>{e&&e(s),i&&i(s)}}function x9(n,t){return D.useMemo(()=>E9(n,t),[n,t])}function w9(n){return n&&"setState"in n?Fu.findDOMNode(n):n??null}const sy=lr.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:s,onExited:a,addEndListener:l,children:u,childRef:h,...f},g)=>{const b=D.useRef(null),E=x9(b,h),T=Z=>{E(w9(Z))},C=Z=>U=>{Z&&b.current&&Z(b.current,U)},k=D.useCallback(C(n),[n]),R=D.useCallback(C(t),[t]),V=D.useCallback(C(e),[e]),$=D.useCallback(C(i),[i]),q=D.useCallback(C(s),[s]),Q=D.useCallback(C(a),[a]),W=D.useCallback(C(l),[l]);return y.jsx(Io,{ref:g,...f,onEnter:k,onEntered:V,onEntering:R,onExit:$,onExited:Q,onExiting:q,addEndListener:W,nodeRef:b,children:typeof u=="function"?(Z,U)=>u(Z,{...U,ref:T}):lr.cloneElement(u,{ref:T})})});sy.displayName="TransitionWrapper";const T9={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function S9(n,t){const e=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=t[e],s=T9[n];return i+parseInt(xo(t,s[0]),10)+parseInt(xo(t,s[1]),10)}const A9={[yl]:"collapse",[Ef]:"collapsing",[Dr]:"collapsing",[go]:"collapse show"},eN=lr.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:s,className:a,children:l,dimension:u="height",in:h=!1,timeout:f=300,mountOnEnter:g=!1,unmountOnExit:b=!1,appear:E=!1,getDimensionValue:T=S9,...C},k)=>{const R=typeof u=="function"?u():u,V=D.useMemo(()=>Md(Z=>{Z.style[R]="0"},n),[R,n]),$=D.useMemo(()=>Md(Z=>{const U=`scroll${R[0].toUpperCase()}${R.slice(1)}`;Z.style[R]=`${Z[U]}px`},t),[R,t]),q=D.useMemo(()=>Md(Z=>{Z.style[R]=null},e),[R,e]),Q=D.useMemo(()=>Md(Z=>{Z.style[R]=`${T(R,Z)}px`,tN(Z)},i),[i,T,R]),W=D.useMemo(()=>Md(Z=>{Z.style[R]=null},s),[R,s]);return y.jsx(sy,{ref:k,addEndListener:T0,...C,"aria-expanded":C.role?h:null,onEnter:V,onEntering:$,onEntered:q,onExit:Q,onExiting:W,childRef:yh(l),in:h,timeout:f,mountOnEnter:g,unmountOnExit:b,appear:E,children:(Z,U)=>lr.cloneElement(l,{...U,className:Fe(a,l.props.className,A9[Z],R==="width"&&"collapse-horizontal")})})});eN.displayName="Collapse";const nN=D.forwardRef(({children:n,bsPrefix:t,...e},i)=>{t=an(t,"navbar-collapse");const s=D.useContext(gh);return y.jsx(eN,{in:!!(s&&s.expanded),...e,children:y.jsx("div",{ref:i,className:t,children:n})})});nN.displayName="NavbarCollapse";function C9(n){const t=D.useRef(n);return D.useEffect(()=>{t.current=n},[n]),t}function ry(n){const t=C9(n);return D.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const iN=D.forwardRef(({bsPrefix:n,className:t,children:e,label:i="Toggle navigation",as:s="button",onClick:a,...l},u)=>{n=an(n,"navbar-toggler");const{onToggle:h,expanded:f}=D.useContext(gh)||{},g=ry(b=>{a&&a(b),h&&h()});return s==="button"&&(l.type="button"),y.jsx(s,{...l,ref:u,onClick:g,"aria-label":i,className:Fe(t,n,!f&&"collapsed"),children:e||y.jsx("span",{className:`${n}-icon`})})});iN.displayName="NavbarToggle";const R9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I9=typeof document<"u",N9=I9||R9?D.useLayoutEffect:D.useEffect,Zv=new WeakMap,AA=(n,t)=>{if(!n||!t)return;const e=Zv.get(t)||new Map;Zv.set(t,e);let i=e.get(n);return i||(i=t.matchMedia(n),i.refCount=0,e.set(i.media,i)),i};function D9(n,t=typeof window>"u"?void 0:window){const e=AA(n,t),[i,s]=D.useState(()=>e?e.matches:!1);return N9(()=>{let a=AA(n,t);if(!a)return s(!1);let l=Zv.get(t);const u=()=>{s(a.matches)};return a.refCount++,a.addListener(u),u(),()=>{a.removeListener(u),a.refCount--,a.refCount<=0&&l?.delete(a.media),a=void 0}},[n]),i}function k9(n){const t=Object.keys(n);function e(u,h){return u===h?h:u?`${u} and ${h}`:h}function i(u){return t[Math.min(t.indexOf(u)+1,t.length-1)]}function s(u){const h=i(u);let f=n[h];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function a(u){let h=n[u];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function l(u,h,f){let g;typeof u=="object"?(g=u,f=h,h=!0):(h=h||!0,g={[u]:h});let b=D.useMemo(()=>Object.entries(g).reduce((E,[T,C])=>((C==="up"||C===!0)&&(E=e(E,a(T))),(C==="down"||C===!0)&&(E=e(E,s(T))),E),""),[JSON.stringify(g)]);return D9(b,f)}return l}const O9=k9({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function lv(n){n===void 0&&(n=w0());try{var t=n.activeElement;return!t||!t.nodeName?null:t}catch{return n.body}}function CA(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function M9(n){const t=D.useRef(n);return t.current=n,t}function P9(n){const t=M9(n);D.useEffect(()=>()=>t.current(),[])}function j9(n=document){const t=n.defaultView;return Math.abs(t.innerWidth-n.documentElement.clientWidth)}const RA=ny("modal-open");class S0{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:i=!1}={}){this.handleContainerOverflow=e,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return j9(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[i]:s.style[i]},t.scrollBarWidth&&(e[i]=`${parseInt(xo(s,i)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(RA,""),xo(s,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(RA),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const sN=D.createContext(iy?window:void 0);sN.Provider;function A0(){return D.useContext(sN)}const cv=(n,t)=>iy?n==null?(t||w0()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function L9(n,t){const e=A0(),[i,s]=D.useState(()=>cv(n,e?.document));if(!i){const a=cv(n);a&&s(a)}return D.useEffect(()=>{},[t,i]),D.useEffect(()=>{const a=cv(n);a!==i&&s(a)},[n,i]),i}function V9({children:n,in:t,onExited:e,mountOnEnter:i,unmountOnExit:s}){const a=D.useRef(null),l=D.useRef(t),u=po(e);D.useEffect(()=>{t?l.current=!0:u(a.current)},[t,u]);const h=ey(a,yh(n)),f=D.cloneElement(n,{ref:h});return t?f:s||!l.current&&i?null:f}const U9=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function F9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function z9(n){let{onEnter:t,onEntering:e,onEntered:i,onExit:s,onExiting:a,onExited:l,addEndListener:u,children:h}=n,f=F9(n,U9);const g=D.useRef(null),b=ey(g,yh(h)),E=Q=>W=>{Q&&g.current&&Q(g.current,W)},T=D.useCallback(E(t),[t]),C=D.useCallback(E(e),[e]),k=D.useCallback(E(i),[i]),R=D.useCallback(E(s),[s]),V=D.useCallback(E(a),[a]),$=D.useCallback(E(l),[l]),q=D.useCallback(E(u),[u]);return Object.assign({},f,{nodeRef:g},t&&{onEnter:T},e&&{onEntering:C},i&&{onEntered:k},s&&{onExit:R},a&&{onExiting:V},l&&{onExited:$},u&&{addEndListener:q},{children:typeof h=="function"?(Q,W)=>h(Q,Object.assign({},W,{ref:b})):D.cloneElement(h,{ref:b})})}const B9=["component"];function H9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const $9=D.forwardRef((n,t)=>{let{component:e}=n,i=H9(n,B9);const s=z9(i);return y.jsx(e,Object.assign({ref:t},s))});function q9({in:n,onTransition:t}){const e=D.useRef(null),i=D.useRef(!0),s=po(t);return vA(()=>{if(!e.current)return;let a=!1;return s({in:n,element:e.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[n,s]),vA(()=>(i.current=!1,()=>{i.current=!0}),[]),e}function G9({children:n,in:t,onExited:e,onEntered:i,transition:s}){const[a,l]=D.useState(!t);t&&a&&l(!1);const u=q9({in:!!t,onTransition:f=>{const g=()=>{f.isStale()||(f.in?i?.(f.element,f.initial):(l(!0),e?.(f.element)))};Promise.resolve(s(f)).then(g,b=>{throw f.in||l(!0),b})}}),h=ey(u,yh(n));return a&&!t?null:D.cloneElement(n,{ref:h})}function IA(n,t,e){return n?y.jsx($9,Object.assign({},e,{component:n})):t?y.jsx(G9,Object.assign({},e,{transition:t})):y.jsx(V9,Object.assign({},e))}const K9=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function W9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}let uv;function Y9(n){return uv||(uv=new S0({ownerDocument:n?.document})),uv}function X9(n){const t=A0(),e=n||Y9(t),i=D.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>e.add(i.current),remove:()=>e.remove(i.current),isTopModal:()=>e.isTopModal(i.current),setDialogRef:D.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:D.useCallback(s=>{i.current.backdrop=s},[])})}const rN=D.forwardRef((n,t)=>{let{show:e=!1,role:i="dialog",className:s,style:a,children:l,backdrop:u=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:g,transition:b,runTransition:E,backdropTransition:T,runBackdropTransition:C,autoFocus:k=!0,enforceFocus:R=!0,restoreFocus:V=!0,restoreFocusOptions:$,renderDialog:q,renderBackdrop:Q=rt=>y.jsx("div",Object.assign({},rt)),manager:W,container:Z,onShow:U,onHide:I=()=>{},onExit:O,onExited:F,onExiting:H,onEnter:B,onEntering:z,onEntered:kt}=n,pt=W9(n,K9);const K=A0(),nt=L9(Z),_t=X9(W),Ot=WB(),P=YB(e),[ht,Et]=D.useState(!e),ft=D.useRef(null);D.useImperativeHandle(t,()=>_t,[_t]),iy&&!P&&e&&(ft.current=lv(K?.document)),e&&ht&&Et(!1);const At=po(()=>{if(_t.add(),Tt.current=mg(document,"keydown",xt),pe.current=mg(document,"focus",()=>setTimeout(Dt),!0),U&&U(),k){var rt,Ct;const St=lv((rt=(Ct=_t.dialog)==null?void 0:Ct.ownerDocument)!=null?rt:K?.document);_t.dialog&&St&&!CA(_t.dialog,St)&&(ft.current=St,_t.dialog.focus())}}),Lt=po(()=>{if(_t.remove(),Tt.current==null||Tt.current(),pe.current==null||pe.current(),V){var rt;(rt=ft.current)==null||rt.focus==null||rt.focus($),ft.current=null}});D.useEffect(()=>{!e||!nt||At()},[e,nt,At]),D.useEffect(()=>{ht&&Lt()},[ht,Lt]),P9(()=>{Lt()});const Dt=po(()=>{if(!R||!Ot()||!_t.isTopModal())return;const rt=lv(K?.document);_t.dialog&&rt&&!CA(_t.dialog,rt)&&_t.dialog.focus()}),Bt=po(rt=>{rt.target===rt.currentTarget&&(f?.(rt),u===!0&&I())}),xt=po(rt=>{h&&f9(rt)&&_t.isTopModal()&&(g?.(rt),rt.defaultPrevented||I())}),pe=D.useRef(),Tt=D.useRef(),lt=(...rt)=>{Et(!0),F?.(...rt)};if(!nt)return null;const Rt=Object.assign({role:i,ref:_t.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},pt,{style:a,className:s,tabIndex:-1});let Ut=q?q(Rt):y.jsx("div",Object.assign({},Rt,{children:D.cloneElement(l,{role:"document"})}));Ut=IA(b,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:O,onExiting:H,onExited:lt,onEnter:B,onEntering:z,onEntered:kt,children:Ut});let me=null;return u&&(me=Q({ref:_t.setBackdropRef,onClick:Bt}),me=IA(T,C,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:me})),y.jsx(y.Fragment,{children:Fu.createPortal(y.jsxs(y.Fragment,{children:[me,Ut]}),nt)})});rN.displayName="Modal";const Q9=Object.assign(rN,{Manager:S0}),Z9={[Dr]:"show",[go]:"show"},aN=D.forwardRef(({className:n,children:t,transitionClasses:e={},onEnter:i,...s},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},u=D.useCallback((h,f)=>{tN(h),i?.(h,f)},[i]);return y.jsx(sy,{ref:a,addEndListener:T0,...l,onEnter:u,childRef:yh(t),children:(h,f)=>D.cloneElement(t,{...f,className:Fe("fade",n,t.props.className,Z9[h],e[h])})})});aN.displayName="Fade";const oN=D.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=an(t,"offcanvas-body"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));oN.displayName="OffcanvasBody";const J9={[Dr]:"show",[go]:"show"},lN=D.forwardRef(({bsPrefix:n,className:t,children:e,in:i=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:l=!1,...u},h)=>(n=an(n,"offcanvas"),y.jsx(sy,{ref:h,addEndListener:T0,in:i,mountOnEnter:s,unmountOnExit:a,appear:l,...u,childRef:yh(e),children:(f,g)=>D.cloneElement(e,{...g,className:Fe(t,e.props.className,(f===Dr||f===Ef)&&`${n}-toggling`,J9[f])})})));lN.displayName="OffcanvasToggling";const cN=D.createContext({onHide(){}}),tH={"aria-label":av.string,onClick:av.func,variant:av.oneOf(["white"])},C0=D.forwardRef(({className:n,variant:t,"aria-label":e="Close",...i},s)=>y.jsx("button",{ref:s,type:"button",className:Fe("btn-close",t&&`btn-close-${t}`,n),"aria-label":e,...i}));C0.displayName="CloseButton";C0.propTypes=tH;const uN=D.forwardRef(({closeLabel:n="Close",closeVariant:t,closeButton:e=!1,onHide:i,children:s,...a},l)=>{const u=D.useContext(cN),h=ry(()=>{u?.onHide(),i?.()});return y.jsxs("div",{ref:l,...a,children:[s,e&&y.jsx(C0,{"aria-label":n,variant:t,onClick:h})]})});uN.displayName="AbstractModalHeader";const hN=D.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:i=!1,...s},a)=>(n=an(n,"offcanvas-header"),y.jsx(uN,{ref:a,...s,className:Fe(t,n),closeLabel:e,closeButton:i})));hN.displayName="OffcanvasHeader";const R0=n=>D.forwardRef((t,e)=>y.jsx("div",{...t,ref:e,className:Fe(t.className,n)})),eH=R0("h5"),dN=D.forwardRef(({className:n,bsPrefix:t,as:e=eH,...i},s)=>(t=an(t,"offcanvas-title"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));dN.displayName="OffcanvasTitle";function nH(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function iH(n,t){n.classList?n.classList.add(t):nH(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function NA(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sH(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=NA(n.className,t):n.setAttribute("class",NA(n.className&&n.className.baseVal||"",t))}const Pu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class fN extends S0{adjustAndStore(t,e,i){const s=e.style[t];e.dataset[t]=s,xo(e,{[t]:`${parseFloat(xo(e,t))+i}px`})}restore(t,e){const i=e.dataset[t];i!==void 0&&(delete e.dataset[t],xo(e,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(iH(e,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Cc(e,Pu.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth)),Cc(e,Pu.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-t.scrollBarWidth)),Cc(e,Pu.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();sH(e,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Cc(e,Pu.FIXED_CONTENT).forEach(a=>this.restore(i,a)),Cc(e,Pu.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Cc(e,Pu.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let hv;function rH(n){return hv||(hv=new fN(n)),hv}function aH(n){return y.jsx(lN,{...n})}function oH(n){return y.jsx(aN,{...n})}const mN=D.forwardRef(({bsPrefix:n,className:t,children:e,"aria-labelledby":i,placement:s="start",responsive:a,show:l=!1,backdrop:u=!0,keyboard:h=!0,scroll:f=!1,onEscapeKeyDown:g,onShow:b,onHide:E,container:T,autoFocus:C=!0,enforceFocus:k=!0,restoreFocus:R=!0,restoreFocusOptions:V,onEntered:$,onExit:q,onExiting:Q,onEnter:W,onEntering:Z,onExited:U,backdropClassName:I,manager:O,renderStaticNode:F=!1,...H},B)=>{const z=D.useRef();n=an(n,"offcanvas");const[kt,pt]=D.useState(!1),K=ry(E),nt=O9(a||"xs","up");D.useEffect(()=>{pt(a?l&&!nt:l)},[l,a,nt]);const _t=D.useMemo(()=>({onHide:K}),[K]);function Ot(){return O||(f?(z.current||(z.current=new fN({handleContainerOverflow:!1})),z.current):rH())}const P=(At,...Lt)=>{At&&(At.style.visibility="visible"),W?.(At,...Lt)},ht=(At,...Lt)=>{At&&(At.style.visibility=""),U?.(...Lt)},Et=D.useCallback(At=>y.jsx("div",{...At,className:Fe(`${n}-backdrop`,I)}),[I,n]),ft=At=>y.jsx("div",{...At,...H,className:Fe(t,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":i,children:e});return y.jsxs(y.Fragment,{children:[!kt&&(a||F)&&ft({}),y.jsx(cN.Provider,{value:_t,children:y.jsx(Q9,{show:kt,ref:B,backdrop:u,container:T,keyboard:h,autoFocus:C,enforceFocus:k&&!f,restoreFocus:R,restoreFocusOptions:V,onEscapeKeyDown:g,onShow:b,onHide:K,onEnter:P,onEntering:Z,onEntered:$,onExit:q,onExiting:Q,onExited:ht,manager:Ot(),transition:aH,backdropTransition:oH,renderBackdrop:Et,renderDialog:ft})})]})});mN.displayName="Offcanvas";const lH=Object.assign(mN,{Body:oN,Header:hN,Title:dN}),pN=D.forwardRef(({onHide:n,...t},e)=>{const i=D.useContext(gh),s=ry(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return y.jsx(lH,{ref:e,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:s})});pN.displayName="NavbarOffcanvas";const gN=D.forwardRef(({className:n,bsPrefix:t,as:e="span",...i},s)=>(t=an(t,"navbar-text"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));gN.displayName="NavbarText";const yN=D.forwardRef((n,t)=>{const{bsPrefix:e,expand:i=!0,variant:s="light",bg:a,fixed:l,sticky:u,className:h,as:f="nav",expanded:g,onToggle:b,onSelect:E,collapseOnSelect:T=!1,...C}=BI(n,{expanded:"onToggle"}),k=an(e,"navbar"),R=D.useCallback((...q)=>{E?.(...q),T&&g&&b?.(!1)},[E,T,g,b]);C.role===void 0&&f!=="nav"&&(C.role="navigation");let V=`${k}-expand`;typeof i=="string"&&(V=`${V}-${i}`);const $=D.useMemo(()=>({onToggle:()=>b?.(!g),bsPrefix:k,expanded:!!g,expand:i}),[k,g,i,b]);return y.jsx(gh.Provider,{value:$,children:y.jsx(fg.Provider,{value:R,children:y.jsx(f,{ref:t,...C,className:Fe(h,k,i&&V,s&&`${k}-${s}`,a&&`bg-${a}`,u&&`sticky-${u}`,l&&`fixed-${l}`)})})})});yN.displayName="Navbar";const pp=Object.assign(yN,{Brand:ZI,Collapse:nN,Offcanvas:pN,Text:gN,Toggle:iN}),_N=D.forwardRef(({as:n,bsPrefix:t,variant:e="primary",size:i,active:s=!1,disabled:a=!1,className:l,...u},h)=>{const f=an(t,"btn"),[g,{tagName:b}]=E0({tagName:n,disabled:a,...u}),E=b;return y.jsx(E,{...g,...u,ref:h,disabled:a,className:Fe(l,f,s&&"active",e&&`${f}-${e}`,i&&`${f}-${i}`,u.href&&a&&"disabled")})});_N.displayName="Button";const vN=D.createContext(),I0=()=>{const n=D.useContext(vN);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},cH=({children:n})=>{const[t,e]=D.useState(null),[i,s]=D.useState(!0);D.useEffect(()=>j4(ig,h=>{e(h),s(!1)}),[]);const l={user:t,loading:i,logout:async()=>{try{await L4(ig)}catch(u){console.error("Error logging out:",u)}},isAuthenticated:!!t};return y.jsx(vN.Provider,{value:l,children:n})};function pl(){const{logout:n,user:t}=I0(),e=lh(),[i,s]=D.useState(!1),a=async()=>{try{s(!1),await n(),e("/login")}catch(u){console.error("Error logging out:",u)}},l=()=>{s(!1)};return y.jsx(pp,{expand:"lg",className:"bg-body-tertiary",expanded:i,onToggle:u=>s(u),children:y.jsxs(FI,{fluid:!0,children:[y.jsx(pp.Brand,{as:uo,to:"/",onClick:l,children:"Kombucha App"}),y.jsx(pp.Toggle,{"aria-controls":"basic-navbar-nav"}),y.jsxs(pp.Collapse,{id:"basic-navbar-nav",children:[y.jsxs(Ir,{className:"me-auto",children:[y.jsx(Ir.Link,{as:uo,to:"/",onClick:l,children:"Dashboard"}),y.jsx(Ir.Link,{as:uo,to:"/clientes",onClick:l,children:"Clientes"}),y.jsx(Ir.Link,{as:uo,to:"/kombuchas",onClick:l,children:"Kombuchas"}),y.jsx(Ir.Link,{as:uo,to:"/ventas",onClick:l,children:"Ventas"}),y.jsx(Ir.Link,{as:uo,to:"/rutas",onClick:l,children:"Rutas"}),y.jsx(Ir.Link,{as:uo,to:"/mapa",onClick:l,children:"Mapa"}),y.jsx(Ir.Link,{as:uo,to:"/recordatorios",onClick:l,children:"Recordatorios"})]}),y.jsxs(Ir,{className:"ms-auto",children:[y.jsx(Ir.Item,{className:"d-flex align-items-center me-3",children:y.jsx("small",{className:"text-white",children:t?.email?t.email.split("@")[0]:""})}),y.jsx(Ir.Item,{children:y.jsx(_N,{variant:"danger",size:"sm",onClick:a,children:"Cerrar Sesin"})})]})]})]})})}const pg=()=>new Promise((n,t)=>{if(window.google&&window.google.maps){n(window.google.maps);return}const e="AIzaSyC2hTUdZnWCx7qSKtw0nrPzX75Us4OMX80",i=document.createElement("script");i.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`,i.async=!0,i.defer=!0,i.onload=()=>{window.google&&window.google.maps?n(window.google.maps):t(new Error("Google Maps failed to load"))},i.onerror=()=>{t(new Error("Failed to load Google Maps API"))},document.head.appendChild(i)}),uH=({value:n,onChange:t,placeholder:e="Ingresa una direccin...",className:i="",restrictedCities:s=[],restrictedStates:a=[]})=>{const[l,u]=D.useState([]),[h,f]=D.useState(!1),[g,b]=D.useState(n||""),E=D.useRef(null),T=D.useRef(null);D.useEffect(()=>{(async()=>{try{await pg(),E.current=new window.google.maps.places.AutocompleteService,T.current=new window.google.maps.places.PlacesService(document.createElement("div"))}catch(q){console.error("Failed to load Google Maps:",q)}})()},[]),D.useEffect(()=>{b(n||"")},[n]);const C=$=>{const q=$.target.value;b(q),t({address:q,coordinates:null}),q.length>2&&E.current?E.current.getPlacePredictions({input:q,componentRestrictions:{country:"mx"},types:["address"]},(Q,W)=>{if(W===window.google.maps.places.PlacesServiceStatus.OK){let Z=Q;(s.length>0||a.length>0)&&(Z=Q.filter(U=>{const I=U.structured_formatting.secondary_text||"",O=U.description||"",F=s.length===0||s.some(B=>I.toLowerCase().includes(B.toLowerCase())||O.toLowerCase().includes(B.toLowerCase())),H=a.length===0||a.some(B=>I.toLowerCase().includes(B.toLowerCase())||O.toLowerCase().includes(B.toLowerCase()));return F&&H})),u(Z),f(Z.length>0)}else u([]),f(!1)}):(u([]),f(!1))},k=$=>{b($.description),f(!1),u([]),T.current&&T.current.getDetails({placeId:$.place_id,fields:["geometry","formatted_address"]},(q,Q)=>{if(Q===window.google.maps.places.PlacesServiceStatus.OK){const W={lat:q.geometry.location.lat(),lng:q.geometry.location.lng()};t({address:$.description,coordinates:W})}})},R=()=>{setTimeout(()=>{f(!1)},200)},V=()=>{l.length>0&&f(!0)};return y.jsxs("div",{className:`address-autocomplete ${i}`,children:[y.jsx("input",{type:"text",value:g,onChange:C,onBlur:R,onFocus:V,placeholder:e,className:"address-input",autoComplete:"off"}),h&&l.length>0&&y.jsx("div",{className:"suggestions-container",children:l.map(($,q)=>y.jsxs("div",{className:"suggestion-item",onClick:()=>k($),onMouseDown:Q=>Q.preventDefault(),children:[y.jsx("div",{className:"suggestion-main-text",children:$.structured_formatting.main_text}),y.jsx("div",{className:"suggestion-secondary-text",children:$.structured_formatting.secondary_text})]},$.place_id))})]})},da={restrictedCities:[],restrictedStates:["Puebla"],defaultMapCenter:{lat:19.4326,lng:-99.1332},defaultZoom:12,country:"mx"},hH=()=>da.restrictedCities,dH=()=>da.restrictedStates,fH=({showDetails:n=!1})=>da.restrictedCities.length>0||da.restrictedStates.length>0?y.jsxs("div",{className:"location-restrictions",children:[y.jsxs("div",{className:"restrictions-header",children:[y.jsx("span",{className:"restrictions-icon",children:""}),y.jsx("span",{className:"restrictions-text",children:"Bsqueda limitada a ubicaciones especficas"})]}),n&&y.jsxs("div",{className:"restrictions-details",children:[da.restrictedCities.length>0&&y.jsxs("div",{className:"restriction-group",children:[y.jsx("strong",{children:"Ciudades permitidas:"}),y.jsx("div",{className:"restriction-tags",children:da.restrictedCities.map((e,i)=>y.jsx("span",{className:"restriction-tag city-tag",children:e},i))})]}),da.restrictedStates.length>0&&y.jsxs("div",{className:"restriction-group",children:[y.jsx("strong",{children:"Estados permitidos:"}),y.jsx("div",{className:"restriction-tags",children:da.restrictedStates.map((e,i)=>y.jsx("span",{className:"restriction-tag state-tag",children:e},i))})]})]})]}):null,mH=({address:n,coordinates:t,onClose:e})=>{const i=D.useRef(null),s=D.useRef(null),a=D.useRef(null);return D.useEffect(()=>{(async()=>{try{if(await pg(),i.current&&t){const u={lat:parseFloat(t.lat),lng:parseFloat(t.lng)};s.current=new window.google.maps.Map(i.current,{center:u,zoom:16,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),a.current=new window.google.maps.Marker({position:u,map:s.current,title:n,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#F54927",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3}});const h=new window.google.maps.InfoWindow({content:`
          <div style="padding: 12px; min-width: 250px;">
            <h3 style="margin: 0 0 8px 0; color: #333; font-size: 16px;"> Direccin Seleccionada</h3>
            <p style="margin: 8px 0; color: #666; line-height: 1.4;">
              <strong>Direccin:</strong><br>
              ${n}
            </p>
            <p style="margin: 8px 0; color: #666; font-size: 12px;">
              <strong>Coordenadas:</strong><br>
              ${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}
            </p>
          </div>
        `});h.open(s.current,a.current),a.current.addListener("click",()=>{h.open(s.current,a.current)})}}catch(u){console.error("Failed to load Google Maps:",u)}})()},[n,t]),t?y.jsx("div",{className:"address-preview-overlay",children:y.jsxs("div",{className:"address-preview-container",children:[y.jsxs("div",{className:"address-preview-header",children:[y.jsx("h3",{children:"Vista Previa de la Direccin"}),y.jsx("button",{className:"close-btn",onClick:e,children:""})]}),y.jsxs("div",{className:"address-preview-content",children:[y.jsxs("div",{className:"address-info",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Direccin:"})," ",n]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Coordenadas:"})," ",t.lat.toFixed(6),", ",t.lng.toFixed(6)]})]}),y.jsx("div",{className:"map-preview-container",children:y.jsx("div",{ref:i,className:"map-preview"})})]}),y.jsx("div",{className:"address-preview-actions",children:y.jsx("button",{className:"confirm-btn",onClick:e,children:"Confirmar Direccin"})})]})}):null};function pH(){lh();const[n,t]=D.useState([]),[e,i]=D.useState(!0),[s,a]=D.useState(!1),[l,u]=D.useState(null),[h,f]=D.useState("nombre"),[g,b]=D.useState("asc"),[E,T]=D.useState({nombre:"",telefono:"",direccion:"",direccionCoords:null,fechaRegistro:""}),[C,k]=D.useState(!1),[R,V]=D.useState(!1),[$,q]=D.useState([]),[Q,W]=D.useState(!1),[Z,U]=D.useState(null),[I,O]=D.useState({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),F=async()=>{try{console.log("Fetching clients from Firebase...");const[lt,Rt]=await Promise.all([Pn(en(Ee,"clientes")),Pn(en(Ee,"kombuchas"))]),Ut=lt.docs.map(rt=>({id:rt.id,...rt.data()})),me=Rt.docs.map(rt=>({id:rt.id,...rt.data()}));console.log("Processed clients data:",Ut),console.log("Processed kombuchas data:",me),t(Ut),q(me)}catch(lt){console.error("Error fetching clients:",lt)}finally{i(!1)}};D.useEffect(()=>{F()},[]),D.useEffect(()=>{const lt=Rt=>{Rt.key==="Escape"&&(s&&ht(),R&&pe())};return(s||R)&&document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[s,R]);const H=lt=>{h===lt?b(g==="asc"?"desc":"asc"):(f(lt),b("asc"))},B=[...n].sort((lt,Rt)=>{let Ut=lt[h]||"",me=Rt[h]||"";return h==="fechaRegistro"&&(Ut=Ut||"1900-01-01",me=me||"1900-01-01"),typeof Ut=="string"&&(Ut=Ut.toLowerCase(),me=me.toLowerCase()),g==="asc"?Ut>me?1:-1:Ut<me?1:-1}),z=lt=>h!==lt?"":g==="asc"?"":"",kt=lt=>{const{name:Rt,value:Ut}=lt.target;T(me=>({...me,[Rt]:Ut}))},pt=lt=>{T(Rt=>({...Rt,direccion:lt.address,direccionCoords:lt.coordinates?{lat:parseFloat(lt.coordinates.lat),lng:parseFloat(lt.coordinates.lng)}:null}))},K=()=>{E.direccionCoords&&E.direccion&&k(!0)},nt=()=>{k(!1)},_t=async lt=>{lt.preventDefault();try{const Rt={...E,fechaRegistro:E.fechaRegistro||ks()};Rt.direccionCoords||delete Rt.direccionCoords,l?(await kf(xa(Ee,"clientes",l.id),Rt),u(null)):await Pc(en(Ee,"clientes"),Rt),T({nombre:"",telefono:"",direccion:"",direccionCoords:null}),a(!1),F()}catch(Rt){console.error("Error saving client:",Rt)}},Ot=lt=>{u(lt),T({nombre:lt.nombre||"",telefono:lt.telefono||"",direccion:lt.direccion||"",direccionCoords:lt.direccionCoords?{lat:parseFloat(lt.direccionCoords.lat),lng:parseFloat(lt.direccionCoords.lng)}:null}),a(!0)},P=async lt=>{if(window.confirm("Ests seguro de que quieres eliminar este cliente?"))try{await Vg(xa(Ee,"clientes",lt)),F()}catch(Rt){console.error("Error deleting client:",Rt)}},ht=()=>{a(!1),u(null),T({nombre:"",telefono:"",direccion:"",direccionCoords:null})},Et=lt=>{const{name:Rt,value:Ut}=lt.target;O(me=>({...me,[Rt]:Ut}))},ft=(lt,Rt,Ut)=>{O(me=>{const rt=[...me.items];if(rt[lt]={...rt[lt],[Rt]:Ut},Rt==="kombuchaId"&&Ut){const St=$.find(Wt=>Wt.id===Ut);St&&St.precio&&(rt[lt].precio=St.precio.toString())}const Ct=rt.reduce((St,Wt)=>{const ge=(parseFloat(Wt.cantidad)||0)*(parseFloat(Wt.precio)||0);return St+ge},0);return{...me,items:rt,total:Ct.toFixed(2)}})},At=()=>{O(lt=>({...lt,items:[...lt.items,{kombuchaId:"",cantidad:1,precio:""}]}))},Lt=lt=>{O(Rt=>({...Rt,items:Rt.items.filter((Ut,me)=>me!==lt)}))},Dt=lt=>{const Rt=$.find(Ut=>Ut.id===lt);return Rt?Rt.precio:null},Bt=lt=>{if(!lt.kombuchaId)return!1;const Rt=Dt(lt.kombuchaId);return Rt&&parseFloat(lt.precio)!==parseFloat(Rt)},xt=async lt=>{lt.preventDefault(),W(!0);try{const Rt={...I,fecha:I.fecha,total:parseFloat(I.total),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Pc(en(Ee,"ventas"),Rt),O({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),V(!1),U(null),alert("Venta registrada exitosamente")}catch(Rt){console.error("Error creating sale:",Rt),alert("Error al registrar la venta")}finally{W(!1)}},pe=()=>{O({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),V(!1),U(null)},Tt=lt=>{U(lt),O(Rt=>({...Rt,cliente:lt.id,fecha:ks()})),V(!0)};return e?y.jsx("div",{className:"clientes-page",children:y.jsx("div",{className:"loading",children:"Cargando clientes..."})}):y.jsxs("div",{className:"clientes-page",children:[y.jsxs("div",{className:"clientes-header",children:[y.jsx("h1",{children:"Gestin de Clientes"}),y.jsx("button",{className:"add-cliente-btn",onClick:()=>a(!0),children:"+ Nuevo Cliente"})]}),s&&y.jsx("div",{className:"form-overlay",children:y.jsxs("div",{className:"form-container",children:[y.jsx("h2",{children:l?"Editar Cliente":"Nuevo Cliente"}),y.jsxs("form",{onSubmit:_t,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nombre",children:"Nombre *"}),y.jsx("input",{type:"text",id:"nombre",name:"nombre",value:E.nombre,onChange:kt,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"telefono",children:"Telfono"}),y.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:E.telefono,onChange:kt})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"direccion",children:"Direccin"}),y.jsx(fH,{showDetails:!1}),y.jsx(uH,{value:E.direccion,onChange:pt,placeholder:"Ingresa la direccin del cliente...",restrictedCities:hH(),restrictedStates:dH()}),E.direccionCoords&&y.jsxs("div",{className:"coordinates-info",children:[y.jsxs("small",{children:[" Coordenadas guardadas: ",E.direccionCoords.lat.toFixed(6),", ",E.direccionCoords.lng.toFixed(6)]}),y.jsx("button",{type:"button",className:"preview-map-btn",onClick:K,children:" Ver en Mapa"})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",onClick:ht,className:"cancel-btn",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"save-btn",children:l?"Actualizar":"Guardar"})]})]})]})}),y.jsx("div",{className:"clientes-content",children:n.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("p",{children:"No hay clientes registrados"}),y.jsx("button",{className:"add-first-cliente-btn",onClick:()=>a(!0),children:"Agregar primer cliente"})]}):y.jsx("div",{className:"table-container",children:y.jsxs("table",{className:"clientes-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsxs("th",{className:"sortable",onClick:()=>H("nombre"),children:["Nombre ",z("nombre")]}),y.jsxs("th",{className:"sortable",onClick:()=>H("telefono"),children:["Telfono ",z("telefono")]}),y.jsxs("th",{className:"sortable",onClick:()=>H("direccion"),children:["Direccin ",z("direccion")]}),y.jsxs("th",{className:"sortable",onClick:()=>H("fechaRegistro"),children:["Fecha de Registro ",z("fechaRegistro")]}),y.jsx("th",{children:"Acciones"})]})}),y.jsx("tbody",{children:B.map(lt=>y.jsxs("tr",{children:[y.jsx("td",{children:lt.nombre}),y.jsx("td",{children:lt.telefono||"-"}),y.jsx("td",{children:lt.direccion||"-"}),y.jsx("td",{children:lt.fechaRegistro||"-"}),y.jsxs("td",{className:"actions",children:[y.jsx("button",{className:"edit-btn",onClick:()=>Ot(lt),children:"Editar"}),y.jsx("button",{className:"delete-btn",onClick:()=>P(lt.id),children:"Eliminar"}),y.jsx("button",{className:"add-sale-btn",onClick:()=>Tt(lt),children:"+ Venta"})]})]},lt.id))})]})})}),C&&y.jsx(mH,{address:E.direccion,coordinates:E.direccionCoords,onClose:nt}),R&&y.jsx("div",{className:"form-overlay",children:y.jsxs("div",{className:"form-container sale-form-modal",children:[y.jsxs("h2",{children:["Nueva Venta - ",Z?.nombre," - ",ha(I.fecha)]}),y.jsxs("form",{onSubmit:xt,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"fecha",children:"Fecha *"}),y.jsx("input",{type:"date",id:"fecha",name:"fecha",value:I.fecha,onChange:Et,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),y.jsxs("select",{id:"cliente",name:"cliente",value:I.cliente,onChange:Et,required:!0,children:[y.jsx("option",{value:"",children:"Selecciona un cliente"}),n.map(lt=>y.jsx("option",{value:lt.id,children:lt.nombre},lt.id))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Productos de la Venta *"}),y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsx("button",{type:"button",onClick:At,style:{background:"#4299e1",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.9rem"},children:"+ Agregar Producto"})}),I.items.map((lt,Rt)=>y.jsxs("div",{style:{border:"1px solid #667eea",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",backgroundColor:"rgb(102, 126, 234)",color:"white"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsxs("h4",{style:{color:"white",margin:0},children:["Producto ",Rt+1]}),I.items.length>1&&y.jsx("button",{type:"button",onClick:()=>Lt(Rt),style:{background:"#f56565",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"3px",cursor:"pointer",fontSize:"0.8rem"},children:"Eliminar"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Kombucha *"}),y.jsxs("select",{value:lt.kombuchaId,onChange:Ut=>ft(Rt,"kombuchaId",Ut.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0,children:[y.jsx("option",{value:"",children:"Selecciona una kombucha"}),$.map(Ut=>y.jsxs("option",{value:Ut.id,children:[Ut.nombre," - $",Ut.precio?.toFixed(2)||"0.00"]},Ut.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Cantidad *"}),y.jsx("input",{type:"number",value:lt.cantidad,onChange:Ut=>ft(Rt,"cantidad",Ut.target.value),min:"1",style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Precio *"}),y.jsx("input",{type:"number",step:"0.01",min:"0",value:lt.precio,onChange:Ut=>ft(Rt,"precio",Ut.target.value),style:{width:"100%",padding:"0.5rem",border:Bt(lt)?"2px solid #f56565":"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#4a5568"},placeholder:"0.00"}),y.jsx("small",{style:{color:"white",fontSize:"0.7rem"},children:lt.kombuchaId&&Dt(lt.kombuchaId)?y.jsxs(y.Fragment,{children:["Precio original: $",Dt(lt.kombuchaId).toFixed(2),Bt(lt)&&y.jsxs(y.Fragment,{children:[y.jsxs("span",{style:{color:"#f56565",fontWeight:"bold"},children:[" "," Modificado"]}),y.jsx("button",{type:"button",onClick:()=>ft(Rt,"precio",Dt(lt.kombuchaId)),style:{background:"none",border:"none",color:"#4299e1",textDecoration:"underline",cursor:"pointer",fontSize:"0.7rem",marginLeft:"0.5rem"},children:"Restaurar"})]})]}):"Precio sugerido del producto (puede ser modificado)"})]})]}),y.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"5px",textAlign:"center"},children:y.jsxs("strong",{style:{color:"white"},children:["Subtotal: $",((parseFloat(lt.cantidad)||0)*(parseFloat(lt.precio)||0)).toFixed(2)]})})]},Rt))]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"total",children:"Total *"}),y.jsx("input",{type:"number",id:"total",name:"total",value:I.total,readOnly:!0,style:{backgroundColor:"#f7fafc",color:"#4a5568",cursor:"not-allowed",fontSize:"1.2rem",fontWeight:"bold"}}),y.jsx("small",{style:{color:"#666",fontSize:"0.8rem"},children:"Calculado automticamente (suma de todos los productos)"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"estado",children:"Estado *"}),y.jsxs("select",{id:"estado",name:"estado",value:I.estado,onChange:Et,required:!0,children:[y.jsx("option",{value:"pendiente",children:"Pendiente"}),y.jsx("option",{value:"completada",children:"Completada"})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"cancel-btn",onClick:pe,disabled:Q,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"save-btn",disabled:Q,children:Q?"Guardando...":"Guardar Venta"})]})]})]})})]})}const Jv=({clientes:n=[],center:t=null,zoom:e=12})=>{const i=D.useRef(null),s=D.useRef(null),a=D.useRef([]);return D.useEffect(()=>{(async()=>{try{if(await pg(),i.current){const u=t||da.defaultMapCenter;s.current=new window.google.maps.Map(i.current,{center:u,zoom:e||da.defaultZoom,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]})}}catch(u){console.error("Failed to load Google Maps:",u)}})()},[t,e]),D.useEffect(()=>{a.current.forEach(u=>{u.setMap(null)}),a.current=[],(async()=>{try{if(await pg(),s.current&&n.length>0){const u=new window.google.maps.LatLngBounds;let h=!1;if(n.forEach((f,g)=>{const b=parseFloat(f.direccionCoords?.lat),E=parseFloat(f.direccionCoords?.lng);if(f.direccionCoords&&!isNaN(b)&&!isNaN(E)){const T=new window.google.maps.Marker({position:{lat:b,lng:E},map:s.current,title:f.nombre,label:{text:(g+1).toString(),color:"white",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#F54927",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}}),C=new window.google.maps.InfoWindow({content:`
              <div style="padding: 10px; min-width: 200px;">
                <h3 style="margin: 0 0 8px 0; color: #333;">${f.nombre}</h3>
                <p style="margin: 5px 0; color: #666;">
                  <strong>Telfono:</strong> ${f.telefono||"No disponible"}
                </p>
                <p style="margin: 5px 0; color: #666;">
                  <strong>Direccin:</strong> ${f.direccion||"No disponible"}
                </p>
                <p style="margin: 5px 0; color: #666;">
                  <strong>Registro:</strong> ${f.fechaRegistro||"No disponible"}
                </p>
              </div>
            `});T.addListener("click",()=>{C.open(s.current,T)}),a.current.push(T),u.extend(T.getPosition()),h=!0}}),h){s.current.fitBounds(u);const f=window.google.maps.event.addListenerOnce(s.current,"bounds_changed",()=>{s.current.setZoom(Math.min(s.current.getZoom(),15))})}}}catch(u){console.error("Failed to load Google Maps for markers:",u)}})()},[n]),y.jsxs("div",{className:"map-view",children:[y.jsx("div",{ref:i,className:"map-container"}),y.jsxs("div",{className:"map-legend",children:[y.jsx("h3",{children:"Clientes en el mapa"}),y.jsx("div",{className:"legend-items",children:n.map((l,u)=>{const h=parseFloat(l.direccionCoords?.lat),f=parseFloat(l.direccionCoords?.lng);return l.direccionCoords&&!isNaN(h)&&!isNaN(f)?y.jsxs("div",{className:"legend-item",children:[y.jsx("div",{className:"legend-marker",style:{backgroundColor:"#F54927"},children:u+1}),y.jsx("span",{className:"legend-text",children:l.nombre})]},l.id):null})}),n.filter(l=>{const u=parseFloat(l.direccionCoords?.lat),h=parseFloat(l.direccionCoords?.lng);return l.direccionCoords&&!isNaN(u)&&!isNaN(h)}).length===0&&y.jsx("p",{className:"no-coordinates",children:"No hay clientes con coordenadas para mostrar en el mapa"})]})]})};function gH(){const[n,t]=D.useState([]),[e,i]=D.useState(!0),s=async()=>{try{console.log("Fetching clients for map...");const u=(await Pn(en(Ee,"clientes"))).docs.map(h=>({id:h.id,...h.data()}));console.log("Clients with coordinates:",u.filter(h=>{const f=parseFloat(h.direccionCoords?.lat),g=parseFloat(h.direccionCoords?.lng);return h.direccionCoords&&!isNaN(f)&&!isNaN(g)})),t(u)}catch(l){console.error("Error fetching clients for map:",l)}finally{i(!1)}};if(D.useEffect(()=>{s()},[]),e)return y.jsx("div",{className:"map-page",children:y.jsx("div",{className:"loading",children:"Cargando mapa de clientes..."})});const a=n.filter(l=>{const u=parseFloat(l.direccionCoords?.lat),h=parseFloat(l.direccionCoords?.lng);return l.direccionCoords&&!isNaN(u)&&!isNaN(h)});return y.jsxs("div",{className:"map-page",children:[y.jsxs("div",{className:"map-header",children:[y.jsx("h1",{children:"Mapa de Clientes"}),y.jsxs("div",{className:"map-stats",children:[y.jsxs("span",{className:"stat-item",children:[y.jsx("strong",{children:"Total de clientes:"})," ",n.length]}),y.jsxs("span",{className:"stat-item",children:[y.jsx("strong",{children:"Con coordenadas:"})," ",a.length]})]})]}),a.length===0?y.jsx("div",{className:"no-coordinates-message",children:y.jsxs("div",{className:"message-content",children:[y.jsx("h2",{children:"No hay clientes con coordenadas"}),y.jsx("p",{children:"Para ver clientes en el mapa, necesitas agregar direcciones usando las sugerencias de Google Maps en la pgina de gestin de clientes."}),y.jsx("button",{className:"go-to-clients-btn",onClick:()=>window.location.href="/clientes",children:"Ir a Gestin de Clientes"})]})}):y.jsx("div",{className:"map-content",children:y.jsx(Jv,{clientes:n})})]})}const yH=()=>{const[n,t]=D.useState([]),[e,i]=D.useState(!0),[s,a]=D.useState(!1),[l,u]=D.useState(null),[h,f]=D.useState("nombre"),[g,b]=D.useState("asc"),[E,T]=D.useState(!1),[C,k]=D.useState(""),[R,V]=D.useState({nombre:"",precio:"",costoUnitario:""}),$=async()=>{try{i(!0);const z=(await Pn(en(Ee,"kombuchas"))).docs.map(nt=>({id:nt.id,...nt.data()})),pt=(await Pn(en(Ee,"ventas"))).docs.map(nt=>({id:nt.id,...nt.data()})),K=z.map(nt=>{let _t=0;return pt.forEach(Ot=>{Ot.items&&Array.isArray(Ot.items)?Ot.items.forEach(P=>{P.kombuchaId===nt.id&&(_t+=parseInt(P.cantidad)||0)}):Ot.kombucha===nt.id&&(_t+=parseInt(Ot.cantidad)||0)}),{...nt,ventas:_t}});t(K)}catch(B){console.error("Error fetching kombuchas:",B),k("Error al cargar las kombuchas")}finally{i(!1)}};D.useEffect(()=>{$()},[]);const q=B=>{f(B),b(g==="asc"?"desc":"asc")},Q=B=>h===B?g==="asc"?"":"":"",W=B=>{const{name:z,value:kt}=B.target;V(pt=>({...pt,[z]:kt}))},Z=async B=>{B.preventDefault(),T(!0),k("");try{if(!R.nombre.trim()||!R.precio.trim()||!R.costoUnitario.trim()){k("Sabor, precio y costo unitario son campos obligatorios");return}const z={nombre:R.nombre.trim(),precio:parseFloat(R.precio)||0,costoUnitario:parseFloat(R.costoUnitario)||0,fechaRegistro:l?l.fechaRegistro:sg(),fechaActualizacion:sg()};if(l)await kf(xa(Ee,"kombuchas",l.id),z),t(kt=>kt.map(pt=>pt.id===l.id?{...pt,...z}:pt)),u(null);else{const kt=await Pc(en(Ee,"kombuchas"),z);t(pt=>[...pt,{id:kt.id,...z,ventas:0}])}a(!1),F()}catch(z){console.error("Error saving kombucha:",z),k("Error al guardar la kombucha")}finally{T(!1)}},U=B=>{u(B),V({nombre:B.nombre||"",precio:B.precio?.toString()||"",costoUnitario:B.costoUnitario?.toString()||""}),a(!0)},I=async B=>{if(window.confirm("Ests seguro de que quieres eliminar esta kombucha?"))try{await Vg(xa(Ee,"kombuchas",B)),t(z=>z.filter(kt=>kt.id!==B))}catch(z){console.error("Error deleting kombucha:",z),k("Error al eliminar la kombucha")}},O=()=>{a(!1),u(null),F()},F=()=>{V({nombre:"",precio:"",costoUnitario:""}),k("")},H=[...n].sort((B,z)=>{const kt=B[h],pt=z[h];if(h==="precio"||h==="ventas"||h==="costoUnitario"){const K=parseFloat(kt)||0,nt=parseFloat(pt)||0;return g==="asc"?K-nt:nt-K}return kt&&pt?g==="asc"?kt.toString().localeCompare(pt.toString()):pt.toString().localeCompare(kt.toString()):0});return e?y.jsx("div",{className:"kombuchas-page",children:y.jsx("div",{className:"loading",children:"Cargando kombuchas..."})}):y.jsxs("div",{className:"kombuchas-page",children:[y.jsxs("div",{className:"kombuchas-header",children:[y.jsx("h1",{children:"Kombuchas"}),y.jsx("button",{className:"add-kombucha-btn",onClick:()=>a(!0),children:"+ Nueva Kombucha"})]}),C&&y.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:C}),y.jsx("div",{className:"kombuchas-content",children:n.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("p",{children:"No hay kombuchas registradas"}),y.jsx("button",{className:"add-first-kombucha-btn",onClick:()=>a(!0),children:"Agregar primera kombucha"})]}):y.jsx("div",{className:"table-container",children:y.jsxs("table",{className:"kombuchas-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsxs("th",{className:"sortable",onClick:()=>q("nombre"),children:["Sabor Kombucha ",Q("nombre")]}),y.jsxs("th",{className:"sortable",onClick:()=>q("precio"),children:["Precio ",Q("precio")]}),y.jsxs("th",{className:"sortable",onClick:()=>q("costoUnitario"),children:["Costo Unitario ",Q("costoUnitario")]}),y.jsxs("th",{className:"sortable",onClick:()=>q("ventas"),children:["Ventas ",Q("ventas")]}),y.jsx("th",{children:"Acciones"})]})}),y.jsx("tbody",{children:H.map(B=>y.jsxs("tr",{children:[y.jsx("td",{children:B.nombre}),y.jsxs("td",{className:"price-cell",children:["$",B.precio?.toFixed(2)||"0.00"]}),y.jsxs("td",{className:"price-cell",children:["$",B.costoUnitario?.toFixed(2)||"0.00"]}),y.jsx("td",{children:B.ventas||0}),y.jsx("td",{children:y.jsxs("div",{className:"actions",children:[y.jsx("button",{className:"edit-btn",onClick:()=>U(B),children:"Editar"}),y.jsx("button",{className:"delete-btn",onClick:()=>I(B.id),children:"Eliminar"})]})})]},B.id))})]})})}),s&&y.jsx("div",{className:"form-overlay",children:y.jsxs("div",{className:"form-container",children:[y.jsx("h2",{children:l?"Editar Kombucha":"Nueva Kombucha"}),C&&y.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem"},children:C}),y.jsxs("form",{onSubmit:Z,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nombre",children:"Sabor *"}),y.jsx("input",{type:"text",id:"nombre",name:"nombre",value:R.nombre,onChange:W,required:!0,placeholder:"Sabor de la kombucha"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"precio",children:"Precio *"}),y.jsx("input",{type:"number",id:"precio",name:"precio",value:R.precio,onChange:W,required:!0,min:"0",step:"0.01",placeholder:"0.00"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"costoUnitario",children:"Costo Unitario *"}),y.jsx("input",{type:"number",id:"costoUnitario",name:"costoUnitario",value:R.costoUnitario,onChange:W,required:!0,min:"0",step:"0.01",placeholder:"0.00"})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"cancel-btn",onClick:O,disabled:E,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"save-btn",disabled:E,children:E?"Guardando...":l?"Actualizar":"Guardar"})]})]})]})})]})},_H=()=>{const n=Sa(),[t,e]=D.useState([]),[i,s]=D.useState(!0),[a,l]=D.useState(!1),[u,h]=D.useState(null),[f,g]=D.useState("fecha"),[b,E]=D.useState("asc"),[T,C]=D.useState(!1),[k,R]=D.useState(""),[V,$]=D.useState([]),[q,Q]=D.useState([]),[W,Z]=D.useState(HR()),[U,I]=D.useState("sales"),[O,F]=D.useState({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),H=async()=>{try{s(!0);const Ct=(await Pn(en(Ee,"ventas"))).docs.map(St=>({id:St.id,...St.data()}));e(Ct)}catch(rt){console.error("Error fetching sales:",rt),R("Error al cargar las ventas")}finally{s(!1)}},B=async()=>{try{const Ct=(await Pn(en(Ee,"kombuchas"))).docs.map(St=>({id:St.id,...St.data()}));$(Ct)}catch(rt){console.error("Error fetching kombuchas:",rt)}},z=async()=>{try{const Ct=(await Pn(en(Ee,"clientes"))).docs.map(St=>({id:St.id,...St.data()}));Q(Ct)}catch(rt){console.error("Error fetching clientes:",rt)}};D.useEffect(()=>{H(),B(),z()},[]),D.useEffect(()=>{n.state?.selectedCliente&&n.state?.showForm&&(F(rt=>({...rt,cliente:n.state.selectedCliente.id})),l(!0))},[n.state]);const kt=rt=>{g(rt),E(b==="asc"?"desc":"asc")},pt=rt=>f===rt?b==="asc"?"":"":"",K=rt=>{const{name:Ct,value:St}=rt.target;F(Wt=>({...Wt,[Ct]:St}))},nt=(rt,Ct,St)=>{F(Wt=>{const ge=[...Wt.items];if(ge[rt]={...ge[rt],[Ct]:St},Ct==="kombuchaId"&&St){const ze=V.find(mi=>mi.id===St);ze&&ze.precio&&!ge[rt].precio&&(ge[rt].precio=ze.precio)}const Ie=ge.reduce((ze,mi)=>{const Ps=parseFloat(mi.cantidad)||0,zi=parseFloat(mi.precio)||0;return ze+Ps*zi},0);return{...Wt,items:ge,total:Ie.toFixed(2)}})},_t=()=>{F(rt=>({...rt,items:[...rt.items,{kombuchaId:"",cantidad:1,precio:""}]}))},Ot=rt=>{F(Ct=>{const St=Ct.items.filter((ge,Ie)=>Ie!==rt);St.length===0&&St.push({kombuchaId:"",cantidad:1,precio:""});const Wt=St.reduce((ge,Ie)=>{const ze=parseFloat(Ie.cantidad)||0,mi=parseFloat(Ie.precio)||0;return ge+ze*mi},0);return{...Ct,items:St,total:Wt.toFixed(2)}})},P=async rt=>{rt.preventDefault(),C(!0),R("");try{if(!O.fecha.trim()||!O.cliente.trim()){R("Fecha y cliente son campos obligatorios");return}const Ct=O.items.filter(Wt=>Wt.kombuchaId&&Wt.cantidad>0);if(Ct.length===0){R("Debe agregar al menos un item con kombucha y cantidad");return}const St={fecha:O.fecha.trim(),cliente:O.cliente.trim(),items:Ct,total:parseFloat(O.total),estado:O.estado,fechaRegistro:u?u.fechaRegistro:sg(),fechaActualizacion:sg()};if(u)await kf(xa(Ee,"ventas",u.id),St),e(Wt=>Wt.map(ge=>ge.id===u.id?{...ge,...St}:ge)),h(null);else{const Wt=await Pc(en(Ee,"ventas"),St);e(ge=>[...ge,{id:Wt.id,...St}])}l(!1),At()}catch(Ct){console.error("Error saving sale:",Ct),R("Error al guardar la venta")}finally{C(!1)}},ht=rt=>{h(rt);let Ct=[];rt.items&&Array.isArray(rt.items)?Ct=rt.items:rt.kombucha&&(Ct=[{kombuchaId:rt.kombucha,cantidad:parseFloat(rt.cantidad)||1,precio:parseFloat(rt.precio)||0}]),Ct.length===0&&(Ct=[{kombuchaId:"",cantidad:1,precio:0}]);const St=Ct.reduce((Wt,ge)=>{const Ie=parseFloat(ge.cantidad)||0,ze=parseFloat(ge.precio)||0;return Wt+Ie*ze},0);F({fecha:rt.fecha||"",cliente:rt.cliente||"",items:Ct,total:St.toFixed(2),estado:rt.estado||"pendiente"}),l(!0)},Et=async rt=>{if(window.confirm("Ests seguro de que quieres eliminar esta venta?"))try{await Vg(xa(Ee,"ventas",rt)),e(Ct=>Ct.filter(St=>St.id!==rt))}catch(Ct){console.error("Error deleting sale:",Ct),R("Error al eliminar la venta")}},ft=()=>{l(!1),h(null),At()},At=()=>{F({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"})},Lt=rt=>{const Ct=V.find(St=>St.id===rt);return Ct?Ct.nombre:"Kombucha no encontrada"},Dt=rt=>{const Ct=q.find(St=>St.id===rt);return Ct?Ct.nombre:"Cliente no encontrado"},Bt=rt=>{const Ct=V.find(St=>St.id===rt);return Ct?Ct.precio:null},xt=rt=>{if(!rt.kombuchaId||!rt.precio)return!1;const Ct=Bt(rt.kombuchaId);return Ct&&parseFloat(rt.precio)!==parseFloat(Ct)},pe=t.filter(rt=>W?(rt.fecha?rt.fecha.slice(0,7):"")===W:!0),Tt=()=>{const rt=pe,Ct=rt.length,St=rt.reduce((Ie,ze)=>Ie+(parseFloat(ze.total)||0),0),Wt=rt.filter(Ie=>Ie.estado==="completada").length,ge=rt.filter(Ie=>Ie.estado==="pendiente").length;return{totalSales:Ct,totalRevenue:St,completedSales:Wt,pendingSales:ge}},lt=()=>{const rt=pe,Ct={};return rt.forEach(St=>{const Wt=St.cliente,ge=Dt(Wt);if(Ct[Wt]||(Ct[Wt]={clienteId:Wt,clienteName:ge,totalPurchases:0,totalAmount:0,kombuchaCounts:{},lastPurchase:null}),St.items&&Array.isArray(St.items))St.items.forEach(Ie=>{const ze=Lt(Ie.kombuchaId),mi=parseFloat(Ie.cantidad)||0;Ct[Wt].kombuchaCounts[ze]||(Ct[Wt].kombuchaCounts[ze]=0),Ct[Wt].kombuchaCounts[ze]+=mi,Ct[Wt].totalPurchases+=mi});else if(St.kombucha){const Ie=Lt(St.kombucha),ze=parseFloat(St.cantidad)||0;Ct[Wt].kombuchaCounts[Ie]||(Ct[Wt].kombuchaCounts[Ie]=0),Ct[Wt].kombuchaCounts[Ie]+=ze,Ct[Wt].totalPurchases+=ze}Ct[Wt].totalAmount+=parseFloat(St.total)||0,(!Ct[Wt].lastPurchase||St.fecha>Ct[Wt].lastPurchase)&&(Ct[Wt].lastPurchase=St.fecha)}),Object.values(Ct).sort((St,Wt)=>Wt.totalPurchases-St.totalPurchases)},Rt=Tt(),Ut=lt(),me=[...pe].sort((rt,Ct)=>{const St=rt[f],Wt=Ct[f];if(f==="precio"||f==="total"){const ge=parseFloat(St)||0,Ie=parseFloat(Wt)||0;return b==="asc"?ge-Ie:Ie-ge}return St&&Wt?b==="asc"?St.toString().localeCompare(Wt.toString()):Wt.toString().localeCompare(St.toString()):0});return i?y.jsx("div",{className:"ventas-page",children:y.jsx("div",{className:"loading",children:"Cargando ventas..."})}):y.jsxs("div",{className:"ventas-page",children:[y.jsxs("div",{className:"ventas-header",children:[y.jsx("h1",{children:"Ventas"}),y.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsx("label",{style:{color:"#2d3748",fontWeight:"600",fontSize:"0.9rem"},children:"Filtrar por mes:"}),y.jsx("input",{type:"month",value:W,onChange:rt=>Z(rt.target.value),style:{padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",backgroundColor:"white"}})]}),y.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[y.jsx("button",{className:`view-toggle-btn ${U==="sales"?"active":""}`,onClick:()=>I("sales"),children:"Ventas"}),y.jsx("button",{className:`view-toggle-btn ${U==="clientSummary"?"active":""}`,onClick:()=>I("clientSummary"),children:"Resumen Clientes"})]}),y.jsx("button",{className:"add-venta-btn",onClick:()=>l(!0),children:"+ Nueva Venta"})]})]}),k&&y.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:k}),y.jsxs("div",{className:"ventas-content",children:[y.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f7fafc",borderBottom:"1px solid #e2e8f0",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[y.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Total Ventas"}),y.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#2d3748"},children:Rt.totalSales})]}),y.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Ingresos Totales"}),y.jsxs("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#38a169"},children:["$",Rt.totalRevenue.toFixed(2)]})]}),y.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Completadas"}),y.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#38a169"},children:Rt.completedSales})]}),y.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Pendientes"}),y.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#d69e2e"},children:Rt.pendingSales})]})]}),U==="clientSummary"&&y.jsxs("div",{style:{padding:"1.5rem"},children:[y.jsxs("h2",{style:{margin:"0 0 1.5rem 0",color:"#2d3748",fontSize:"1.5rem",fontWeight:"600",textAlign:"center"},children:["Resumen de Compras por Cliente - ",z_(W)]}),Ut.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#718096",fontSize:"1.1rem"},children:["No hay compras registradas para ",z_(W)]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},children:Ut.map((rt,Ct)=>y.jsxs("div",{className:"client-summary-card",style:{backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"2px solid #f7fafc"},children:[y.jsxs("div",{children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#2d3748",fontSize:"1.2rem",fontWeight:"700"},children:rt.clienteName}),y.jsxs("p",{style:{margin:0,color:"#718096",fontSize:"0.9rem"},children:["ltima compra: ",rt.lastPurchase||"N/A"]})]}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#38a169",marginBottom:"0.25rem"},children:rt.totalPurchases}),y.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Kombuchas"})]})]}),y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#2d3748",marginBottom:"0.75rem"},children:["Total Gastado: $",rt.totalAmount.toFixed(2)]})}),y.jsxs("div",{children:[y.jsx("h4",{style:{margin:"0 0 0.75rem 0",color:"#4a5568",fontSize:"0.95rem",fontWeight:"600"},children:"Detalle por Tipo:"}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Object.entries(rt.kombuchaCounts).map(([St,Wt])=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:"#f7fafc",borderRadius:"6px",fontSize:"0.9rem"},children:[y.jsx("span",{style:{color:"#2d3748",fontWeight:"500"},children:St}),y.jsx("span",{style:{color:"#38a169",fontWeight:"600",fontSize:"1rem"},children:Wt})]},St))})]})]},rt.clienteId))})]}),U==="sales"&&y.jsx(y.Fragment,{children:me.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsxs("p",{children:["No hay ventas registradas para ",z_(W)]}),y.jsx("button",{className:"add-venta-btn",onClick:()=>l(!0),children:"+ Nueva Venta"})]}):y.jsx("div",{className:"ventas-table-container",children:y.jsxs("table",{className:"ventas-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsxs("th",{className:"sortable",onClick:()=>kt("fecha"),children:["Fecha ",pt("fecha")]}),y.jsxs("th",{className:"sortable",onClick:()=>kt("cliente"),children:["Cliente ",pt("cliente")]}),y.jsx("th",{children:"Items"}),y.jsxs("th",{className:"sortable",onClick:()=>kt("total"),children:["Total ",pt("total")]}),y.jsxs("th",{className:"sortable",onClick:()=>kt("estado"),children:["Estado ",pt("estado")]}),y.jsx("th",{children:"Acciones"})]})}),y.jsx("tbody",{children:me.map(rt=>y.jsxs("tr",{children:[y.jsx("td",{children:rt.fecha}),y.jsx("td",{children:Dt(rt.cliente)}),y.jsx("td",{children:rt.items&&Array.isArray(rt.items)?y.jsx("div",{style:{maxWidth:"300px"},children:rt.items.map((Ct,St)=>y.jsxs("div",{style:{marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"#f7fafc",borderRadius:"4px",fontSize:"0.85rem"},children:[y.jsx("strong",{children:Lt(Ct.kombuchaId)}),y.jsx("br",{}),"Cantidad: ",Ct.cantidad,"  $",(parseFloat(Ct.precio)||0).toFixed(2)]},St))}):y.jsx("div",{children:rt.kombucha&&y.jsxs("div",{style:{padding:"0.5rem",backgroundColor:"#f7fafc",borderRadius:"4px",fontSize:"0.85rem"},children:[y.jsx("strong",{children:Lt(rt.kombucha)}),y.jsx("br",{}),"Cantidad: ",rt.cantidad,"  $",(parseFloat(rt.precio)||0).toFixed(2)]})})}),y.jsxs("td",{className:"total-cell",children:["$",(parseFloat(rt.total)||0).toFixed(2)]}),y.jsx("td",{children:y.jsx("span",{className:`status-badge status-${rt.estado}`,children:rt.estado})}),y.jsx("td",{children:y.jsxs("div",{className:"actions",children:[y.jsx("button",{className:"edit-btn",onClick:()=>ht(rt),children:"Editar"}),y.jsx("button",{className:"delete-btn",onClick:()=>Et(rt.id),children:"Eliminar"})]})})]},rt.id))})]})})})]}),a&&y.jsx("div",{className:"form-overlay",children:y.jsxs("div",{className:"form-container",children:[y.jsx("h2",{children:u?"Editar Venta":"Nueva Venta"}),k&&y.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem"},children:k}),y.jsxs("form",{onSubmit:P,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"fecha",children:"Fecha *"}),y.jsx("input",{type:"date",id:"fecha",name:"fecha",value:O.fecha,onChange:K,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),y.jsxs("select",{id:"cliente",name:"cliente",value:O.cliente,onChange:K,required:!0,children:[y.jsx("option",{value:"",children:"Selecciona un cliente"}),q.map(rt=>y.jsx("option",{value:rt.id,children:rt.nombre},rt.id))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Productos de la Venta *"}),y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsx("button",{type:"button",onClick:_t,style:{background:"#4299e1",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.9rem"},children:"+ Agregar Producto"})}),O.items.map((rt,Ct)=>y.jsxs("div",{style:{border:"1px solid #667eea",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",backgroundColor:"rgb(102, 126, 234)",color:"white"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsxs("h4",{style:{color:"white",margin:0},children:["Producto ",Ct+1]}),O.items.length>1&&y.jsx("button",{type:"button",onClick:()=>Ot(Ct),style:{background:"#f56565",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"3px",cursor:"pointer",fontSize:"0.8rem"},children:"Eliminar"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Kombucha *"}),y.jsxs("select",{value:rt.kombuchaId,onChange:St=>nt(Ct,"kombuchaId",St.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0,children:[y.jsx("option",{value:"",children:"Selecciona una kombucha"}),V.map(St=>y.jsxs("option",{value:St.id,children:[St.nombre," - $",St.precio?.toFixed(2)||"0.00"]},St.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Cantidad *"}),y.jsx("input",{type:"number",value:rt.cantidad,onChange:St=>nt(Ct,"cantidad",St.target.value),min:"1",style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Precio *"}),y.jsx("input",{type:"number",step:"0.01",min:"0",value:rt.precio,onChange:St=>nt(Ct,"precio",St.target.value),style:{width:"100%",padding:"0.5rem",border:xt(rt)?"2px solid #f56565":"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#4a5568"},placeholder:"0.00"}),y.jsx("small",{style:{color:"white",fontSize:"0.7rem"},children:rt.kombuchaId&&Bt(rt.kombuchaId)?y.jsxs(y.Fragment,{children:["Precio original: $",Bt(rt.kombuchaId).toFixed(2),xt(rt)&&y.jsxs(y.Fragment,{children:[y.jsxs("span",{style:{color:"#f56565",fontWeight:"bold"},children:[" "," Modificado"]}),y.jsx("button",{type:"button",onClick:()=>nt(Ct,"precio",Bt(rt.kombuchaId)),style:{background:"none",border:"none",color:"#4299e1",textDecoration:"underline",cursor:"pointer",fontSize:"0.7rem",marginLeft:"0.5rem"},children:"Restaurar"})]})]}):"Precio sugerido del producto (puede ser modificado)"})]})]}),y.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"5px",textAlign:"center"},children:y.jsxs("strong",{style:{color:"white"},children:["Subtotal: $",((parseFloat(rt.cantidad)||0)*(parseFloat(rt.precio)||0)).toFixed(2)]})})]},Ct))]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"total",children:"Total *"}),y.jsx("input",{type:"number",id:"total",name:"total",value:O.total,readOnly:!0,style:{backgroundColor:"#f7fafc",color:"#4a5568",cursor:"not-allowed",fontSize:"1.2rem",fontWeight:"bold"}}),y.jsx("small",{style:{color:"white",fontSize:"0.8rem"},children:"Calculado automticamente (suma de todos los productos)"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"estado",children:"Estado *"}),y.jsxs("select",{id:"estado",name:"estado",value:O.estado,onChange:K,required:!0,children:[y.jsx("option",{value:"pendiente",children:"Pendiente"}),y.jsx("option",{value:"completada",children:"Completada"})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"cancel-btn",onClick:ft,disabled:T,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"save-btn",disabled:T,children:T?"Guardando...":u?"Actualizar":"Guardar"})]})]})]})})]})},vH=()=>{const n=Sa(),[t,e]=D.useState([]),[i,s]=D.useState([]),[a,l]=D.useState(!0),[u,h]=D.useState(!1),[f,g]=D.useState(null),[b,E]=D.useState("nombre"),[T,C]=D.useState("asc"),[k,R]=D.useState(!1),[V,$]=D.useState(""),[q,Q]=D.useState([]),[W,Z]=D.useState(""),[U,I]=D.useState(!1),[O,F]=D.useState(null),[H,B]=D.useState({nombre:"",notas:"",clientes:[]}),z=async()=>{try{l(!0);const lt=(await Pn(en(Ee,"rutas"))).docs.map(Rt=>({id:Rt.id,...Rt.data()}));e(lt)}catch(Tt){console.error("Error fetching routes:",Tt),$("Error al cargar las rutas")}finally{l(!1)}},kt=async()=>{try{const lt=(await Pn(en(Ee,"clientes"))).docs.map(Rt=>({id:Rt.id,...Rt.data()}));s(lt)}catch(Tt){console.error("Error fetching clients:",Tt)}};D.useEffect(()=>{z(),kt()},[]),D.useEffect(()=>{n.state?.selectedCliente&&n.state?.showForm&&(Q([n.state.selectedCliente.id]),B(Tt=>({...Tt,nombre:`Ruta para ${n.state.selectedCliente.nombre}`})),h(!0))},[n.state]);const pt=Tt=>{E(Tt),C(T==="asc"?"desc":"asc")},K=Tt=>b===Tt?T==="asc"?"":"":"",nt=Tt=>{const{name:lt,value:Rt}=Tt.target;B(Ut=>({...Ut,[lt]:Rt}))},_t=Tt=>{Q(lt=>lt.includes(Tt)?lt.filter(Rt=>Rt!==Tt):[...lt,Tt])},Ot=i.filter(Tt=>Tt.nombre.toLowerCase().includes(W.toLowerCase())||Tt.direccion.toLowerCase().includes(W.toLowerCase())),P=async Tt=>{if(Tt.preventDefault(),!H.nombre.trim()){$("El nombre de la ruta es requerido");return}if(q.length===0){$("Debe seleccionar al menos un cliente");return}R(!0),$("");try{const lt={...H,clientes:q,fechaCreacion:ks()};f?await kf(xa(Ee,"rutas",f.id),lt):await Pc(en(Ee,"rutas"),lt),h(!1),g(null),Dt(),z()}catch(lt){console.error("Error saving route:",lt),$("Error al guardar la ruta")}finally{R(!1)}},ht=Tt=>{g(Tt),B({nombre:Tt.nombre,notas:Tt.notas||"",clientes:Tt.clientes||[]}),Q(Tt.clientes||[]),h(!0)},Et=async Tt=>{if(window.confirm("Est seguro de que desea eliminar esta ruta?"))try{await Vg(xa(Ee,"rutas",Tt)),z()}catch(lt){console.error("Error deleting route:",lt),$("Error al eliminar la ruta")}},ft=()=>{h(!1),g(null),Dt()},At=Tt=>{F(Tt),I(!0)},Lt=()=>{I(!1),F(null)},Dt=()=>{B({nombre:"",notas:"",clientes:[]}),Q([]),Z(""),$("")},Bt=Tt=>{const lt=i.find(Rt=>Rt.id===Tt);return lt?lt.nombre:"Cliente no encontrado"},xt=Tt=>{const lt=i.find(Rt=>Rt.id===Tt);return lt?lt.direccion:"Direccin no encontrada"},pe=[...t].sort((Tt,lt)=>{let Rt=Tt[b]||"",Ut=lt[b]||"";return typeof Rt=="string"&&(Rt=Rt.toLowerCase(),Ut=Ut.toLowerCase()),T==="asc"?Rt>Ut?1:-1:Rt<Ut?1:-1});return a?y.jsx("div",{className:"loading",children:"Cargando rutas..."}):y.jsxs("div",{className:"ruta-page",children:[y.jsxs("div",{className:"ruta-header",children:[y.jsx("h1",{children:"Gestin de Rutas de Entrega"}),y.jsx("button",{className:"add-ruta-btn",onClick:()=>h(!0),children:"Crear Nueva Ruta"})]}),V&&y.jsx("div",{className:"error-message",children:V}),u&&y.jsx("div",{className:"form-overlay",children:y.jsxs("div",{className:"form-container",children:[y.jsx("h2",{children:f?"Editar Ruta":"Crear Nueva Ruta"}),y.jsxs("form",{onSubmit:P,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nombre",children:"Nombre de la Ruta *"}),y.jsx("input",{type:"text",id:"nombre",name:"nombre",value:H.nombre,onChange:nt,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"notas",children:"Notas"}),y.jsx("textarea",{id:"notas",name:"notas",value:H.notas,onChange:nt,rows:"3"})]}),y.jsxs("div",{className:"clientes-selection",children:[y.jsx("h3",{children:"Seleccionar Clientes"}),y.jsx("div",{className:"search-container",children:y.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:W,onChange:Tt=>Z(Tt.target.value),className:"search-input"})}),y.jsx("div",{className:"clientes-list",children:Ot.map(Tt=>y.jsxs("div",{className:`cliente-item ${q.includes(Tt.id)?"selected":""}`,onClick:()=>_t(Tt.id),children:[y.jsx("input",{type:"checkbox",checked:q.includes(Tt.id),onChange:lt=>{lt.stopPropagation(),_t(Tt.id)},onClick:lt=>lt.stopPropagation()}),y.jsxs("div",{className:"cliente-info",children:[y.jsx("strong",{children:Tt.nombre}),y.jsx("span",{children:Tt.direccion})]})]},Tt.id))}),q.length>0&&y.jsxs("div",{className:"selected-clients",children:[y.jsxs("h4",{children:["Clientes Seleccionados (",q.length,")"]}),y.jsx("div",{className:"selected-list",children:q.map((Tt,lt)=>y.jsxs("div",{className:"ordered-client",children:[y.jsx("span",{className:"order-number",children:lt+1}),y.jsx("span",{children:Bt(Tt)}),y.jsx("span",{className:"address",children:xt(Tt)})]},Tt))})]}),q.length>0&&y.jsxs("div",{className:"map-section",children:[y.jsx("h4",{children:"Vista del Mapa"}),(()=>{const Tt=q.map(lt=>i.find(Ut=>Ut.id===lt)).filter(lt=>lt&&lt.direccionCoords);return Tt.length>0?y.jsx("div",{className:"map-container",children:y.jsx(Jv,{clientes:Tt})}):y.jsxs("div",{className:"no-coordinates-message",children:[y.jsx("p",{children:"Los clientes seleccionados no tienen coordenadas de ubicacin configuradas."}),y.jsx("p",{children:"Para ver la ubicacin en el mapa, asegrate de que los clientes tengan su direccin configurada correctamente."})]})})()]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"cancel-btn",onClick:ft,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"save-btn",disabled:k,children:k?"Guardando...":f?"Actualizar":"Crear"})]})]})]})}),U&&O&&y.jsx("div",{className:"form-overlay",children:y.jsxs("div",{className:"route-map-modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("h2",{children:["Mapa de la Ruta: ",O.nombre]}),y.jsx("button",{className:"close-btn",onClick:Lt,children:""})]}),y.jsx("div",{className:"map-view",children:(()=>{const Tt=O.clientes.map(lt=>i.find(Ut=>Ut.id===lt)).filter(lt=>lt&&lt.direccionCoords);return Tt.length>0?y.jsx("div",{className:"route-map-container",children:y.jsx(Jv,{clientes:Tt})}):y.jsxs("div",{className:"no-coordinates-message",children:[y.jsx("p",{children:"Esta ruta no tiene clientes con coordenadas de ubicacin configuradas."}),y.jsx("p",{children:"Para ver la ubicacin en el mapa, asegrate de que los clientes tengan su direccin configurada correctamente."})]})})()})]})}),y.jsxs("div",{className:"ruta-content",children:[y.jsx("div",{className:"table-container",children:y.jsxs("table",{className:"rutas-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsxs("th",{onClick:()=>pt("nombre"),children:["Nombre ",K("nombre")]}),y.jsx("th",{children:"Clientes"}),y.jsxs("th",{onClick:()=>pt("fechaCreacion"),children:["Fecha Creacin ",K("fechaCreacion")]}),y.jsx("th",{children:"Acciones"})]})}),y.jsx("tbody",{children:pe.map(Tt=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsxs("div",{className:"ruta-name",children:[y.jsx("strong",{children:Tt.nombre}),Tt.notas&&y.jsx("span",{className:"description",children:Tt.notas})]})}),y.jsxs("td",{children:[y.jsxs("div",{className:"clientes-count",children:[Tt.clientes?.length||0," clientes"]}),Tt.clientes&&Tt.clientes.length>0&&y.jsxs("div",{className:"route-preview",children:[Tt.clientes.slice(0,3).map((lt,Rt)=>y.jsxs("span",{className:"route-step",children:[Rt+1,". ",Bt(lt)]},lt)),Tt.clientes.length>3&&y.jsxs("span",{className:"more-clients",children:["+",Tt.clientes.length-3," ms"]})]})]}),y.jsx("td",{children:Tt.fechaCreacion}),y.jsx("td",{children:y.jsxs("div",{className:"actions",children:[y.jsx("button",{className:"view-btn",onClick:()=>At(Tt),children:"Ver Mapa"}),y.jsx("button",{className:"edit-btn",onClick:()=>ht(Tt),children:"Editar"}),y.jsx("button",{className:"delete-btn",onClick:()=>Et(Tt.id),children:"Eliminar"})]})})]},Tt.id))})]})}),pe.length===0&&y.jsx("div",{className:"empty-state",children:y.jsx("p",{children:"No hay rutas creadas. Crea tu primera ruta para comenzar."})})]})]})},bH=({notifications:n,sales:t,onDateClick:e,onReminderClick:i,onSaleClick:s,onDateClickForSale:a})=>{const[l,u]=D.useState(new Date),[h,f]=D.useState([]),[g,b]=D.useState({}),[E,T]=D.useState({});D.useEffect(()=>{const I=l.getFullYear(),O=l.getMonth(),F=new Date(I,O,1),H=new Date(I,O+1,0),B=new Date(F);B.setDate(B.getDate()-F.getDay());const z=[],kt=new Date(B);for(;kt<=H||z.length<42;)z.push(new Date(kt)),kt.setDate(kt.getDate()+1);f(z)},[l]),D.useEffect(()=>{const I={};n.filter(F=>F.status==="pending").forEach(F=>{const H=F.reminderDate;I[H]||(I[H]=[]),I[H].push(F)}),b(I)},[n]),D.useEffect(()=>{const I={};t&&t.length>0&&t.forEach(O=>{const F=O.fecha?O.fecha.split("T")[0]:null;F&&(I[F]||(I[F]=[]),I[F].push(O))}),T(I)},[t]);const C=I=>{u(O=>{const F=new Date(O);return F.setMonth(F.getMonth()+I),F})},k=I=>I.toLocaleDateString("es-ES",{month:"long",year:"numeric",timeZone:"America/Mexico_City"}),R=I=>{const O=new Date;return I.toDateString()===O.toDateString()},V=I=>I.getMonth()===l.getMonth(),$=I=>I.toISOString().split("T")[0],q=I=>{switch(Ip(I)){case"high":return"#e74c3c";case"medium":return"#f39c12";case"low":return"#27ae60";default:return"#95a5a6"}},Q=I=>{const O=$(I),F=g[O]||[];e(I,F)},W=(I,O)=>{O.stopPropagation(),a&&a(I)},Z=I=>{i(I)},U=I=>{s(I)};return y.jsxs("div",{className:"reminder-calendar",children:[y.jsxs("div",{className:"calendar-header",children:[y.jsx("button",{className:"calendar-nav-btn",onClick:()=>C(-1),children:""}),y.jsx("h3",{className:"calendar-title",children:k(l)}),y.jsx("button",{className:"calendar-nav-btn",onClick:()=>C(1),children:""})]}),y.jsxs("div",{className:"calendar-grid",children:[["Dom","Lun","Mar","Mi","Jue","Vie","Sb"].map(I=>y.jsx("div",{className:"calendar-day-header",children:I},I)),h.map((I,O)=>{const F=$(I),H=g[F]||[],B=E[F]||[],z=R(I),kt=V(I);return y.jsxs("div",{className:`calendar-day ${z?"today":""} ${kt?"":"other-month"}`,onClick:()=>Q(I),children:[y.jsx("div",{className:"day-number",children:I.getDate()}),y.jsx("div",{className:"new-sale-button",children:y.jsx("button",{className:"new-sale-btn",onClick:pt=>W(I,pt),title:"Registrar nueva venta",children:"+"})}),H.length>0&&y.jsxs("div",{className:"reminders-indicator",children:[H.map((pt,K)=>y.jsxs("div",{className:"reminder-item",children:[y.jsx("div",{className:"reminder-dot",style:{backgroundColor:q(pt)},onClick:nt=>{nt.stopPropagation(),Z(pt)},title:`${pt.customerName} - ${pt.isDue?`${pt.daysOverdue} das vencido`:`${pt.daysUntilDue} das restantes`}`}),y.jsx("span",{className:"customer-name-tooltip",onClick:nt=>{nt.stopPropagation(),Z(pt)},children:pt.customerName})]},pt.notificationId)),H.length>3&&y.jsxs("div",{className:"more-reminders",children:["+",H.length-3]})]}),B.length>0&&y.jsxs("div",{className:"sales-indicator",children:[B.map((pt,K)=>y.jsxs("div",{className:"sale-item",children:[y.jsx("div",{className:"sale-dot",style:{backgroundColor:(()=>{const nt=pt.estado==="completada"||pt.estado==="completed"||pt.estado==="Completado";return console.log(`Sale ${pt.id} estado: "${pt.estado}", isCompleted: ${nt}`),nt?"#007bff":"#6f42c1"})()},onClick:nt=>{nt.stopPropagation(),U(pt)},title:`Venta ${pt.id} - ${pt.estado||"pendiente"} - $${parseFloat(pt.total||0).toFixed(2)}`}),y.jsxs("span",{className:"sale-info-tooltip",children:["Venta $",parseFloat(pt.total||0).toFixed(2)]})]},pt.id)),B.length>3&&y.jsxs("div",{className:"more-sales",children:["+",B.length-3]})]})]},O)})]}),y.jsxs("div",{className:"calendar-legend",children:[y.jsxs("div",{className:"legend-item",children:[y.jsx("div",{className:"legend-dot high-priority"}),y.jsx("span",{children:"Alta prioridad"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("div",{className:"legend-dot medium-priority"}),y.jsx("span",{children:"Media prioridad"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("div",{className:"legend-dot low-priority"}),y.jsx("span",{children:"Baja prioridad"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("div",{className:"legend-dot completed-sale"}),y.jsx("span",{children:"Venta completada"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("div",{className:"legend-dot pending-sale"}),y.jsx("span",{children:"Venta pendiente"})]})]})]})},EH=()=>{const[n,t]=D.useState([]),[e,i]=D.useState(!0),[s,a]=D.useState("all"),[l,u]=D.useState({}),[h,f]=D.useState(null),[g,b]=D.useState(!1),[E,T]=D.useState(""),[C,k]=D.useState(!0),[R,V]=D.useState(null),[$,q]=D.useState([]),[Q,W]=D.useState([]),[Z,U]=D.useState([]),[I,O]=D.useState([]),[F,H]=D.useState(!1),[B,z]=D.useState(null),[kt,pt]=D.useState(!1),[K,nt]=D.useState([]),[_t,Ot]=D.useState(!1),[P,ht]=D.useState({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),Et=async()=>{try{i(!0);const[dt,Vt,$t,De]=await Promise.all([Pn(en(Ee,"ventas")),Pn(en(Ee,"clientes")),Pn(en(Ee,"kombuchas")),Pn(en(Ee,"notifications"))]),Ve=dt.docs.map(nn=>({id:nn.id,...nn.data()})),Kn=Vt.docs.map(nn=>({id:nn.id,...nn.data()})),bn=$t.docs.map(nn=>({id:nn.id,...nn.data()})),fn={};De.docs.forEach(nn=>{const fr=nn.data();fn[fr.notificationId]=fr.status});const Yi=n0(Ve,Kn).map(nn=>({...nn,status:fn[nn.notificationId]||"pending"}));t(Yi),u(rg(Yi)),U(Ve),O(Kn),nt(bn)}catch(dt){console.error("Error fetching notifications:",dt)}finally{i(!1)}};D.useEffect(()=>{Et()},[]),D.useEffect(()=>{const dt=Vt=>{Vt.key==="Escape"&&(g&&(b(!1),f(null),T("")),F&&(H(!1),z(null)),kt&&ge())};return(g||F||kt)&&document.addEventListener("keydown",dt),()=>{document.removeEventListener("keydown",dt)}},[g,F,kt]);const ft=async(dt,Vt,$t="")=>{try{const De={notificationId:dt,status:Vt,notes:$t,updatedAt:new Date().toISOString(),updatedBy:"user"},Kn=(await Pn(en(Ee,"notifications"))).docs.find(bn=>bn.data().notificationId===dt);Kn?await kf(xa(Ee,"notifications",Kn.id),De):await Pc(en(Ee,"notifications"),De),t(bn=>bn.map(fn=>fn.notificationId===dt?{...fn,status:Vt,notes:$t}:fn)),u(rg(n))}catch(De){console.error("Error saving notification status:",De)}},At=dt=>{f(dt),T(""),b(!0)},Lt=async()=>{h&&(await ft(h.notificationId,"contacted",E),b(!1),f(null),T(""))},Dt=async dt=>{await ft(dt,"dismissed")},Bt=async dt=>{await ft(dt,"pending")},xt=(dt,Vt)=>{V(dt),q(Vt)},pe=dt=>{f(dt),T(""),b(!0)},Tt=dt=>{z(dt),H(!0)},lt=dt=>{const Vt=I.find($t=>$t.id===dt);return Vt?Vt.nombre:"Cliente no encontrado"},Rt=dt=>{const{name:Vt,value:$t}=dt.target;ht(De=>({...De,[Vt]:$t}))},Ut=(dt,Vt,$t)=>{ht(De=>{const Ve=[...De.items];if(Ve[dt]={...Ve[dt],[Vt]:$t},Vt==="kombuchaId"&&$t){const bn=K.find(fn=>fn.id===$t);bn&&bn.precio&&(Ve[dt].precio=bn.precio.toString())}const Kn=Ve.reduce((bn,fn)=>{const js=(parseFloat(fn.cantidad)||0)*(parseFloat(fn.precio)||0);return bn+js},0);return{...De,items:Ve,total:Kn.toFixed(2)}})},me=()=>{ht(dt=>({...dt,items:[...dt.items,{kombuchaId:"",cantidad:1,precio:""}]}))},rt=dt=>{ht(Vt=>({...Vt,items:Vt.items.filter(($t,De)=>De!==dt)}))},Ct=dt=>{const Vt=K.find($t=>$t.id===dt);return Vt?Vt.precio:null},St=dt=>{if(!dt.kombuchaId)return!1;const Vt=Ct(dt.kombuchaId);return Vt&&parseFloat(dt.precio)!==parseFloat(Vt)},Wt=async dt=>{dt.preventDefault(),Ot(!0);try{const Vt={...P,fecha:P.fecha,total:parseFloat(P.total),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Pc(en(Ee,"ventas"),Vt),ht({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),pt(!1),await Et()}catch(Vt){console.error("Error creating sale:",Vt)}finally{Ot(!1)}},ge=()=>{ht({fecha:ks(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),pt(!1)},Ie=dt=>{V(dt);const Vt=dt.toISOString().split("T")[0],$t=n.filter(De=>De.status==="pending"&&De.reminderDate===Vt);q($t),ht(De=>({...De,fecha:Vt})),pt(!0)},ze=()=>{switch(s){case"pending":return n.filter(dt=>dt.status==="pending");case"overdue":return n.filter(dt=>dt.status==="pending"&&dt.isDue);case"upcoming":return n.filter(dt=>dt.status==="pending"&&!dt.isDue);case"contacted":return n.filter(dt=>dt.status==="contacted");case"dismissed":return n.filter(dt=>dt.status==="dismissed");default:return n}},mi=dt=>`priority-${Ip(dt)}`,Ps=dt=>{switch(dt){case"pending":return"";case"contacted":return"";case"dismissed":return"";default:return""}};if(e)return y.jsx("div",{className:"recordatorios-page",children:y.jsx("div",{className:"loading",children:"Cargando recordatorios..."})});const zi=ze();return y.jsxs("div",{className:"recordatorios-page",children:[y.jsxs("div",{className:"recordatorios-header",children:[y.jsx("h1",{children:"Recordatorios de Clientes"}),y.jsxs("div",{className:"stats-summary",children:[y.jsxs("div",{className:"stat-item",children:[y.jsx("span",{className:"stat-number",children:l.pending}),y.jsx("span",{className:"stat-label",children:"Pendientes"})]}),y.jsxs("div",{className:"stat-item overdue",children:[y.jsx("span",{className:"stat-number",children:l.overdue}),y.jsx("span",{className:"stat-label",children:"Vencidos"})]}),y.jsxs("div",{className:"stat-item upcoming",children:[y.jsx("span",{className:"stat-number",children:l.upcoming}),y.jsx("span",{className:"stat-label",children:"Prximos"})]})]})]}),y.jsxs("div",{className:"view-controls",children:[y.jsxs("div",{className:"view-toggle",children:[y.jsx("button",{className:`view-btn ${C?"active":""}`,onClick:()=>k(!0),children:" Vista Calendario"}),y.jsx("button",{className:`view-btn ${C?"":"active"}`,onClick:()=>k(!1),children:" Lista recordatorios"})]}),R&&y.jsxs("div",{className:"selected-date-info",children:[y.jsxs("span",{children:[ha(R.toISOString().split("T")[0])," - Fecha seleccionada"]}),y.jsx("button",{className:"clear-date-btn",onClick:()=>{V(null),q([])},children:" Limpiar"})]})]}),C&&y.jsx(bH,{notifications:n,sales:Z,onDateClick:xt,onReminderClick:pe,onSaleClick:Tt,onDateClickForSale:Ie}),y.jsxs("div",{className:"filter-controls",children:[y.jsxs("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>a("all"),children:["Todos (",l.total,")"]}),y.jsxs("button",{className:`filter-btn ${s==="pending"?"active":""}`,onClick:()=>a("pending"),children:["Pendientes (",l.pending,")"]}),y.jsxs("button",{className:`filter-btn ${s==="overdue"?"active":""}`,onClick:()=>a("overdue"),children:["Vencidos (",l.overdue,")"]}),y.jsxs("button",{className:`filter-btn ${s==="upcoming"?"active":""}`,onClick:()=>a("upcoming"),children:["Prximos (",l.upcoming,")"]}),y.jsxs("button",{className:`filter-btn ${s==="contacted"?"active":""}`,onClick:()=>a("contacted"),children:["Contactados (",l.contacted,")"]}),y.jsxs("button",{className:`filter-btn ${s==="dismissed"?"active":""}`,onClick:()=>a("dismissed"),children:["Descartados (",l.dismissed,")"]})]}),y.jsx("div",{className:"notifications-content",children:zi.length===0?y.jsx("div",{className:"empty-state",children:y.jsx("p",{children:"No hay recordatorios para mostrar"})}):y.jsx("div",{className:"notifications-grid",children:zi.map(dt=>y.jsxs("div",{className:`notification-card ${mi(dt)} ${dt.status}`,children:[y.jsxs("div",{className:"notification-header",children:[y.jsxs("div",{className:"customer-info",children:[y.jsx("h3",{children:dt.customerName}),y.jsxs("div",{className:"status-badge",children:[Ps(dt.status),dt.status==="pending"&&dt.isDue?"Vencido":dt.status==="pending"?"Pendiente":dt.status==="contacted"?"Contactado":"Descartado"]})]}),y.jsx("div",{className:"priority-indicator",children:Ip(dt)==="high"?"":Ip(dt)==="medium"?"":""})]}),y.jsxs("div",{className:"notification-details",children:[y.jsxs("div",{className:"detail-row",children:[y.jsx("span",{className:"label",children:"ltima compra:"}),y.jsx("span",{className:"value",children:ha(dt.lastSaleDate)})]}),y.jsxs("div",{className:"detail-row",children:[y.jsx("span",{className:"label",children:"Kombuchas:"}),y.jsx("span",{className:"value text-center",children:dt.totalKombuchas})]}),y.jsxs("div",{className:"detail-row",children:[y.jsx("span",{className:"label",children:"Recordatorio:"}),y.jsx("span",{className:"value",children:ha(dt.reminderDate)})]}),dt.isDue&&y.jsxs("div",{className:"detail-row overdue",children:[y.jsx("span",{className:"label",children:"Das de retraso:"}),y.jsx("span",{className:"value",children:dt.daysOverdue})]}),!dt.isDue&&y.jsxs("div",{className:"detail-row upcoming",children:[y.jsx("span",{className:"label",children:"Das restantes:"}),y.jsx("span",{className:"value",children:dt.daysUntilDue})]})]}),y.jsx("div",{className:"notification-message",children:$R(dt)}),dt.notes&&y.jsxs("div",{className:"notification-notes",children:[y.jsx("strong",{children:"Notas:"})," ",dt.notes]}),y.jsxs("div",{className:"notification-actions",children:[dt.status==="pending"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"action-btn contact-btn",onClick:()=>At(dt),children:" Contactar"}),y.jsx("button",{className:"action-btn dismiss-btn",onClick:()=>Dt(dt.notificationId),children:" Descartar"})]}),dt.status==="contacted"&&y.jsx("button",{className:"action-btn reset-btn",onClick:()=>Bt(dt.notificationId),children:" Reactivar"}),dt.status==="dismissed"&&y.jsx("button",{className:"action-btn reset-btn",onClick:()=>Bt(dt.notificationId),children:" Reactivar"})]})]},dt.notificationId))})}),g&&h&&y.jsx("div",{className:"modal-overlay",children:y.jsxs("div",{className:"modal-content",children:[y.jsx("h2",{children:"Contactar Cliente"}),y.jsxs("div",{className:"customer-summary",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Cliente:"})," ",h.customerName]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Telfono:"})," ",h.customerPhone||"No disponible"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"ltima compra:"})," ",ha(h.lastSaleDate)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Kombuchas compradas:"})," ",h.totalKombuchas]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"contactNotes",children:"Notas del contacto:"}),y.jsx("textarea",{id:"contactNotes",value:E,onChange:dt=>T(dt.target.value),placeholder:"Describe el resultado del contacto...",rows:"4"})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{className:"cancel-btn",onClick:()=>b(!1),children:"Cancelar"}),y.jsx("button",{className:"submit-btn",onClick:Lt,children:"Marcar como Contactado"})]})]})}),F&&B&&y.jsx("div",{className:"modal-overlay",children:y.jsxs("div",{className:"modal-content",children:[y.jsx("h2",{children:"Detalles de Venta"}),y.jsxs("div",{className:"sale-summary",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"ID de Venta:"})," ",B.id]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Fecha:"})," ",ha(B.fecha)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Total:"})," $",parseFloat(B.total||0).toFixed(2)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Estado:"})," ",B.estado||"Pendiente"]}),B.cliente&&y.jsxs("p",{children:[y.jsx("strong",{children:"Cliente:"})," ",lt(B.cliente)]})]}),B.items&&B.items.length>0&&y.jsxs("div",{className:"sale-items",children:[y.jsx("h3",{children:"Productos Vendidos"}),y.jsx("div",{className:"items-list",children:B.items.map((dt,Vt)=>y.jsxs("div",{className:"item-row",children:[y.jsxs("span",{className:"item-name",children:["Producto ",Vt+1]}),y.jsxs("span",{className:"item-quantity",children:["Cantidad: ",dt.cantidad]}),y.jsxs("span",{className:"item-price",children:["Precio: $",parseFloat(dt.precio||0).toFixed(2)]})]},Vt))})]}),y.jsx("div",{className:"modal-actions",children:y.jsx("button",{className:"cancel-btn",onClick:()=>H(!1),children:"Cerrar"})})]})}),kt&&y.jsx("div",{className:"modal-overlay",children:y.jsxs("div",{className:"modal-content sale-form-modal",children:[y.jsxs("h2",{children:["Nueva Venta - ",ha(P.fecha)]}),y.jsxs("form",{onSubmit:Wt,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"fecha",children:"Fecha *"}),y.jsx("input",{type:"date",id:"fecha",name:"fecha",value:P.fecha,onChange:Rt,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),y.jsxs("select",{id:"cliente",name:"cliente",value:P.cliente,onChange:Rt,required:!0,children:[y.jsx("option",{value:"",children:"Selecciona un cliente"}),I.map(dt=>y.jsx("option",{value:dt.id,children:dt.nombre},dt.id))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Productos de la Venta *"}),y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsx("button",{type:"button",onClick:me,style:{background:"#4299e1",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.9rem"},children:"+ Agregar Producto"})}),P.items.map((dt,Vt)=>y.jsxs("div",{style:{border:"1px solid #667eea",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",backgroundColor:"rgb(102, 126, 234)",color:"white"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsxs("h4",{style:{color:"white",margin:0},children:["Producto ",Vt+1]}),P.items.length>1&&y.jsx("button",{type:"button",onClick:()=>rt(Vt),style:{background:"#f56565",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"3px",cursor:"pointer",fontSize:"0.8rem"},children:"Eliminar"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Kombucha *"}),y.jsxs("select",{value:dt.kombuchaId,onChange:$t=>Ut(Vt,"kombuchaId",$t.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0,children:[y.jsx("option",{value:"",children:"Selecciona una kombucha"}),K.map($t=>y.jsxs("option",{value:$t.id,children:[$t.nombre," - $",$t.precio?.toFixed(2)||"0.00"]},$t.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Cantidad *"}),y.jsx("input",{type:"number",value:dt.cantidad,onChange:$t=>Ut(Vt,"cantidad",$t.target.value),min:"1",style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Precio *"}),y.jsx("input",{type:"number",step:"0.01",min:"0",value:dt.precio,onChange:$t=>Ut(Vt,"precio",$t.target.value),style:{width:"100%",padding:"0.5rem",border:St(dt)?"2px solid #f56565":"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#4a5568"},placeholder:"0.00"}),y.jsx("small",{style:{color:"white",fontSize:"0.7rem"},children:dt.kombuchaId&&Ct(dt.kombuchaId)?y.jsxs(y.Fragment,{children:["Precio original: $",Ct(dt.kombuchaId).toFixed(2),St(dt)&&y.jsxs(y.Fragment,{children:[y.jsxs("span",{style:{color:"#f56565",fontWeight:"bold"},children:[" "," Modificado"]}),y.jsx("button",{type:"button",onClick:()=>Ut(Vt,"precio",Ct(dt.kombuchaId)),style:{background:"none",border:"none",color:"#4299e1",textDecoration:"underline",cursor:"pointer",fontSize:"0.7rem",marginLeft:"0.5rem"},children:"Restaurar"})]})]}):"Precio sugerido del producto (puede ser modificado)"})]})]}),y.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"5px",textAlign:"center"},children:y.jsxs("strong",{style:{color:"white"},children:["Subtotal: $",((parseFloat(dt.cantidad)||0)*(parseFloat(dt.precio)||0)).toFixed(2)]})})]},Vt))]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"total",children:"Total *"}),y.jsx("input",{type:"number",id:"total",name:"total",value:P.total,readOnly:!0,style:{backgroundColor:"#f7fafc",color:"#4a5568",cursor:"not-allowed",fontSize:"1.2rem",fontWeight:"bold"}}),y.jsx("small",{style:{color:"#666",fontSize:"0.8rem"},children:"Calculado automticamente (suma de todos los productos)"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"estado",children:"Estado *"}),y.jsxs("select",{id:"estado",name:"estado",value:P.estado,onChange:Rt,required:!0,children:[y.jsx("option",{value:"pendiente",children:"Pendiente"}),y.jsx("option",{value:"completada",children:"Completada"})]})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{type:"button",className:"cancel-btn",onClick:ge,disabled:_t,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"save-btn",disabled:_t,children:_t?"Guardando...":"Guardar Venta"})]})]})]})})]})},xH=()=>{const[n,t]=D.useState(""),[e,i]=D.useState(""),[s,a]=D.useState(""),[l,u]=D.useState(!1),h=lh(),{user:f,loading:g}=I0();if(D.useEffect(()=>{!g&&f&&h("/KombuchaApp")},[f,g,h]),g)return y.jsx("div",{className:"login-container",children:y.jsx("div",{className:"login-card",children:y.jsxs("div",{className:"login-header",children:[y.jsx("h1",{children:"Kombucha App"}),y.jsx("p",{children:"Cargando..."})]})})});if(f)return null;const b=async E=>{E.preventDefault(),a(""),u(!0);try{await k4(ig,n,e),h("/KombuchaApp")}catch(T){switch(console.error("Login error:",T),T.code){case"auth/user-not-found":a("Usuario no encontrado. Contacte al administrador.");break;case"auth/wrong-password":a("Contrasea incorrecta.");break;case"auth/invalid-email":a("Email invlido.");break;case"auth/too-many-requests":a("Demasiados intentos fallidos. Intente ms tarde.");break;default:a("Error al iniciar sesin. Intente nuevamente.")}}finally{u(!1)}};return y.jsx("div",{className:"login-container",children:y.jsxs("div",{className:"login-card",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("h1",{children:"Kombucha App"}),y.jsx("p",{children:"Iniciar Sesin"})]}),y.jsxs("form",{onSubmit:b,className:"login-form",children:[s&&y.jsx("div",{className:"error-message",children:s}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email"}),y.jsx("input",{type:"email",id:"email",value:n,onChange:E=>t(E.target.value),required:!0,disabled:l,placeholder:"Ingrese su email"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Contrasea"}),y.jsx("input",{type:"password",id:"password",value:e,onChange:E=>i(E.target.value),required:!0,disabled:l,placeholder:"Ingrese su contrasea"})]}),y.jsx("button",{type:"submit",className:"login-button",disabled:l,children:l?"Iniciando sesin...":"Iniciar Sesin"})]}),y.jsxs("div",{className:"login-footer",children:[y.jsx("p",{children:"Esta es una aplicacin privada. Solo usuarios autorizados pueden acceder."}),y.jsx("p",{children:"Para solicitar acceso, contacte al administrador."})]})]})})},tb=D.forwardRef(({bsPrefix:n,bg:t="primary",pill:e=!1,text:i,className:s,as:a="span",...l},u)=>{const h=an(n,"badge");return y.jsx(a,{ref:u,...l,className:Fe(s,h,e&&"rounded-pill",i&&`text-${i}`,t&&`bg-${t}`)})});tb.displayName="Badge";const N0=D.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=an(t,"card-body"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));N0.displayName="CardBody";const bN=D.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=an(t,"card-footer"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));bN.displayName="CardFooter";const EN=D.forwardRef(({bsPrefix:n,className:t,as:e="div",...i},s)=>{const a=an(n,"card-header"),l=D.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return y.jsx(x0.Provider,{value:l,children:y.jsx(e,{ref:s,...i,className:Fe(t,a)})})});EN.displayName="CardHeader";const xN=D.forwardRef(({bsPrefix:n,className:t,variant:e,as:i="img",...s},a)=>{const l=an(n,"card-img");return y.jsx(i,{ref:a,className:Fe(e?`${l}-${e}`:l,t),...s})});xN.displayName="CardImg";const wN=D.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=an(t,"card-img-overlay"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));wN.displayName="CardImgOverlay";const TN=D.forwardRef(({className:n,bsPrefix:t,as:e="a",...i},s)=>(t=an(t,"card-link"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));TN.displayName="CardLink";const wH=R0("h6"),SN=D.forwardRef(({className:n,bsPrefix:t,as:e=wH,...i},s)=>(t=an(t,"card-subtitle"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));SN.displayName="CardSubtitle";const AN=D.forwardRef(({className:n,bsPrefix:t,as:e="p",...i},s)=>(t=an(t,"card-text"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));AN.displayName="CardText";const TH=R0("h5"),CN=D.forwardRef(({className:n,bsPrefix:t,as:e=TH,...i},s)=>(t=an(t,"card-title"),y.jsx(e,{ref:s,className:Fe(n,t),...i})));CN.displayName="CardTitle";const RN=D.forwardRef(({bsPrefix:n,className:t,bg:e,text:i,border:s,body:a=!1,children:l,as:u="div",...h},f)=>{const g=an(n,"card");return y.jsx(u,{ref:f,...h,className:Fe(t,g,e&&`bg-${e}`,i&&`text-${i}`,s&&`border-${s}`),children:a?y.jsx(N0,{children:l}):l})});RN.displayName="Card";const Pd=Object.assign(RN,{Img:xN,Title:CN,Subtitle:SN,Body:N0,Link:TN,Text:AN,Header:EN,Footer:bN,ImgOverlay:wN}),IN=D.forwardRef(({bsPrefix:n,className:t,striped:e,bordered:i,borderless:s,hover:a,size:l,variant:u,responsive:h,...f},g)=>{const b=an(n,"table"),E=Fe(t,b,u&&`${b}-${u}`,l&&`${b}-${l}`,e&&`${b}-${typeof e=="string"?`striped-${e}`:"striped"}`,i&&`${b}-bordered`,s&&`${b}-borderless`,a&&`${b}-hover`),T=y.jsx("table",{...f,className:E,ref:g});if(h){let C=`${b}-responsive`;return typeof h=="string"&&(C=`${C}-${h}`),y.jsx("div",{className:C,children:T})}return T});IN.displayName="Table";const SH=()=>{const[n,t]=D.useState([]),[e,i]=D.useState(!0),[s,a]=D.useState("");return D.useEffect(()=>{(async()=>{try{i(!0);const u=en(Ee,"users"),f=(await Pn(u)).docs.map(g=>({id:g.id,...g.data()}));t(f)}catch(u){console.error("Error fetching users:",u),a("Error al cargar usuarios")}finally{i(!1)}})()},[]),e?y.jsx("div",{className:"user-management-container",children:y.jsx(Pd,{children:y.jsx(Pd.Body,{children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"spinner-border",role:"status",children:y.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),y.jsx("p",{className:"mt-2",children:"Cargando usuarios..."})]})})})}):y.jsx("div",{className:"user-management-container",children:y.jsxs(Pd,{children:[y.jsxs(Pd.Header,{children:[y.jsx("h4",{children:"Gestin de Usuarios"}),y.jsx("p",{className:"text-muted mb-0",children:"Vista de usuarios registrados en la aplicacin"})]}),y.jsxs(Pd.Body,{children:[s&&y.jsx("div",{className:"alert alert-warning",role:"alert",children:s}),y.jsx("div",{className:"admin-notice",children:y.jsxs("div",{className:"alert alert-info",role:"alert",children:[y.jsx("strong",{children:"Nota para Administradores:"}),y.jsx("br",{}),"Para agregar, editar o eliminar usuarios, use el"," ",y.jsx("a",{href:"https://console.firebase.google.com/project/kombuchaapp/authentication/users",target:"_blank",rel:"noopener noreferrer",className:"alert-link",children:"Firebase Console"}),"."]})}),n.length>0?y.jsxs(IN,{responsive:!0,striped:!0,hover:!0,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"ID"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"Nombre"}),y.jsx("th",{children:"Rol"}),y.jsx("th",{children:"Estado"}),y.jsx("th",{children:"ltima Actividad"})]})}),y.jsx("tbody",{children:n.map(l=>y.jsxs("tr",{children:[y.jsx("td",{children:l.id}),y.jsx("td",{children:l.email}),y.jsx("td",{children:l.name||"N/A"}),y.jsx("td",{children:y.jsx(tb,{bg:l.role==="admin"?"danger":"primary",children:l.role||"user"})}),y.jsx("td",{children:y.jsx(tb,{bg:l.active?"success":"secondary",children:l.active?"Activo":"Inactivo"})}),y.jsx("td",{children:l.lastActivity?new Date(l.lastActivity.toDate()).toLocaleDateString("es-ES"):"N/A"})]},l.id))})]}):y.jsx("div",{className:"text-center py-4",children:y.jsxs("p",{className:"text-muted",children:["No hay usuarios registrados en Firestore.",y.jsx("br",{}),"Los usuarios de autenticacin se gestionan desde Firebase Console."]})})]})]})})},gl=({children:n})=>{const{user:t,loading:e}=I0();return e?y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",color:"#666"},children:"Cargando..."}):t?n:y.jsx(zA,{to:"/login",replace:!0})};function AH(){return y.jsxs(Lk,{children:[y.jsx(Nr,{path:"/login",element:y.jsx(xH,{})}),y.jsx(Nr,{path:"/",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(TB,{})]})})}),y.jsx(Nr,{path:"/clientes",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(pH,{})]})})}),y.jsx(Nr,{path:"/kombuchas",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(yH,{})]})})}),y.jsx(Nr,{path:"/ventas",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(_H,{})]})})}),y.jsx(Nr,{path:"/rutas",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(vH,{})]})})}),y.jsx(Nr,{path:"/mapa",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(gH,{})]})})}),y.jsx(Nr,{path:"/recordatorios",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(EH,{})]})})}),y.jsx(Nr,{path:"/usuarios",element:y.jsx(gl,{children:y.jsxs(y.Fragment,{children:[y.jsx(pl,{}),y.jsx(SH,{})]})})}),y.jsx(Nr,{path:"*",element:y.jsx(zA,{to:"/",replace:!0})})]})}function CH(){return y.jsx(cH,{children:y.jsx("div",{className:"App",children:y.jsx(aO,{basename:"/KombuchaApp",children:y.jsx(AH,{})})})})}qD.createRoot(document.getElementById("root")).render(y.jsx(lr.StrictMode,{children:y.jsx(CH,{})}));
