(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function fg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var p_={exports:{}},wd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function PD(){if(zT)return wd;zT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return wd.Fragment=t,wd.jsx=e,wd.jsxs=e,wd}var HT;function jD(){return HT||(HT=1,p_.exports=PD()),p_.exports}var _=jD(),g_={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function LD(){if($T)return ce;$T=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function R(P,ut,Tt){this.props=P,this.context=ut,this.refs=N,this.updater=Tt||w}R.prototype.isReactComponent={},R.prototype.setState=function(P,ut){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ut,"setState")},R.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function L(){}L.prototype=R.prototype;function $(P,ut,Tt){this.props=P,this.context=ut,this.refs=N,this.updater=Tt||w}var G=$.prototype=new L;G.constructor=$,C(G,R.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function B(P,ut,Tt,gt,xt,wt){return Tt=wt.ref,{$$typeof:n,type:P,key:ut,ref:Tt!==void 0?Tt:null,props:wt}}function D(P,ut){return B(P.type,ut,void 0,void 0,void 0,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function z(P){var ut={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Tt){return ut[Tt]})}var H=/\/+/g;function V(P,ut){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):ut.toString(36)}function U(){}function Rt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(U,U):(P.status="pending",P.then(function(ut){P.status==="pending"&&(P.status="fulfilled",P.value=ut)},function(ut){P.status==="pending"&&(P.status="rejected",P.reason=ut)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function vt(P,ut,Tt,gt,xt){var wt=typeof P;(wt==="undefined"||wt==="boolean")&&(P=null);var It=!1;if(P===null)It=!0;else switch(wt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(P.$$typeof){case n:case t:It=!0;break;case g:return It=P._init,vt(It(P._payload),ut,Tt,gt,xt)}}if(It)return xt=xt(P),It=gt===""?"."+V(P,0):gt,Q(xt)?(Tt="",It!=null&&(Tt=It.replace(H,"$&/")+"/"),vt(xt,ut,Tt,"",function(ht){return ht})):xt!=null&&(M(xt)&&(xt=D(xt,Tt+(xt.key==null||P&&P.key===xt.key?"":(""+xt.key).replace(H,"$&/")+"/")+It)),ut.push(xt)),1;It=0;var De=gt===""?".":gt+":";if(Q(P))for(var it=0;it<P.length;it++)gt=P[it],wt=De+V(gt,it),It+=vt(gt,ut,Tt,wt,xt);else if(it=E(P),typeof it=="function")for(P=it.call(P),it=0;!(gt=P.next()).done;)gt=gt.value,wt=De+V(gt,it++),It+=vt(gt,ut,Tt,wt,xt);else if(wt==="object"){if(typeof P.then=="function")return vt(Rt(P),ut,Tt,gt,xt);throw ut=String(P),Error("Objects are not valid as a React child (found: "+(ut==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ut)+"). If you meant to render a collection of children, use an array instead.")}return It}function W(P,ut,Tt){if(P==null)return P;var gt=[],xt=0;return vt(P,gt,"","",function(wt){return ut.call(Tt,wt,xt++)}),gt}function ot(P){if(P._status===-1){var ut=P._result;ut=ut(),ut.then(function(Tt){(P._status===0||P._status===-1)&&(P._status=1,P._result=Tt)},function(Tt){(P._status===0||P._status===-1)&&(P._status=2,P._result=Tt)}),P._status===-1&&(P._status=0,P._result=ut)}if(P._status===1)return P._result.default;throw P._result}var Et=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ut=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ut))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Lt(){}return ce.Children={map:W,forEach:function(P,ut,Tt){W(P,function(){ut.apply(this,arguments)},Tt)},count:function(P){var ut=0;return W(P,function(){ut++}),ut},toArray:function(P){return W(P,function(ut){return ut})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ce.Component=R,ce.Fragment=e,ce.Profiler=s,ce.PureComponent=$,ce.StrictMode=i,ce.Suspense=h,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ce.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Y.H.useMemoCache(P)}},ce.cache=function(P){return function(){return P.apply(null,arguments)}},ce.cloneElement=function(P,ut,Tt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var gt=C({},P.props),xt=P.key,wt=void 0;if(ut!=null)for(It in ut.ref!==void 0&&(wt=void 0),ut.key!==void 0&&(xt=""+ut.key),ut)!K.call(ut,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&ut.ref===void 0||(gt[It]=ut[It]);var It=arguments.length-2;if(It===1)gt.children=Tt;else if(1<It){for(var De=Array(It),it=0;it<It;it++)De[it]=arguments[it+2];gt.children=De}return B(P.type,xt,void 0,void 0,wt,gt)},ce.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},ce.createElement=function(P,ut,Tt){var gt,xt={},wt=null;if(ut!=null)for(gt in ut.key!==void 0&&(wt=""+ut.key),ut)K.call(ut,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(xt[gt]=ut[gt]);var It=arguments.length-2;if(It===1)xt.children=Tt;else if(1<It){for(var De=Array(It),it=0;it<It;it++)De[it]=arguments[it+2];xt.children=De}if(P&&P.defaultProps)for(gt in It=P.defaultProps,It)xt[gt]===void 0&&(xt[gt]=It[gt]);return B(P,wt,void 0,void 0,null,xt)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(P){return{$$typeof:u,render:P}},ce.isValidElement=M,ce.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:ot}},ce.memo=function(P,ut){return{$$typeof:f,type:P,compare:ut===void 0?null:ut}},ce.startTransition=function(P){var ut=Y.T,Tt={};Y.T=Tt;try{var gt=P(),xt=Y.S;xt!==null&&xt(Tt,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(Lt,Et)}catch(wt){Et(wt)}finally{Y.T=ut}},ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ce.use=function(P){return Y.H.use(P)},ce.useActionState=function(P,ut,Tt){return Y.H.useActionState(P,ut,Tt)},ce.useCallback=function(P,ut){return Y.H.useCallback(P,ut)},ce.useContext=function(P){return Y.H.useContext(P)},ce.useDebugValue=function(){},ce.useDeferredValue=function(P,ut){return Y.H.useDeferredValue(P,ut)},ce.useEffect=function(P,ut,Tt){var gt=Y.H;if(typeof Tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return gt.useEffect(P,ut)},ce.useId=function(){return Y.H.useId()},ce.useImperativeHandle=function(P,ut,Tt){return Y.H.useImperativeHandle(P,ut,Tt)},ce.useInsertionEffect=function(P,ut){return Y.H.useInsertionEffect(P,ut)},ce.useLayoutEffect=function(P,ut){return Y.H.useLayoutEffect(P,ut)},ce.useMemo=function(P,ut){return Y.H.useMemo(P,ut)},ce.useOptimistic=function(P,ut){return Y.H.useOptimistic(P,ut)},ce.useReducer=function(P,ut,Tt){return Y.H.useReducer(P,ut,Tt)},ce.useRef=function(P){return Y.H.useRef(P)},ce.useState=function(P){return Y.H.useState(P)},ce.useSyncExternalStore=function(P,ut,Tt){return Y.H.useSyncExternalStore(P,ut,Tt)},ce.useTransition=function(){return Y.H.useTransition()},ce.version="19.1.1",ce}var qT;function tb(){return qT||(qT=1,g_.exports=LD()),g_.exports}var k=tb();const xr=fg(k);var y_={exports:{}},Sd={},__={exports:{}},v_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function VD(){return GT||(GT=1,function(n){function t(W,ot){var Et=W.length;W.push(ot);t:for(;0<Et;){var Lt=Et-1>>>1,P=W[Lt];if(0<s(P,ot))W[Lt]=ot,W[Et]=P,Et=Lt;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ot=W[0],Et=W.pop();if(Et!==ot){W[0]=Et;t:for(var Lt=0,P=W.length,ut=P>>>1;Lt<ut;){var Tt=2*(Lt+1)-1,gt=W[Tt],xt=Tt+1,wt=W[xt];if(0>s(gt,Et))xt<P&&0>s(wt,gt)?(W[Lt]=wt,W[xt]=Et,Lt=xt):(W[Lt]=gt,W[Tt]=Et,Lt=Tt);else if(xt<P&&0>s(wt,Et))W[Lt]=wt,W[xt]=Et,Lt=xt;else break t}}return ot}function s(W,ot){var Et=W.sortIndex-ot.sortIndex;return Et!==0?Et:W.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,b=null,E=3,w=!1,C=!1,N=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Q(W){for(var ot=e(f);ot!==null;){if(ot.callback===null)i(f);else if(ot.startTime<=W)i(f),ot.sortIndex=ot.expirationTime,t(h,ot);else break;ot=e(f)}}function Y(W){if(N=!1,Q(W),!C)if(e(h)!==null)C=!0,K||(K=!0,V());else{var ot=e(f);ot!==null&&vt(Y,ot.startTime-W)}}var K=!1,B=-1,D=5,M=-1;function z(){return R?!0:!(n.unstable_now()-M<D)}function H(){if(R=!1,K){var W=n.unstable_now();M=W;var ot=!0;try{t:{C=!1,N&&(N=!1,$(B),B=-1),w=!0;var Et=E;try{e:{for(Q(W),b=e(h);b!==null&&!(b.expirationTime>W&&z());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,E=b.priorityLevel;var P=Lt(b.expirationTime<=W);if(W=n.unstable_now(),typeof P=="function"){b.callback=P,Q(W),ot=!0;break e}b===e(h)&&i(h),Q(W)}else i(h);b=e(h)}if(b!==null)ot=!0;else{var ut=e(f);ut!==null&&vt(Y,ut.startTime-W),ot=!1}}break t}finally{b=null,E=Et,w=!1}ot=void 0}}finally{ot?V():K=!1}}}var V;if(typeof G=="function")V=function(){G(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Rt=U.port2;U.port1.onmessage=H,V=function(){Rt.postMessage(null)}}else V=function(){L(H,0)};function vt(W,ot){B=L(function(){W(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var Et=E;E=ot;try{return W()}finally{E=Et}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(W,ot){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Et=E;E=W;try{return ot()}finally{E=Et}},n.unstable_scheduleCallback=function(W,ot,Et){var Lt=n.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?Lt+Et:Lt):Et=Lt,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Et+P,W={id:g++,callback:ot,priorityLevel:W,startTime:Et,expirationTime:P,sortIndex:-1},Et>Lt?(W.sortIndex=Et,t(f,W),e(h)===null&&W===e(f)&&(N?($(B),B=-1):N=!0,vt(Y,Et-Lt))):(W.sortIndex=P,t(h,W),C||w||(C=!0,K||(K=!0,V()))),W},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(W){var ot=E;return function(){var Et=E;E=ot;try{return W.apply(this,arguments)}finally{E=Et}}}}(v_)),v_}var KT;function UD(){return KT||(KT=1,__.exports=VD()),__.exports}var b_={exports:{}},xi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function FD(){if(WT)return xi;WT=1;var n=tb();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xi.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,g)},xi.flushSync=function(h){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=g,i.d.f()}},xi.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},xi.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},xi.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:w}):g==="script"&&i.d.X(h,{crossOrigin:b,integrity:E,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xi.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},xi.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=u(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xi.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},xi.requestFormReset=function(h){i.d.r(h)},xi.unstable_batchedUpdates=function(h,f){return h(f)},xi.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},xi.useFormStatus=function(){return l.H.useHostTransitionStatus()},xi.version="19.1.1",xi}var YT;function DA(){if(YT)return b_.exports;YT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),b_.exports=FD(),b_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function BD(){if(XT)return Sd;XT=1;var n=UD(),t=tb(),e=DA();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,d=o;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return u(p),r;if(v===d)return u(p),o;v=v.sibling}throw Error(i(188))}if(c.return!==d.return)c=p,d=v;else{for(var A=!1,O=p.child;O;){if(O===c){A=!0,c=p,d=v;break}if(O===d){A=!0,d=p,c=v;break}O=O.sibling}if(!A){for(O=v.child;O;){if(O===c){A=!0,c=v,d=p;break}if(O===d){A=!0,d=v,c=p;break}O=O.sibling}if(!A)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var U=Symbol.for("react.client.reference");function Rt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===U?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case R:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case K:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case G:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case Q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return o=r.displayName||null,o!==null?o:Rt(r.type)||"Memo";case D:o=r._payload,r=r._init;try{return Rt(r(o))}catch{}}return null}var vt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},Lt=[],P=-1;function ut(r){return{current:r}}function Tt(r){0>P||(r.current=Lt[P],Lt[P]=null,P--)}function gt(r,o){P++,Lt[P]=r.current,r.current=o}var xt=ut(null),wt=ut(null),It=ut(null),De=ut(null);function it(r,o){switch(gt(It,o),gt(wt,r),gt(xt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?gT(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=gT(o),r=yT(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Tt(xt),gt(xt,r)}function ht(){Tt(xt),Tt(wt),Tt(It)}function Pt(r){r.memoizedState!==null&&gt(De,r);var o=xt.current,c=yT(o,r.type);o!==c&&(gt(wt,r),gt(xt,c))}function te(r){wt.current===r&&(Tt(xt),Tt(wt)),De.current===r&&(Tt(De),vd._currentValue=Et)}var ft=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,Ct=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,Kt=n.unstable_requestPaint,se=n.unstable_now,sn=n.unstable_getCurrentPriorityLevel,ri=n.unstable_ImmediatePriority,Dr=n.unstable_UserBlockingPriority,sr=n.unstable_NormalPriority,ph=n.unstable_LowPriority,Ao=n.unstable_IdlePriority,kr=n.log,rs=n.unstable_setDisableYieldValue,Je=null,ke=null;function ki(r){if(typeof kr=="function"&&rs(r),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Je,r)}catch{}}var dn=Math.clz32?Math.clz32:As,rr=Math.log,Or=Math.LN2;function As(r){return r>>>=0,r===0?32:31-(rr(r)/Or|0)|0}var xa=256,ar=4194304;function as(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Co(r,o,c){var d=r.pendingLanes;if(d===0)return 0;var p=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var O=d&134217727;return O!==0?(d=O&~v,d!==0?p=as(d):(A&=O,A!==0?p=as(A):c||(c=O&~r,c!==0&&(p=as(c))))):(O=d&~v,O!==0?p=as(O):A!==0?p=as(A):c||(c=d&~r,c!==0&&(p=as(c)))),p===0?0:o!==0&&o!==p&&(o&v)===0&&(v=p&-p,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:p}function wa(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Hl(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var r=xa;return xa<<=1,(xa&4194048)===0&&(xa=256),r}function ql(){var r=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),r}function Cs(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Fi(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ro(r,o,c,d,p,v){var A=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var O=r.entanglements,q=r.expirationTimes,st=r.hiddenUpdates;for(c=A&~c;0<c;){var dt=31-dn(c),yt=1<<dt;O[dt]=0,q[dt]=-1;var rt=st[dt];if(rt!==null)for(st[dt]=null,dt=0;dt<rt.length;dt++){var at=rt[dt];at!==null&&(at.lane&=-536870913)}c&=~yt}d!==0&&os(r,d,0),v!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~o))}function os(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-dn(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function Gl(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var d=31-dn(c),p=1<<d;p&o|r[d]&o&&(r[d]|=o),c&=~p}}function Mr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Io(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pr(){var r=ot.p;return r!==0?r:(r=window.event,r===void 0?32:jT(r.type))}function or(r,o){var c=ot.p;try{return ot.p=r,o()}finally{ot.p=c}}var Me=Math.random().toString(36).slice(2),yn="__reactFiber$"+Me,fn="__reactProps$"+Me,Bi="__reactContainer$"+Me,Kl="__reactEvents$"+Me,gh="__reactListeners$"+Me,Rs="__reactHandles$"+Me,lr="__reactResources$"+Me,Is="__reactMarker$"+Me;function jr(r){delete r[yn],delete r[fn],delete r[Kl],delete r[gh],delete r[Rs]}function ls(r){var o=r[yn];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Bi]||c[yn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=ET(r);r!==null;){if(c=r[yn])return c;r=ET(r)}return o}r=c,c=r.parentNode}return null}function Ns(r){if(r=r[yn]||r[Bi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Ds(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function mn(r){var o=r[lr];return o||(o=r[lr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function de(r){r[Is]=!0}var Vn=new Set,Rn={};function Ke(r,o){zi(r,o),zi(r+"Capture",o)}function zi(r,o){for(Rn[r]=o,r=0;r<o.length;r++)Vn.add(o[r])}var cr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Hi={};function Wl(r){return ft.call(Hi,r)?!0:ft.call(ks,r)?!1:cr.test(r)?Hi[r]=!0:(ks[r]=!0,!1)}function Os(r,o,c){if(Wl(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function ai(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function In(r,o,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+d)}}var ur,No;function Ms(r){if(ur===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ur=o&&o[1]||"",No=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ur+r+No}var Sa=!1;function Aa(r,o){if(!r||Sa)return"";Sa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(at){var rt=at}Reflect.construct(r,[],yt)}else{try{yt.call()}catch(at){rt=at}r.call(yt.prototype)}}else{try{throw Error()}catch(at){rt=at}(yt=r())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(at){if(at&&rt&&typeof at.stack=="string")return[at.stack,rt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),A=v[0],O=v[1];if(A&&O){var q=A.split(`
`),st=O.split(`
`);for(p=d=0;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;for(;p<st.length&&!st[p].includes("DetermineComponentFrameRoot");)p++;if(d===q.length||p===st.length)for(d=q.length-1,p=st.length-1;1<=d&&0<=p&&q[d]!==st[p];)p--;for(;1<=d&&0<=p;d--,p--)if(q[d]!==st[p]){if(d!==1||p!==1)do if(d--,p--,0>p||q[d]!==st[p]){var dt=`
`+q[d].replace(" at new "," at ");return r.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",r.displayName)),dt}while(1<=d&&0<=p);break}}}finally{Sa=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ms(c):""}function Do(r){switch(r.tag){case 26:case 27:case 5:return Ms(r.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 15:return Aa(r.type,!1);case 11:return Aa(r.type.render,!1);case 1:return Aa(r.type,!0);case 31:return Ms("Activity");default:return""}}function Ca(r){try{var o="";do o+=Do(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Xn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ko(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qc(r){var o=ko(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return p.call(this)},set:function(A){d=""+A,v.call(this,A)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ra(r){r._valueTracker||(r._valueTracker=qc(r))}function Oo(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return r&&(d=ko(r)?r.checked?"true":"false":r.value),r=d,r!==c?(o.setValue(r),!0):!1}function Qn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oi=/[\n"\\]/g;function He(r){return r.replace(oi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xe(r,o,c,d,p,v,A,O){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Xn(o)):r.value!==""+Xn(o)&&(r.value=""+Xn(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?Ps(r,A,Xn(o)):c!=null?Ps(r,A,Xn(c)):d!=null&&r.removeAttribute("value"),p==null&&v!=null&&(r.defaultChecked=!!v),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+Xn(O):r.removeAttribute("name")}function hr(r,o,c,d,p,v,A,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+Xn(c):"",o=o!=null?""+Xn(o):c,O||o===r.value||(r.value=o),r.defaultValue=o}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=O?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Ps(r,o,c){o==="number"&&Qn(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Nn(r,o,c,d){if(r=r.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=o.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&d&&(r[c].defaultSelected=!0)}else{for(c=""+Xn(c),o=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}o!==null||r[p].disabled||(o=r[p])}o!==null&&(o.selected=!0)}}function pe(r,o,c){if(o!=null&&(o=""+Xn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Xn(c):""}function js(r,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(vt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Xn(o),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function Un(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(r,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,c):typeof c!="number"||c===0||dr.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Ls(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var p in o)d=o[p],o.hasOwnProperty(p)&&c[p]!==d&&Yl(r,p,d)}else for(var v in o)o.hasOwnProperty(v)&&Yl(r,v,o[v])}function Ia(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(r){return cs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Zn=null;function li(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Vs=null,Oi=null;function Na(r){var o=Ns(r);if(o&&(r=o.stateNode)){var c=r[fn]||null;t:switch(r=o.stateNode,o.type){case"input":if(Xe(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+He(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==r&&d.form===r.form){var p=d[fn]||null;if(!p)throw Error(i(90));Xe(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===r.form&&Oo(d)}break t;case"textarea":pe(r,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Nn(r,!!c.multiple,o,!1)}}}var yi=!1;function Xl(r,o,c){if(yi)return r(o,c);yi=!0;try{var d=r(o);return d}finally{if(yi=!1,(Vs!==null||Oi!==null)&&(xm(),Vs&&(o=Vs,r=Oi,Oi=Vs=null,Na(o),r)))for(o=0;o<r.length;o++)Na(r[o])}}function Lr(r,o){var c=r.stateNode;if(c===null)return null;var d=c[fn]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if($i)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Fn=!1}var us=null,Us=null,qi=null;function ka(){if(qi)return qi;var r,o=Us,c=o.length,d,p="value"in us?us.value:us.textContent,v=p.length;for(r=0;r<c&&o[r]===p[r];r++);var A=c-r;for(d=1;d<=A&&o[c-d]===p[v-d];d++);return qi=p.slice(r,1<d?1-d:void 0)}function Fs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Mi(){return!0}function Ql(){return!1}function _n(r){function o(c,d,p,v,A){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(c=r[O],this[O]=c?c(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Mi:Ql,this.isPropagationStopped=Ql,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),o}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=_n(xe),fr=g({},xe,{view:0,detail:0}),Zl=_n(fr),Bs,Ur,hs,Fr=g({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hs&&(hs&&r.type==="mousemove"?(Bs=r.screenX-hs.screenX,Ur=r.screenY-hs.screenY):Ur=Bs=0,hs=r),Bs)},movementY:function(r){return"movementY"in r?r.movementY:Ur}}),Bn=_n(Fr),Kc=g({},Fr,{dataTransfer:0}),Wc=_n(Kc),Br=g({},fr,{relatedTarget:0}),Oa=_n(Br),Po=g({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=_n(Po),jo=g({},xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pa=_n(jo),yh=g({},xe,{data:0}),Jl=_n(yh),zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=ja[r])?!!o[r]:!1}function La(){return ec}var Lo=g({},fr,{key:function(r){if(r.key){var o=zr[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Va=_n(Lo),nc=g({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=_n(nc),fs=g({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),Yc=_n(fs),ic=g({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xc=_n(ic),Qc=g({},Fr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Vo=_n(Qc),ci=g({},xe,{newState:0,oldState:0}),sc=_n(ci),rc=[9,13,27,32],zs=$i&&"CompositionEvent"in window,m=null;$i&&"documentMode"in document&&(m=document.documentMode);var T=$i&&"TextEvent"in window&&!m,S=$i&&(!zs||m&&8<m&&11>=m),F=" ",et=!1;function lt(r,o){switch(r){case"keyup":return rc.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ge=!1;function vn(r,o){switch(r){case"compositionend":return Nt(o);case"keypress":return o.which!==32?null:(et=!0,F);case"textInput":return r=o.data,r===F&&et?null:r;default:return null}}function ye(r,o){if(ge)return r==="compositionend"||!zs&&lt(r,o)?(r=ka(),qi=Us=us=null,ge=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Dn[r.type]:o==="textarea"}function En(r,o,c,d){Vs?Oi?Oi.push(d):Oi=[d]:Vs=d,o=Im(o,"onChange"),0<o.length&&(c=new Vr("onChange","change",null,c,d),r.push({event:c,listeners:o}))}var kn=null,ms=null;function Uo(r){hT(r,0)}function Zc(r){var o=Ds(r);if(Oo(o))return r}function jf(r,o){if(r==="change")return o}var _h=!1;if($i){var Fo;if($i){var vh="oninput"in document;if(!vh){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),vh=typeof Lf.oninput=="function"}Fo=vh}else Fo=!1;_h=Fo&&(!document.documentMode||9<document.documentMode)}function bh(){kn&&(kn.detachEvent("onpropertychange",Vf),ms=kn=null)}function Vf(r){if(r.propertyName==="value"&&Zc(ms)){var o=[];En(o,ms,r,li(r)),Xl(Uo,o)}}function sy(r,o,c){r==="focusin"?(bh(),kn=o,ms=c,kn.attachEvent("onpropertychange",Vf)):r==="focusout"&&bh()}function Uf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zc(ms)}function Ff(r,o){if(r==="click")return Zc(o)}function Bf(r,o){if(r==="input"||r==="change")return Zc(o)}function Jc(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var _i=typeof Object.is=="function"?Object.is:Jc;function Ua(r,o){if(_i(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!ft.call(o,p)||!_i(r[p],o[p]))return!1}return!0}function Pi(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zf(r,o){var c=Pi(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=o&&d>=o)return{node:c,offset:o-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Pi(c)}}function Hf(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Hf(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Eh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Qn(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Qn(r.document)}return o}function tu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var ry=$i&&"documentMode"in document&&11>=document.documentMode,Bo=null,Th=null,ac=null,xh=!1;function $f(r,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xh||Bo==null||Bo!==Qn(d)||(d=Bo,"selectionStart"in d&&tu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ac&&Ua(ac,d)||(ac=d,d=Im(Th,"onSelect"),0<d.length&&(o=new Vr("onSelect","select",null,o,c),r.push({event:o,listeners:d}),o.target=Bo)))}function Hr(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Fa={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},oc={},qf={};$i&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ba(r){if(oc[r])return oc[r];if(!Fa[r])return r;var o=Fa[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in qf)return oc[r]=o[c];return r}var $r=Ba("animationend"),Hs=Ba("animationiteration"),wh=Ba("animationstart"),ay=Ba("transitionrun"),Gf=Ba("transitionstart"),Kf=Ba("transitioncancel"),Sh=Ba("transitionend"),Ah=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function ps(r,o){Ah.set(r,o),Ke(o,[r])}var Wf=new WeakMap;function ji(r,o){if(typeof r=="object"&&r!==null){var c=Wf.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Ca(o)},Wf.set(r,o),o)}return{value:r,source:o,stack:Ca(o)}}var Li=[],zo=0,Rh=0;function eu(){for(var r=zo,o=Rh=zo=0;o<r;){var c=Li[o];Li[o++]=null;var d=Li[o];Li[o++]=null;var p=Li[o];Li[o++]=null;var v=Li[o];if(Li[o++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}v!==0&&Nh(c,p,v)}}function nu(r,o,c,d){Li[zo++]=r,Li[zo++]=o,Li[zo++]=c,Li[zo++]=d,Rh|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Ih(r,o,c,d){return nu(r,o,c,d),iu(r)}function vi(r,o){return nu(r,null,null,o),iu(r)}function Nh(r,o,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var p=!1,v=r.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(p=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,p&&o!==null&&(p=31-dn(c),r=v.hiddenUpdates,d=r[p],d===null?r[p]=[o]:d.push(o),o.lane=c|536870912),v):null}function iu(r){if(50<hd)throw hd=0,Uy=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ho={};function oy(r,o,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(r,o,c,d){return new oy(r,o,c,d)}function Dh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mr(r,o){var c=r.alternate;return c===null?(c=Vi(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Yf(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function su(r,o,c,d,p,v){var A=0;if(d=r,typeof r=="function")Dh(r)&&(A=1);else if(typeof r=="string")A=TD(r,c,xt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case M:return r=Vi(31,c,o,p),r.elementType=M,r.lanes=v,r;case C:return pr(c.children,p,v,o);case N:A=8,p|=24;break;case R:return r=Vi(12,c,o,p|2),r.elementType=R,r.lanes=v,r;case Y:return r=Vi(13,c,o,p),r.elementType=Y,r.lanes=v,r;case K:return r=Vi(19,c,o,p),r.elementType=K,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case G:A=10;break t;case $:A=9;break t;case Q:A=11;break t;case B:A=14;break t;case D:A=16,d=null;break t}A=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Vi(A,c,o,p),o.elementType=r,o.type=d,o.lanes=v,o}function pr(r,o,c,d){return r=Vi(7,r,d,o),r.lanes=c,r}function $o(r,o,c){return r=Vi(6,r,null,o),r.lanes=c,r}function kh(r,o,c){return o=Vi(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var za=[],Ha=0,qr=null,qo=0,bi=[],Gi=0,$a=null,gr=1,ui="";function qa(r,o){za[Ha++]=qo,za[Ha++]=qr,qr=r,qo=o}function Xf(r,o,c){bi[Gi++]=gr,bi[Gi++]=ui,bi[Gi++]=$a,$a=r;var d=gr;r=ui;var p=32-dn(d)-1;d&=~(1<<p),c+=1;var v=32-dn(o)+p;if(30<v){var A=p-p%5;v=(d&(1<<A)-1).toString(32),d>>=A,p-=A,gr=1<<32-dn(o)+p|c<<p|d,ui=v+r}else gr=1<<v|c<<p|d,ui=r}function Oh(r){r.return!==null&&(qa(r,1),Xf(r,1,0))}function Mh(r){for(;r===qr;)qr=za[--Ha],za[Ha]=null,qo=za[--Ha],za[Ha]=null;for(;r===$a;)$a=bi[--Gi],bi[Gi]=null,ui=bi[--Gi],bi[Gi]=null,gr=bi[--Gi],bi[Gi]=null}var On=null,Qe=null,Ce=!1,Gr=null,$s=!1,Kr=Error(i(519));function yr(r){var o=Error(i(418,""));throw gs(ji(o,r)),Kr}function Ph(r){var o=r.stateNode,c=r.type,d=r.memoizedProps;switch(o[yn]=r,o[fn]=d,c){case"dialog":me("cancel",o),me("close",o);break;case"iframe":case"object":case"embed":me("load",o);break;case"video":case"audio":for(c=0;c<fd.length;c++)me(fd[c],o);break;case"source":me("error",o);break;case"img":case"image":case"link":me("error",o),me("load",o);break;case"details":me("toggle",o);break;case"input":me("invalid",o),hr(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ra(o);break;case"select":me("invalid",o);break;case"textarea":me("invalid",o),js(o,d.value,d.defaultValue,d.children),Ra(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||pT(o.textContent,c)?(d.popover!=null&&(me("beforetoggle",o),me("toggle",o)),d.onScroll!=null&&me("scroll",o),d.onScrollEnd!=null&&me("scrollend",o),d.onClick!=null&&(o.onclick=Nm),o=!0):o=!1,o||yr(r)}function Qf(r){for(On=r.return;On;)switch(On.tag){case 5:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:On=On.return}}function lc(r){if(r!==On)return!1;if(!Ce)return Qf(r),Ce=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||e_(r.type,r.memoizedProps)),c=!c),c&&Qe&&yr(r),Qf(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Qe=Er(r.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Qe=null}}else o===27?(o=Qe,al(r.type)?(r=r_,r_=null,Qe=r):Qe=o):Qe=On?Er(r.stateNode.nextSibling):null;return!0}function cc(){Qe=On=null,Ce=!1}function Go(){var r=Gr;return r!==null&&(Zi===null?Zi=r:Zi.push.apply(Zi,r),Gr=null),r}function gs(r){Gr===null?Gr=[r]:Gr.push(r)}var jh=ut(null),Ga=null,_r=null;function Wr(r,o,c){gt(jh,o._currentValue),o._currentValue=c}function vr(r){r._currentValue=jh.current,Tt(jh)}function Lh(r,o,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===c)break;r=r.return}}function Vh(r,o,c,d){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){var A=p.child;v=v.firstContext;t:for(;v!==null;){var O=v;v=p;for(var q=0;q<o.length;q++)if(O.context===o[q]){v.lanes|=c,O=v.alternate,O!==null&&(O.lanes|=c),Lh(v.return,c,r),d||(A=null);break t}v=O.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(i(341));A.lanes|=c,v=A.alternate,v!==null&&(v.lanes|=c),Lh(A,c,r),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===r){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function uc(r,o,c,d){r=null;for(var p=o,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var O=p.type;_i(p.pendingProps.value,A.value)||(r!==null?r.push(O):r=[O])}}else if(p===De.current){if(A=p.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(vd):r=[vd])}p=p.return}r!==null&&Vh(o,r,c,d),o.flags|=262144}function hc(r){for(r=r.firstContext;r!==null;){if(!_i(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ka(r){Ga=r,_r=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function zn(r){return Uh(Ga,r)}function Ko(r,o){return Ga===null&&Ka(r),Uh(r,o)}function Uh(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},_r===null){if(r===null)throw Error(i(308));_r=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else _r=_r.next=o;return c}var Wa=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},Zf=n.unstable_scheduleCallback,Fh=n.unstable_NormalPriority,pn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new Wa,data:new Map,refCount:0}}function Wo(r){r.refCount--,r.refCount===0&&Zf(Fh,function(){r.controller.abort()})}var Ya=null,Bh=0,Ki=0,Ui=null;function ly(r,o){if(Ya===null){var c=Ya=[];Bh=0,Ki=Gy(),Ui={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Bh++,o.then(Jf,Jf),o}function Jf(){if(--Bh===0&&Ya!==null){Ui!==null&&(Ui.status="fulfilled");var r=Ya;Ya=null,Ki=0,Ui=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function cy(r,o){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var p=0;p<c.length;p++)(0,c[p])(o)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var tm=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ly(r,o),tm!==null&&tm(r,o)};var Xa=ut(null);function zh(){var r=Xa.current;return r!==null?r:Ze.pooledCache}function ru(r,o){o===null?gt(Xa,Xa.current):gt(Xa,o.pool)}function em(){var r=zh();return r===null?null:{parent:pn._currentValue,pool:r}}var Yo=Error(i(460)),fc=Error(i(474)),Qa=Error(i(542)),Hh={then:function(){}};function nm(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yr(){}function I(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Yr,Yr),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,j(r),r;default:if(typeof o.status=="string")o.then(Yr,Yr);else{if(r=Ze,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=d}},function(d){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,j(r),r}throw y=o,Yo}}var y=null;function x(){if(y===null)throw Error(i(459));var r=y;return y=null,r}function j(r){if(r===Yo||r===Qa)throw Error(i(483))}var Z=!1;function J(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ct(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function mt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function At(r,o,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,o=iu(r),Nh(r,null,c),o}return nu(r,d,o,c),iu(r)}function Mt(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Gl(r,c)}}function jt(r,o){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?p=v=A:v=v.next=A,c=c.next}while(c!==null);v===null?p=v=o:v=v.next=o}else p=v=o;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var kt=!1;function ne(){if(kt){var r=Ui;if(r!==null)throw r}}function Ht(r,o,c,d){kt=!1;var p=r.updateQueue;Z=!1;var v=p.firstBaseUpdate,A=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var q=O,st=q.next;q.next=null,A===null?v=st:A.next=st,A=q;var dt=r.alternate;dt!==null&&(dt=dt.updateQueue,O=dt.lastBaseUpdate,O!==A&&(O===null?dt.firstBaseUpdate=st:O.next=st,dt.lastBaseUpdate=q))}if(v!==null){var yt=p.baseState;A=0,dt=st=q=null,O=v;do{var rt=O.lane&-536870913,at=rt!==O.lane;if(at?(Se&rt)===rt:(d&rt)===rt){rt!==0&&rt===Ki&&(kt=!0),dt!==null&&(dt=dt.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var ee=r,Gt=O;rt=o;var Ge=c;switch(Gt.tag){case 1:if(ee=Gt.payload,typeof ee=="function"){yt=ee.call(Ge,yt,rt);break t}yt=ee;break t;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=Gt.payload,rt=typeof ee=="function"?ee.call(Ge,yt,rt):ee,rt==null)break t;yt=g({},yt,rt);break t;case 2:Z=!0}}rt=O.callback,rt!==null&&(r.flags|=64,at&&(r.flags|=8192),at=p.callbacks,at===null?p.callbacks=[rt]:at.push(rt))}else at={lane:rt,tag:O.tag,payload:O.payload,callback:O.callback,next:null},dt===null?(st=dt=at,q=yt):dt=dt.next=at,A|=rt;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;at=O,O=at.next,at.next=null,p.lastBaseUpdate=at,p.shared.pending=null}}while(!0);dt===null&&(q=yt),p.baseState=q,p.firstBaseUpdate=st,p.lastBaseUpdate=dt,v===null&&(p.shared.lanes=0),nl|=A,r.lanes=A,r.memoizedState=yt}}function ie(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Yt(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)ie(c[r],o)}var qt=ut(null),Re=ut(0);function Le(r,o){r=so,gt(Re,r),gt(qt,o),so=r|o.baseLanes}function le(){gt(Re,so),gt(qt,qt.current)}function Te(){so=Re.current,Tt(qt),Tt(Re)}var Xt=0,Ot=null,Bt=null,Qt=null,we=!1,$e=!1,Tn=!1,Ei=0,xn=0,Hn=null,Wi=0;function ae(){throw Error(i(321))}function Yi(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!_i(r[c],o[c]))return!1;return!0}function Xi(r,o,c,d,p,v){return Xt=v,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?Y0:X0,Tn=!1,v=c(d,p),Tn=!1,$e&&(v=wn(o,c,d,p)),Za(r),v}function Za(r){W.H=um;var o=Bt!==null&&Bt.next!==null;if(Xt=0,Qt=Bt=Ot=null,we=!1,xn=0,Hn=null,o)throw Error(i(300));r===null||Jn||(r=r.dependencies,r!==null&&hc(r)&&(Jn=!0))}function wn(r,o,c,d){Ot=r;var p=0;do{if($e&&(Hn=null),xn=0,$e=!1,25<=p)throw Error(i(301));if(p+=1,Qt=Bt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=ON,v=o(c,d)}while($e);return v}function Ve(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?Xr(o):o,r=r.useState()[0],(Bt!==null?Bt.memoizedState:null)!==r&&(Ot.flags|=1024),o}function $n(){var r=Ei!==0;return Ei=0,r}function Ti(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function qs(r){if(we){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}we=!1}Xt=0,Qt=Bt=Ot=null,$e=!1,xn=Ei=0,Hn=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ot.memoizedState=Qt=r:Qt=Qt.next=r,Qt}function on(){if(Bt===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var o=Qt===null?Ot.memoizedState:Qt.next;if(o!==null)Qt=o,Bt=r;else{if(r===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Qt===null?Ot.memoizedState=Qt=r:Qt=Qt.next=r}return Qt}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(r){var o=xn;return xn+=1,Hn===null&&(Hn=[]),r=I(Hn,r,o),o=Ot,(Qt===null?o.memoizedState:Qt.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Y0:X0),r}function ou(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xr(r);if(r.$$typeof===G)return zn(r)}throw Error(i(438,String(r)))}function $h(r){var o=null,c=Ot.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Ot.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=au(),Ot.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),d=0;d<r;d++)c[d]=z;return o.index++,c}function ys(r,o){return typeof o=="function"?o(r):o}function lu(r){var o=on();return cu(o,Bt,r)}function cu(r,o,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var p=r.baseQueue,v=d.pending;if(v!==null){if(p!==null){var A=p.next;p.next=v.next,v.next=A}o.baseQueue=p=v,d.pending=null}if(v=r.baseState,p===null)r.memoizedState=v;else{o=p.next;var O=A=null,q=null,st=o,dt=!1;do{var yt=st.lane&-536870913;if(yt!==st.lane?(Se&yt)===yt:(Xt&yt)===yt){var rt=st.revertLane;if(rt===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),yt===Ki&&(dt=!0);else if((Xt&rt)===rt){st=st.next,rt===Ki&&(dt=!0);continue}else yt={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},q===null?(O=q=yt,A=v):q=q.next=yt,Ot.lanes|=rt,nl|=rt;yt=st.action,Tn&&c(v,yt),v=st.hasEagerState?st.eagerState:c(v,yt)}else rt={lane:yt,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},q===null?(O=q=rt,A=v):q=q.next=rt,Ot.lanes|=yt,nl|=yt;st=st.next}while(st!==null&&st!==o);if(q===null?A=v:q.next=O,!_i(v,r.memoizedState)&&(Jn=!0,dt&&(c=Ui,c!==null)))throw c;r.memoizedState=v,r.baseState=A,r.baseQueue=q,d.lastRenderedState=v}return p===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function qh(r){var o=on(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,p=c.pending,v=o.memoizedState;if(p!==null){c.pending=null;var A=p=p.next;do v=r(v,A.action),A=A.next;while(A!==p);_i(v,o.memoizedState)||(Jn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,d]}function Gh(r,o,c){var d=Ot,p=on(),v=Ce;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=o();var A=!_i((Bt||p).memoizedState,c);A&&(p.memoizedState=c,Jn=!0),p=p.queue;var O=sm.bind(null,d,p,r);if(td(2048,8,O,[r]),p.getSnapshot!==o||A||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,fu(9,om(),im.bind(null,d,p,c,o),null),Ze===null)throw Error(i(349));v||(Xt&124)!==0||Kh(d,o,c)}return c}function Kh(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Ot.updateQueue,o===null?(o=au(),Ot.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function im(r,o,c,d){o.value=c,o.getSnapshot=d,Qr(o)&&mc(r)}function sm(r,o,c){return c(function(){Qr(o)&&mc(r)})}function Qr(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!_i(r,c)}catch{return!0}}function mc(r){var o=vi(r,2);o!==null&&Ts(o,r,2)}function uu(r){var o=qn();if(typeof r=="function"){var c=r;if(r=c(),Tn){ki(!0);try{c()}finally{ki(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:r},o}function Wh(r,o,c,d){return r.baseState=c,cu(r,Bt,typeof d=="function"?d:ys)}function Yh(r,o,c,d,p){if(cm(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};W.T!==null?c(!0):v.isTransition=!1,d(v),c=o.pending,c===null?(v.next=o.pending=v,Xh(o,v)):(v.next=c.next,o.pending=c.next=v)}}function Xh(r,o){var c=o.action,d=o.payload,p=r.state;if(o.isTransition){var v=W.T,A={};W.T=A;try{var O=c(p,d),q=W.S;q!==null&&q(A,O),Qh(r,o,O)}catch(st){hu(r,o,st)}finally{W.T=v}}else try{v=c(p,d),Qh(r,o,v)}catch(st){hu(r,o,st)}}function Qh(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Zh(r,o,d)},function(d){return hu(r,o,d)}):Zh(r,o,c)}function Zh(r,o,c){o.status="fulfilled",o.value=c,rm(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,Xh(r,c)))}function hu(r,o,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,rm(o),o=o.next;while(o!==d)}r.action=null}function rm(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function am(r,o){return o}function du(r,o){if(Ce){var c=Ze.formState;if(c!==null){t:{var d=Ot;if(Ce){if(Qe){e:{for(var p=Qe,v=$s;p.nodeType!==8;){if(!v){p=null;break e}if(p=Er(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Qe=Er(p.nextSibling),d=p.data==="F!";break t}}yr(d)}d=!1}d&&(o=c[0])}}return c=qn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:o},c.queue=d,c=G0.bind(null,Ot,d),d.dispatch=c,d=uu(!1),v=my.bind(null,Ot,!1,d.queue),d=qn(),p={state:o,dispatch:null,action:r,pending:null},d.queue=p,c=Yh.bind(null,Ot,p,v,c),p.dispatch=c,d.memoizedState=r,[o,c,!1]}function Jh(r){var o=on();return I0(o,Bt,r)}function I0(r,o,c){if(o=cu(r,o,am)[0],r=lu(ys)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Xr(o)}catch(A){throw A===Yo?Qa:A}else d=o;o=on();var p=o.queue,v=p.dispatch;return c!==o.memoizedState&&(Ot.flags|=2048,fu(9,om(),IN.bind(null,p,c),null)),[d,v,r]}function IN(r,o){r.action=o}function N0(r){var o=on(),c=Bt;if(c!==null)return I0(o,c,r);on(),o=o.memoizedState,c=on();var d=c.queue.dispatch;return c.memoizedState=r,[o,d,!1]}function fu(r,o,c,d){return r={tag:r,create:c,deps:d,inst:o,next:null},o=Ot.updateQueue,o===null&&(o=au(),Ot.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,o.lastEffect=r),r}function om(){return{destroy:void 0,resource:void 0}}function D0(){return on().memoizedState}function lm(r,o,c,d){var p=qn();d=d===void 0?null:d,Ot.flags|=r,p.memoizedState=fu(1|o,om(),c,d)}function td(r,o,c,d){var p=on();d=d===void 0?null:d;var v=p.memoizedState.inst;Bt!==null&&d!==null&&Yi(d,Bt.memoizedState.deps)?p.memoizedState=fu(o,v,c,d):(Ot.flags|=r,p.memoizedState=fu(1|o,v,c,d))}function k0(r,o){lm(8390656,8,r,o)}function O0(r,o){td(2048,8,r,o)}function M0(r,o){return td(4,2,r,o)}function P0(r,o){return td(4,4,r,o)}function j0(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function L0(r,o,c){c=c!=null?c.concat([r]):null,td(4,4,j0.bind(null,o,r),c)}function uy(){}function V0(r,o){var c=on();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Yi(o,d[1])?d[0]:(c.memoizedState=[r,o],r)}function U0(r,o){var c=on();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Yi(o,d[1]))return d[0];if(d=r(),Tn){ki(!0);try{r()}finally{ki(!1)}}return c.memoizedState=[d,o],d}function hy(r,o,c){return c===void 0||(Xt&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=zE(),Ot.lanes|=r,nl|=r,c)}function F0(r,o,c,d){return _i(c,o)?c:qt.current!==null?(r=hy(r,c,d),_i(r,o)||(Jn=!0),r):(Xt&42)===0?(Jn=!0,r.memoizedState=c):(r=zE(),Ot.lanes|=r,nl|=r,o)}function B0(r,o,c,d,p){var v=ot.p;ot.p=v!==0&&8>v?v:8;var A=W.T,O={};W.T=O,my(r,!1,o,c);try{var q=p(),st=W.S;if(st!==null&&st(O,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var dt=cy(q,d);ed(r,o,dt,Es(r))}else ed(r,o,d,Es(r))}catch(yt){ed(r,o,{then:function(){},status:"rejected",reason:yt},Es())}finally{ot.p=v,W.T=A}}function NN(){}function dy(r,o,c,d){if(r.tag!==5)throw Error(i(476));var p=z0(r).queue;B0(r,p,o,Et,c===null?NN:function(){return H0(r),c(d)})}function z0(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:Et},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function H0(r){var o=z0(r).next.queue;ed(r,o,{},Es())}function fy(){return zn(vd)}function $0(){return on().memoizedState}function q0(){return on().memoizedState}function DN(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Es();r=mt(c);var d=At(o,r,c);d!==null&&(Ts(d,o,c),Mt(d,o,c)),o={cache:dc()},r.payload=o;return}o=o.return}}function kN(r,o,c){var d=Es();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},cm(r)?K0(o,c):(c=Ih(r,o,c,d),c!==null&&(Ts(c,r,d),W0(c,o,d)))}function G0(r,o,c){var d=Es();ed(r,o,c,d)}function ed(r,o,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(cm(r))K0(o,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,O=v(A,c);if(p.hasEagerState=!0,p.eagerState=O,_i(O,A))return nu(r,o,p,0),Ze===null&&eu(),!1}catch{}finally{}if(c=Ih(r,o,p,d),c!==null)return Ts(c,r,d),W0(c,o,d),!0}return!1}function my(r,o,c,d){if(d={lane:2,revertLane:Gy(),action:d,hasEagerState:!1,eagerState:null,next:null},cm(r)){if(o)throw Error(i(479))}else o=Ih(r,c,d,2),o!==null&&Ts(o,r,2)}function cm(r){var o=r.alternate;return r===Ot||o!==null&&o===Ot}function K0(r,o){$e=we=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function W0(r,o,c){if((c&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Gl(r,c)}}var um={readContext:zn,use:ou,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae},Y0={readContext:zn,use:ou,useCallback:function(r,o){return qn().memoizedState=[r,o===void 0?null:o],r},useContext:zn,useEffect:k0,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,lm(4194308,4,j0.bind(null,o,r),c)},useLayoutEffect:function(r,o){return lm(4194308,4,r,o)},useInsertionEffect:function(r,o){lm(4,2,r,o)},useMemo:function(r,o){var c=qn();o=o===void 0?null:o;var d=r();if(Tn){ki(!0);try{r()}finally{ki(!1)}}return c.memoizedState=[d,o],d},useReducer:function(r,o,c){var d=qn();if(c!==void 0){var p=c(o);if(Tn){ki(!0);try{c(o)}finally{ki(!1)}}}else p=o;return d.memoizedState=d.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},d.queue=r,r=r.dispatch=kN.bind(null,Ot,r),[d.memoizedState,r]},useRef:function(r){var o=qn();return r={current:r},o.memoizedState=r},useState:function(r){r=uu(r);var o=r.queue,c=G0.bind(null,Ot,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:uy,useDeferredValue:function(r,o){var c=qn();return hy(c,r,o)},useTransition:function(){var r=uu(!1);return r=B0.bind(null,Ot,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var d=Ot,p=qn();if(Ce){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Ze===null)throw Error(i(349));(Se&124)!==0||Kh(d,o,c)}p.memoizedState=c;var v={value:c,getSnapshot:o};return p.queue=v,k0(sm.bind(null,d,v,r),[r]),d.flags|=2048,fu(9,om(),im.bind(null,d,v,c,o),null),c},useId:function(){var r=qn(),o=Ze.identifierPrefix;if(Ce){var c=ui,d=gr;c=(d&~(1<<32-dn(d)-1)).toString(32)+c,o="«"+o+"R"+c,c=Ei++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=Wi++,o="«"+o+"r"+c.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:fy,useFormState:du,useActionState:du,useOptimistic:function(r){var o=qn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=my.bind(null,Ot,!0,c),c.dispatch=o,[r,o]},useMemoCache:$h,useCacheRefresh:function(){return qn().memoizedState=DN.bind(null,Ot)}},X0={readContext:zn,use:ou,useCallback:V0,useContext:zn,useEffect:O0,useImperativeHandle:L0,useInsertionEffect:M0,useLayoutEffect:P0,useMemo:U0,useReducer:lu,useRef:D0,useState:function(){return lu(ys)},useDebugValue:uy,useDeferredValue:function(r,o){var c=on();return F0(c,Bt.memoizedState,r,o)},useTransition:function(){var r=lu(ys)[0],o=on().memoizedState;return[typeof r=="boolean"?r:Xr(r),o]},useSyncExternalStore:Gh,useId:$0,useHostTransitionStatus:fy,useFormState:Jh,useActionState:Jh,useOptimistic:function(r,o){var c=on();return Wh(c,Bt,r,o)},useMemoCache:$h,useCacheRefresh:q0},ON={readContext:zn,use:ou,useCallback:V0,useContext:zn,useEffect:O0,useImperativeHandle:L0,useInsertionEffect:M0,useLayoutEffect:P0,useMemo:U0,useReducer:qh,useRef:D0,useState:function(){return qh(ys)},useDebugValue:uy,useDeferredValue:function(r,o){var c=on();return Bt===null?hy(c,r,o):F0(c,Bt.memoizedState,r,o)},useTransition:function(){var r=qh(ys)[0],o=on().memoizedState;return[typeof r=="boolean"?r:Xr(r),o]},useSyncExternalStore:Gh,useId:$0,useHostTransitionStatus:fy,useFormState:N0,useActionState:N0,useOptimistic:function(r,o){var c=on();return Bt!==null?Wh(c,Bt,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:$h,useCacheRefresh:q0},mu=null,nd=0;function hm(r){var o=nd;return nd+=1,mu===null&&(mu=[]),I(mu,r,o)}function id(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function dm(r,o){throw o.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Q0(r){var o=r._init;return o(r._payload)}function Z0(r){function o(tt,X){if(r){var nt=tt.deletions;nt===null?(tt.deletions=[X],tt.flags|=16):nt.push(X)}}function c(tt,X){if(!r)return null;for(;X!==null;)o(tt,X),X=X.sibling;return null}function d(tt){for(var X=new Map;tt!==null;)tt.key!==null?X.set(tt.key,tt):X.set(tt.index,tt),tt=tt.sibling;return X}function p(tt,X){return tt=mr(tt,X),tt.index=0,tt.sibling=null,tt}function v(tt,X,nt){return tt.index=nt,r?(nt=tt.alternate,nt!==null?(nt=nt.index,nt<X?(tt.flags|=67108866,X):nt):(tt.flags|=67108866,X)):(tt.flags|=1048576,X)}function A(tt){return r&&tt.alternate===null&&(tt.flags|=67108866),tt}function O(tt,X,nt,pt){return X===null||X.tag!==6?(X=$o(nt,tt.mode,pt),X.return=tt,X):(X=p(X,nt),X.return=tt,X)}function q(tt,X,nt,pt){var Ut=nt.type;return Ut===C?dt(tt,X,nt.props.children,pt,nt.key):X!==null&&(X.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===D&&Q0(Ut)===X.type)?(X=p(X,nt.props),id(X,nt),X.return=tt,X):(X=su(nt.type,nt.key,nt.props,null,tt.mode,pt),id(X,nt),X.return=tt,X)}function st(tt,X,nt,pt){return X===null||X.tag!==4||X.stateNode.containerInfo!==nt.containerInfo||X.stateNode.implementation!==nt.implementation?(X=kh(nt,tt.mode,pt),X.return=tt,X):(X=p(X,nt.children||[]),X.return=tt,X)}function dt(tt,X,nt,pt,Ut){return X===null||X.tag!==7?(X=pr(nt,tt.mode,pt,Ut),X.return=tt,X):(X=p(X,nt),X.return=tt,X)}function yt(tt,X,nt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=$o(""+X,tt.mode,nt),X.return=tt,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return nt=su(X.type,X.key,X.props,null,tt.mode,nt),id(nt,X),nt.return=tt,nt;case w:return X=kh(X,tt.mode,nt),X.return=tt,X;case D:var pt=X._init;return X=pt(X._payload),yt(tt,X,nt)}if(vt(X)||V(X))return X=pr(X,tt.mode,nt,null),X.return=tt,X;if(typeof X.then=="function")return yt(tt,hm(X),nt);if(X.$$typeof===G)return yt(tt,Ko(tt,X),nt);dm(tt,X)}return null}function rt(tt,X,nt,pt){var Ut=X!==null?X.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Ut!==null?null:O(tt,X,""+nt,pt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case E:return nt.key===Ut?q(tt,X,nt,pt):null;case w:return nt.key===Ut?st(tt,X,nt,pt):null;case D:return Ut=nt._init,nt=Ut(nt._payload),rt(tt,X,nt,pt)}if(vt(nt)||V(nt))return Ut!==null?null:dt(tt,X,nt,pt,null);if(typeof nt.then=="function")return rt(tt,X,hm(nt),pt);if(nt.$$typeof===G)return rt(tt,X,Ko(tt,nt),pt);dm(tt,nt)}return null}function at(tt,X,nt,pt,Ut){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return tt=tt.get(nt)||null,O(X,tt,""+pt,Ut);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case E:return tt=tt.get(pt.key===null?nt:pt.key)||null,q(X,tt,pt,Ut);case w:return tt=tt.get(pt.key===null?nt:pt.key)||null,st(X,tt,pt,Ut);case D:var he=pt._init;return pt=he(pt._payload),at(tt,X,nt,pt,Ut)}if(vt(pt)||V(pt))return tt=tt.get(nt)||null,dt(X,tt,pt,Ut,null);if(typeof pt.then=="function")return at(tt,X,nt,hm(pt),Ut);if(pt.$$typeof===G)return at(tt,X,nt,Ko(X,pt),Ut);dm(X,pt)}return null}function ee(tt,X,nt,pt){for(var Ut=null,he=null,zt=X,Wt=X=0,ei=null;zt!==null&&Wt<nt.length;Wt++){zt.index>Wt?(ei=zt,zt=null):ei=zt.sibling;var Ie=rt(tt,zt,nt[Wt],pt);if(Ie===null){zt===null&&(zt=ei);break}r&&zt&&Ie.alternate===null&&o(tt,zt),X=v(Ie,X,Wt),he===null?Ut=Ie:he.sibling=Ie,he=Ie,zt=ei}if(Wt===nt.length)return c(tt,zt),Ce&&qa(tt,Wt),Ut;if(zt===null){for(;Wt<nt.length;Wt++)zt=yt(tt,nt[Wt],pt),zt!==null&&(X=v(zt,X,Wt),he===null?Ut=zt:he.sibling=zt,he=zt);return Ce&&qa(tt,Wt),Ut}for(zt=d(zt);Wt<nt.length;Wt++)ei=at(zt,tt,Wt,nt[Wt],pt),ei!==null&&(r&&ei.alternate!==null&&zt.delete(ei.key===null?Wt:ei.key),X=v(ei,X,Wt),he===null?Ut=ei:he.sibling=ei,he=ei);return r&&zt.forEach(function(hl){return o(tt,hl)}),Ce&&qa(tt,Wt),Ut}function Gt(tt,X,nt,pt){if(nt==null)throw Error(i(151));for(var Ut=null,he=null,zt=X,Wt=X=0,ei=null,Ie=nt.next();zt!==null&&!Ie.done;Wt++,Ie=nt.next()){zt.index>Wt?(ei=zt,zt=null):ei=zt.sibling;var hl=rt(tt,zt,Ie.value,pt);if(hl===null){zt===null&&(zt=ei);break}r&&zt&&hl.alternate===null&&o(tt,zt),X=v(hl,X,Wt),he===null?Ut=hl:he.sibling=hl,he=hl,zt=ei}if(Ie.done)return c(tt,zt),Ce&&qa(tt,Wt),Ut;if(zt===null){for(;!Ie.done;Wt++,Ie=nt.next())Ie=yt(tt,Ie.value,pt),Ie!==null&&(X=v(Ie,X,Wt),he===null?Ut=Ie:he.sibling=Ie,he=Ie);return Ce&&qa(tt,Wt),Ut}for(zt=d(zt);!Ie.done;Wt++,Ie=nt.next())Ie=at(zt,tt,Wt,Ie.value,pt),Ie!==null&&(r&&Ie.alternate!==null&&zt.delete(Ie.key===null?Wt:Ie.key),X=v(Ie,X,Wt),he===null?Ut=Ie:he.sibling=Ie,he=Ie);return r&&zt.forEach(function(MD){return o(tt,MD)}),Ce&&qa(tt,Wt),Ut}function Ge(tt,X,nt,pt){if(typeof nt=="object"&&nt!==null&&nt.type===C&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case E:t:{for(var Ut=nt.key;X!==null;){if(X.key===Ut){if(Ut=nt.type,Ut===C){if(X.tag===7){c(tt,X.sibling),pt=p(X,nt.props.children),pt.return=tt,tt=pt;break t}}else if(X.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===D&&Q0(Ut)===X.type){c(tt,X.sibling),pt=p(X,nt.props),id(pt,nt),pt.return=tt,tt=pt;break t}c(tt,X);break}else o(tt,X);X=X.sibling}nt.type===C?(pt=pr(nt.props.children,tt.mode,pt,nt.key),pt.return=tt,tt=pt):(pt=su(nt.type,nt.key,nt.props,null,tt.mode,pt),id(pt,nt),pt.return=tt,tt=pt)}return A(tt);case w:t:{for(Ut=nt.key;X!==null;){if(X.key===Ut)if(X.tag===4&&X.stateNode.containerInfo===nt.containerInfo&&X.stateNode.implementation===nt.implementation){c(tt,X.sibling),pt=p(X,nt.children||[]),pt.return=tt,tt=pt;break t}else{c(tt,X);break}else o(tt,X);X=X.sibling}pt=kh(nt,tt.mode,pt),pt.return=tt,tt=pt}return A(tt);case D:return Ut=nt._init,nt=Ut(nt._payload),Ge(tt,X,nt,pt)}if(vt(nt))return ee(tt,X,nt,pt);if(V(nt)){if(Ut=V(nt),typeof Ut!="function")throw Error(i(150));return nt=Ut.call(nt),Gt(tt,X,nt,pt)}if(typeof nt.then=="function")return Ge(tt,X,hm(nt),pt);if(nt.$$typeof===G)return Ge(tt,X,Ko(tt,nt),pt);dm(tt,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,X!==null&&X.tag===6?(c(tt,X.sibling),pt=p(X,nt),pt.return=tt,tt=pt):(c(tt,X),pt=$o(nt,tt.mode,pt),pt.return=tt,tt=pt),A(tt)):c(tt,X)}return function(tt,X,nt,pt){try{nd=0;var Ut=Ge(tt,X,nt,pt);return mu=null,Ut}catch(zt){if(zt===Yo||zt===Qa)throw zt;var he=Vi(29,zt,null,tt.mode);return he.lanes=pt,he.return=tt,he}finally{}}}var pu=Z0(!0),J0=Z0(!1),Gs=ut(null),Zr=null;function Xo(r){var o=r.alternate;gt(Gn,Gn.current&1),gt(Gs,r),Zr===null&&(o===null||qt.current!==null||o.memoizedState!==null)&&(Zr=r)}function tE(r){if(r.tag===22){if(gt(Gn,Gn.current),gt(Gs,r),Zr===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Zr=r)}}else Qo()}function Qo(){gt(Gn,Gn.current),gt(Gs,Gs.current)}function Ja(r){Tt(Gs),Zr===r&&(Zr=null),Tt(Gn)}var Gn=ut(0);function fm(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||s_(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function py(r,o,c,d){o=r.memoizedState,c=c(d,o),c=c==null?o:g({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var gy={enqueueSetState:function(r,o,c){r=r._reactInternals;var d=Es(),p=mt(d);p.payload=o,c!=null&&(p.callback=c),o=At(r,p,d),o!==null&&(Ts(o,r,d),Mt(o,r,d))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var d=Es(),p=mt(d);p.tag=1,p.payload=o,c!=null&&(p.callback=c),o=At(r,p,d),o!==null&&(Ts(o,r,d),Mt(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Es(),d=mt(c);d.tag=2,o!=null&&(d.callback=o),o=At(r,d,c),o!==null&&(Ts(o,r,c),Mt(o,r,c))}};function eE(r,o,c,d,p,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,A):o.prototype&&o.prototype.isPureReactComponent?!Ua(c,d)||!Ua(p,v):!0}function nE(r,o,c,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==r&&gy.enqueueReplaceState(o,o.state,null)}function pc(r,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(r=r.defaultProps){c===o&&(c=g({},c));for(var p in r)c[p]===void 0&&(c[p]=r[p])}return c}var mm=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function iE(r){mm(r)}function sE(r){console.error(r)}function rE(r){mm(r)}function pm(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function aE(r,o,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function yy(r,o,c){return c=mt(c),c.tag=3,c.payload={element:null},c.callback=function(){pm(r,o)},c}function oE(r){return r=mt(r),r.tag=3,r}function lE(r,o,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;r.payload=function(){return p(v)},r.callback=function(){aE(o,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){aE(o,c,d),typeof p!="function"&&(il===null?il=new Set([this]):il.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function MN(r,o,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&uc(o,c,p,!0),c=Gs.current,c!==null){switch(c.tag){case 13:return Zr===null?By():c.alternate===null&&gn===0&&(gn=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===Hh?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),Hy(r,d,p)),!1;case 22:return c.flags|=65536,d===Hh?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),Hy(r,d,p)),!1}throw Error(i(435,c.tag))}return Hy(r,d,p),By(),!1}if(Ce)return o=Gs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,d!==Kr&&(r=Error(i(422),{cause:d}),gs(ji(r,c)))):(d!==Kr&&(o=Error(i(423),{cause:d}),gs(ji(o,c))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,d=ji(d,c),p=yy(r.stateNode,d,p),jt(r,p),gn!==4&&(gn=2)),!1;var v=Error(i(520),{cause:d});if(v=ji(v,c),ud===null?ud=[v]:ud.push(v),gn!==4&&(gn=2),o===null)return!0;d=ji(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=p&-p,c.lanes|=r,r=yy(c.stateNode,d,r),jt(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(il===null||!il.has(v))))return c.flags|=65536,p&=-p,c.lanes|=p,p=oE(p),lE(p,r,c,d),jt(c,p),!1}c=c.return}while(c!==null);return!1}var cE=Error(i(461)),Jn=!1;function hi(r,o,c,d){o.child=r===null?J0(o,null,c,d):pu(o,r.child,c,d)}function uE(r,o,c,d,p){c=c.render;var v=o.ref;if("ref"in d){var A={};for(var O in d)O!=="ref"&&(A[O]=d[O])}else A=d;return Ka(o),d=Xi(r,o,c,A,v,p),O=$n(),r!==null&&!Jn?(Ti(r,o,p),to(r,o,p)):(Ce&&O&&Oh(o),o.flags|=1,hi(r,o,d,p),o.child)}function hE(r,o,c,d,p){if(r===null){var v=c.type;return typeof v=="function"&&!Dh(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,dE(r,o,v,d,p)):(r=su(c.type,null,d,o,o.mode,p),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Sy(r,p)){var A=v.memoizedProps;if(c=c.compare,c=c!==null?c:Ua,c(A,d)&&r.ref===o.ref)return to(r,o,p)}return o.flags|=1,r=mr(v,d),r.ref=o.ref,r.return=o,o.child=r}function dE(r,o,c,d,p){if(r!==null){var v=r.memoizedProps;if(Ua(v,d)&&r.ref===o.ref)if(Jn=!1,o.pendingProps=d=v,Sy(r,p))(r.flags&131072)!==0&&(Jn=!0);else return o.lanes=r.lanes,to(r,o,p)}return _y(r,o,c,d,p)}function fE(r,o,c){var d=o.pendingProps,p=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,r!==null){for(p=o.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return mE(r,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&ru(o,v!==null?v.cachePool:null),v!==null?Le(o,v):le(),tE(o);else return o.lanes=o.childLanes=536870912,mE(r,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(ru(o,v.cachePool),Le(o,v),Qo(),o.memoizedState=null):(r!==null&&ru(o,null),le(),Qo());return hi(r,o,p,c),o.child}function mE(r,o,c,d){var p=zh();return p=p===null?null:{parent:pn._currentValue,pool:p},o.memoizedState={baseLanes:c,cachePool:p},r!==null&&ru(o,null),le(),tE(o),r!==null&&uc(r,o,d,!0),null}function gm(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function _y(r,o,c,d,p){return Ka(o),c=Xi(r,o,c,d,void 0,p),d=$n(),r!==null&&!Jn?(Ti(r,o,p),to(r,o,p)):(Ce&&d&&Oh(o),o.flags|=1,hi(r,o,c,p),o.child)}function pE(r,o,c,d,p,v){return Ka(o),o.updateQueue=null,c=wn(o,d,c,p),Za(r),d=$n(),r!==null&&!Jn?(Ti(r,o,v),to(r,o,v)):(Ce&&d&&Oh(o),o.flags|=1,hi(r,o,c,v),o.child)}function gE(r,o,c,d,p){if(Ka(o),o.stateNode===null){var v=Ho,A=c.contextType;typeof A=="object"&&A!==null&&(v=zn(A)),v=new c(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=gy,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},J(o),A=c.contextType,v.context=typeof A=="object"&&A!==null?zn(A):Ho,v.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(py(o,c,A,d),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&gy.enqueueReplaceState(v,v.state,null),Ht(o,d,v,p),ne(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var O=o.memoizedProps,q=pc(c,O);v.props=q;var st=v.context,dt=c.contextType;A=Ho,typeof dt=="object"&&dt!==null&&(A=zn(dt));var yt=c.getDerivedStateFromProps;dt=typeof yt=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,dt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||st!==A)&&nE(o,v,d,A),Z=!1;var rt=o.memoizedState;v.state=rt,Ht(o,d,v,p),ne(),st=o.memoizedState,O||rt!==st||Z?(typeof yt=="function"&&(py(o,c,yt,d),st=o.memoizedState),(q=Z||eE(o,c,q,d,rt,st,A))?(dt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=st),v.props=d,v.state=st,v.context=A,d=q):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,ct(r,o),A=o.memoizedProps,dt=pc(c,A),v.props=dt,yt=o.pendingProps,rt=v.context,st=c.contextType,q=Ho,typeof st=="object"&&st!==null&&(q=zn(st)),O=c.getDerivedStateFromProps,(st=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==yt||rt!==q)&&nE(o,v,d,q),Z=!1,rt=o.memoizedState,v.state=rt,Ht(o,d,v,p),ne();var at=o.memoizedState;A!==yt||rt!==at||Z||r!==null&&r.dependencies!==null&&hc(r.dependencies)?(typeof O=="function"&&(py(o,c,O,d),at=o.memoizedState),(dt=Z||eE(o,c,dt,d,rt,at,q)||r!==null&&r.dependencies!==null&&hc(r.dependencies))?(st||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,at,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,at,q)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&rt===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&rt===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=at),v.props=d,v.state=at,v.context=q,d=dt):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&rt===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&rt===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,gm(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=pu(o,r.child,null,p),o.child=pu(o,null,c,p)):hi(r,o,c,p),o.memoizedState=v.state,r=o.child):r=to(r,o,p),r}function yE(r,o,c,d){return cc(),o.flags|=256,hi(r,o,c,d),o.child}var vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function by(r){return{baseLanes:r,cachePool:em()}}function Ey(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=Ks),r}function _E(r,o,c){var d=o.pendingProps,p=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(Gn.current&2)!==0),A&&(p=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ce){if(p?Xo(o):Qo(),Ce){var O=Qe,q;if(q=O){t:{for(q=O,O=$s;q.nodeType!==8;){if(!O){O=null;break t}if(q=Er(q.nextSibling),q===null){O=null;break t}}O=q}O!==null?(o.memoizedState={dehydrated:O,treeContext:$a!==null?{id:gr,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},q=Vi(18,null,null,0),q.stateNode=O,q.return=o,o.child=q,On=o,Qe=null,q=!0):q=!1}q||yr(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return s_(O)?o.lanes=32:o.lanes=536870912,null;Ja(o)}return O=d.children,d=d.fallback,p?(Qo(),p=o.mode,O=ym({mode:"hidden",children:O},p),d=pr(d,p,c,null),O.return=o,d.return=o,O.sibling=d,o.child=O,p=o.child,p.memoizedState=by(c),p.childLanes=Ey(r,A,c),o.memoizedState=vy,d):(Xo(o),Ty(o,O))}if(q=r.memoizedState,q!==null&&(O=q.dehydrated,O!==null)){if(v)o.flags&256?(Xo(o),o.flags&=-257,o=xy(r,o,c)):o.memoizedState!==null?(Qo(),o.child=r.child,o.flags|=128,o=null):(Qo(),p=d.fallback,O=o.mode,d=ym({mode:"visible",children:d.children},O),p=pr(p,O,c,null),p.flags|=2,d.return=o,p.return=o,d.sibling=p,o.child=d,pu(o,r.child,null,c),d=o.child,d.memoizedState=by(c),d.childLanes=Ey(r,A,c),o.memoizedState=vy,o=p);else if(Xo(o),s_(O)){if(A=O.nextSibling&&O.nextSibling.dataset,A)var st=A.dgst;A=st,d=Error(i(419)),d.stack="",d.digest=A,gs({value:d,source:null,stack:null}),o=xy(r,o,c)}else if(Jn||uc(r,o,c,!1),A=(c&r.childLanes)!==0,Jn||A){if(A=Ze,A!==null&&(d=c&-c,d=(d&42)!==0?1:Mr(d),d=(d&(A.suspendedLanes|c))!==0?0:d,d!==0&&d!==q.retryLane))throw q.retryLane=d,vi(r,d),Ts(A,r,d),cE;O.data==="$?"||By(),o=xy(r,o,c)}else O.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=q.treeContext,Qe=Er(O.nextSibling),On=o,Ce=!0,Gr=null,$s=!1,r!==null&&(bi[Gi++]=gr,bi[Gi++]=ui,bi[Gi++]=$a,gr=r.id,ui=r.overflow,$a=o),o=Ty(o,d.children),o.flags|=4096);return o}return p?(Qo(),p=d.fallback,O=o.mode,q=r.child,st=q.sibling,d=mr(q,{mode:"hidden",children:d.children}),d.subtreeFlags=q.subtreeFlags&65011712,st!==null?p=mr(st,p):(p=pr(p,O,c,null),p.flags|=2),p.return=o,d.return=o,d.sibling=p,o.child=d,d=p,p=o.child,O=r.child.memoizedState,O===null?O=by(c):(q=O.cachePool,q!==null?(st=pn._currentValue,q=q.parent!==st?{parent:st,pool:st}:q):q=em(),O={baseLanes:O.baseLanes|c,cachePool:q}),p.memoizedState=O,p.childLanes=Ey(r,A,c),o.memoizedState=vy,d):(Xo(o),c=r.child,r=c.sibling,c=mr(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=c,o.memoizedState=null,c)}function Ty(r,o){return o=ym({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ym(r,o){return r=Vi(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function xy(r,o,c){return pu(o,r.child,null,c),r=Ty(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function vE(r,o,c){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Lh(r.return,o,c)}function wy(r,o,c,d,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=p)}function bE(r,o,c){var d=o.pendingProps,p=d.revealOrder,v=d.tail;if(hi(r,o,d.children,c),d=Gn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vE(r,c,o);else if(r.tag===19)vE(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(gt(Gn,d),p){case"forwards":for(c=o.child,p=null;c!==null;)r=c.alternate,r!==null&&fm(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),wy(o,!1,p,c,v);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(r=p.alternate,r!==null&&fm(r)===null){o.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}wy(o,!0,c,null,v);break;case"together":wy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function to(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),nl|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(uc(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=mr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=mr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function Sy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&hc(r)))}function PN(r,o,c){switch(o.tag){case 3:it(o,o.stateNode.containerInfo),Wr(o,pn,r.memoizedState.cache),cc();break;case 27:case 5:Pt(o);break;case 4:it(o,o.stateNode.containerInfo);break;case 10:Wr(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Xo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?_E(r,o,c):(Xo(o),r=to(r,o,c),r!==null?r.sibling:null);Xo(o);break;case 19:var p=(r.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(uc(r,o,c,!1),d=(c&o.childLanes)!==0),p){if(d)return bE(r,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(Gn,Gn.current),d)break;return null;case 22:case 23:return o.lanes=0,fE(r,o,c);case 24:Wr(o,pn,r.memoizedState.cache)}return to(r,o,c)}function EE(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)Jn=!0;else{if(!Sy(r,c)&&(o.flags&128)===0)return Jn=!1,PN(r,o,c);Jn=(r.flags&131072)!==0}else Jn=!1,Ce&&(o.flags&1048576)!==0&&Xf(o,qo,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,p=d._init;if(d=p(d._payload),o.type=d,typeof d=="function")Dh(d)?(r=pc(d,r),o.tag=1,o=gE(null,o,d,r,c)):(o.tag=0,o=_y(null,o,d,r,c));else{if(d!=null){if(p=d.$$typeof,p===Q){o.tag=11,o=uE(null,o,d,r,c);break t}else if(p===B){o.tag=14,o=hE(null,o,d,r,c);break t}}throw o=Rt(d)||d,Error(i(306,o,""))}}return o;case 0:return _y(r,o,o.type,o.pendingProps,c);case 1:return d=o.type,p=pc(d,o.pendingProps),gE(r,o,d,p,c);case 3:t:{if(it(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;p=v.element,ct(r,o),Ht(o,d,null,c);var A=o.memoizedState;if(d=A.cache,Wr(o,pn,d),d!==v.cache&&Vh(o,[pn],c,!0),ne(),d=A.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=yE(r,o,d,c);break t}else if(d!==p){p=ji(Error(i(424)),o),gs(p),o=yE(r,o,d,c);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Qe=Er(r.firstChild),On=o,Ce=!0,Gr=null,$s=!0,c=J0(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cc(),d===p){o=to(r,o,c);break t}hi(r,o,d,c)}o=o.child}return o;case 26:return gm(r,o),r===null?(c=ST(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ce||(c=o.type,r=o.pendingProps,d=Dm(It.current).createElement(c),d[yn]=o,d[fn]=r,fi(d,c,r),de(d),o.stateNode=d):o.memoizedState=ST(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Pt(o),r===null&&Ce&&(d=o.stateNode=TT(o.type,o.pendingProps,It.current),On=o,$s=!0,p=Qe,al(o.type)?(r_=p,Qe=Er(d.firstChild)):Qe=p),hi(r,o,o.pendingProps.children,c),gm(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ce&&((p=d=Qe)&&(d=cD(d,o.type,o.pendingProps,$s),d!==null?(o.stateNode=d,On=o,Qe=Er(d.firstChild),$s=!1,p=!0):p=!1),p||yr(o)),Pt(o),p=o.type,v=o.pendingProps,A=r!==null?r.memoizedProps:null,d=v.children,e_(p,v)?d=null:A!==null&&e_(p,A)&&(o.flags|=32),o.memoizedState!==null&&(p=Xi(r,o,Ve,null,null,c),vd._currentValue=p),gm(r,o),hi(r,o,d,c),o.child;case 6:return r===null&&Ce&&((r=c=Qe)&&(c=uD(c,o.pendingProps,$s),c!==null?(o.stateNode=c,On=o,Qe=null,r=!0):r=!1),r||yr(o)),null;case 13:return _E(r,o,c);case 4:return it(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=pu(o,null,d,c):hi(r,o,d,c),o.child;case 11:return uE(r,o,o.type,o.pendingProps,c);case 7:return hi(r,o,o.pendingProps,c),o.child;case 8:return hi(r,o,o.pendingProps.children,c),o.child;case 12:return hi(r,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Wr(o,o.type,d.value),hi(r,o,d.children,c),o.child;case 9:return p=o.type._context,d=o.pendingProps.children,Ka(o),p=zn(p),d=d(p),o.flags|=1,hi(r,o,d,c),o.child;case 14:return hE(r,o,o.type,o.pendingProps,c);case 15:return dE(r,o,o.type,o.pendingProps,c);case 19:return bE(r,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},r===null?(c=ym(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=mr(r.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return fE(r,o,c);case 24:return Ka(o),d=zn(pn),r===null?(p=zh(),p===null&&(p=Ze,v=dc(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=c),p=v),o.memoizedState={parent:d,cache:p},J(o),Wr(o,pn,p)):((r.lanes&c)!==0&&(ct(r,o),Ht(o,null,null,c),ne()),p=r.memoizedState,v=o.memoizedState,p.parent!==d?(p={parent:d,cache:d},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Wr(o,pn,d)):(d=v.cache,Wr(o,pn,d),d!==p.cache&&Vh(o,[pn],c,!0))),hi(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function eo(r){r.flags|=4}function TE(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!NT(o)){if(o=Gs.current,o!==null&&((Se&4194048)===Se?Zr!==null:(Se&62914560)!==Se&&(Se&536870912)===0||o!==Zr))throw y=Hh,fc;r.flags|=8192}}function _m(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?ql():536870912,r.lanes|=o,vu|=o)}function sd(r,o){if(!Ce)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function ln(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(o)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=c,o}function jN(r,o,c){var d=o.pendingProps;switch(Mh(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return ln(o),null;case 3:return c=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),vr(pn),ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(lc(o)?eo(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Go())),ln(o),null;case 26:return c=o.memoizedState,r===null?(eo(o),c!==null?(ln(o),TE(o,c)):(ln(o),o.flags&=-16777217)):c?c!==r.memoizedState?(eo(o),ln(o),TE(o,c)):(ln(o),o.flags&=-16777217):(r.memoizedProps!==d&&eo(o),ln(o),o.flags&=-16777217),null;case 27:te(o),c=It.current;var p=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&eo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ln(o),null}r=xt.current,lc(o)?Ph(o):(r=TT(p,d,c),o.stateNode=r,eo(o))}return ln(o),null;case 5:if(te(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&eo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ln(o),null}if(r=xt.current,lc(o))Ph(o);else{switch(p=Dm(It.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}r[yn]=o,r[fn]=d;t:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break t;for(;p.sibling===null;){if(p.return===null||p.return===o)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=r;t:switch(fi(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&eo(o)}}return ln(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&eo(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=It.current,lc(o)){if(r=o.stateNode,c=o.memoizedProps,d=null,p=On,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}r[yn]=o,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||pT(r.nodeValue,c)),r||yr(o)}else r=Dm(r).createTextNode(d),r[yn]=o,o.stateNode=r}return ln(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=lc(o),d!==null&&d.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[yn]=o}else cc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ln(o),p=!1}else p=Go(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Ja(o),o):(Ja(o),null)}if(Ja(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=o.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),_m(o,o.updateQueue),ln(o),null;case 4:return ht(),r===null&&Xy(o.stateNode.containerInfo),ln(o),null;case 10:return vr(o.type),ln(o),null;case 19:if(Tt(Gn),p=o.memoizedState,p===null)return ln(o),null;if(d=(o.flags&128)!==0,v=p.rendering,v===null)if(d)sd(p,!1);else{if(gn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=fm(r),v!==null){for(o.flags|=128,sd(p,!1),r=v.updateQueue,o.updateQueue=r,_m(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)Yf(c,r),c=c.sibling;return gt(Gn,Gn.current&1|2),o.child}r=r.sibling}p.tail!==null&&se()>Em&&(o.flags|=128,d=!0,sd(p,!1),o.lanes=4194304)}else{if(!d)if(r=fm(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,_m(o,r),sd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ce)return ln(o),null}else 2*se()-p.renderingStartTime>Em&&c!==536870912&&(o.flags|=128,d=!0,sd(p,!1),o.lanes=4194304);p.isBackwards?(v.sibling=o.child,o.child=v):(r=p.last,r!==null?r.sibling=v:o.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=se(),o.sibling=null,r=Gn.current,gt(Gn,d?r&1|2:r&1),o):(ln(o),null);case 22:case 23:return Ja(o),Te(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),c=o.updateQueue,c!==null&&_m(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),r!==null&&Tt(Xa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),vr(pn),ln(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function LN(r,o){switch(Mh(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return vr(pn),ht(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return te(o),null;case 13:if(Ja(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));cc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Tt(Gn),null;case 4:return ht(),null;case 10:return vr(o.type),null;case 22:case 23:return Ja(o),Te(),r!==null&&Tt(Xa),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return vr(pn),null;case 25:return null;default:return null}}function xE(r,o){switch(Mh(o),o.tag){case 3:vr(pn),ht();break;case 26:case 27:case 5:te(o);break;case 4:ht();break;case 13:Ja(o);break;case 19:Tt(Gn);break;case 10:vr(o.type);break;case 22:case 23:Ja(o),Te(),r!==null&&Tt(Xa);break;case 24:vr(pn)}}function rd(r,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&r)===r){d=void 0;var v=c.create,A=c.inst;d=v(),A.destroy=d}c=c.next}while(c!==p)}}catch(O){We(o,o.return,O)}}function Zo(r,o,c){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&r)===r){var A=d.inst,O=A.destroy;if(O!==void 0){A.destroy=void 0,p=o;var q=c,st=O;try{st()}catch(dt){We(p,q,dt)}}}d=d.next}while(d!==v)}}catch(dt){We(o,o.return,dt)}}function wE(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{Yt(o,c)}catch(d){We(r,r.return,d)}}}function SE(r,o,c){c.props=pc(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){We(r,o,d)}}function ad(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(p){We(r,o,p)}}function Jr(r,o){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){We(r,o,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){We(r,o,p)}else c.current=null}function AE(r){var o=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){We(r,r.return,p)}}function Ay(r,o,c){try{var d=r.stateNode;sD(d,r.type,c,o),d[fn]=o}catch(p){We(r,r.return,p)}}function CE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&al(r.type)||r.tag===4}function Cy(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||CE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&al(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ry(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Nm));else if(d!==4&&(d===27&&al(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(Ry(r,o,c),r=r.sibling;r!==null;)Ry(r,o,c),r=r.sibling}function vm(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(d!==4&&(d===27&&al(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(vm(r,o,c),r=r.sibling;r!==null;)vm(r,o,c),r=r.sibling}function RE(r){var o=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);fi(o,d,c),o[yn]=r,o[fn]=c}catch(v){We(r,r.return,v)}}var no=!1,Sn=!1,Iy=!1,IE=typeof WeakSet=="function"?WeakSet:Set,ti=null;function VN(r,o){if(r=r.containerInfo,Jy=Lm,r=Eh(r),tu(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var A=0,O=-1,q=-1,st=0,dt=0,yt=r,rt=null;e:for(;;){for(var at;yt!==c||p!==0&&yt.nodeType!==3||(O=A+p),yt!==v||d!==0&&yt.nodeType!==3||(q=A+d),yt.nodeType===3&&(A+=yt.nodeValue.length),(at=yt.firstChild)!==null;)rt=yt,yt=at;for(;;){if(yt===r)break e;if(rt===c&&++st===p&&(O=A),rt===v&&++dt===d&&(q=A),(at=yt.nextSibling)!==null)break;yt=rt,rt=yt.parentNode}yt=at}c=O===-1||q===-1?null:{start:O,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(t_={focusedElem:r,selectionRange:c},Lm=!1,ti=o;ti!==null;)if(o=ti,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,ti=r;else for(;ti!==null;){switch(o=ti,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,p=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var ee=pc(c.type,p,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(ee,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Gt){We(c,c.return,Gt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)i_(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":i_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,ti=r;break}ti=o.return}}function NE(r,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Jo(r,c),d&4&&rd(5,c);break;case 1:if(Jo(r,c),d&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(A){We(c,c.return,A)}else{var p=pc(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(p,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){We(c,c.return,A)}}d&64&&wE(c),d&512&&ad(c,c.return);break;case 3:if(Jo(r,c),d&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Yt(r,o)}catch(A){We(c,c.return,A)}}break;case 27:o===null&&d&4&&RE(c);case 26:case 5:Jo(r,c),o===null&&d&4&&AE(c),d&512&&ad(c,c.return);break;case 12:Jo(r,c);break;case 13:Jo(r,c),d&4&&OE(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=KN.bind(null,c),hD(r,c))));break;case 22:if(d=c.memoizedState!==null||no,!d){o=o!==null&&o.memoizedState!==null||Sn,p=no;var v=Sn;no=d,(Sn=o)&&!v?tl(r,c,(c.subtreeFlags&8772)!==0):Jo(r,c),no=p,Sn=v}break;case 30:break;default:Jo(r,c)}}function DE(r){var o=r.alternate;o!==null&&(r.alternate=null,DE(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&jr(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rn=null,Qi=!1;function io(r,o,c){for(c=c.child;c!==null;)kE(r,o,c),c=c.sibling}function kE(r,o,c){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Je,c)}catch{}switch(c.tag){case 26:Sn||Jr(c,o),io(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Sn||Jr(c,o);var d=rn,p=Qi;al(c.type)&&(rn=c.stateNode,Qi=!1),io(r,o,c),pd(c.stateNode),rn=d,Qi=p;break;case 5:Sn||Jr(c,o);case 6:if(d=rn,p=Qi,rn=null,io(r,o,c),rn=d,Qi=p,rn!==null)if(Qi)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(c.stateNode)}catch(v){We(c,o,v)}else try{rn.removeChild(c.stateNode)}catch(v){We(c,o,v)}break;case 18:rn!==null&&(Qi?(r=rn,bT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),xd(r)):bT(rn,c.stateNode));break;case 4:d=rn,p=Qi,rn=c.stateNode.containerInfo,Qi=!0,io(r,o,c),rn=d,Qi=p;break;case 0:case 11:case 14:case 15:Sn||Zo(2,c,o),Sn||Zo(4,c,o),io(r,o,c);break;case 1:Sn||(Jr(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&SE(c,o,d)),io(r,o,c);break;case 21:io(r,o,c);break;case 22:Sn=(d=Sn)||c.memoizedState!==null,io(r,o,c),Sn=d;break;default:io(r,o,c)}}function OE(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{xd(r)}catch(c){We(o,o.return,c)}}function UN(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new IE),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new IE),o;default:throw Error(i(435,r.tag))}}function Ny(r,o){var c=UN(r);o.forEach(function(d){var p=WN.bind(null,r,d);c.has(d)||(c.add(d),d.then(p,p))})}function _s(r,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],v=r,A=o,O=A;t:for(;O!==null;){switch(O.tag){case 27:if(al(O.type)){rn=O.stateNode,Qi=!1;break t}break;case 5:rn=O.stateNode,Qi=!1;break t;case 3:case 4:rn=O.stateNode.containerInfo,Qi=!0;break t}O=O.return}if(rn===null)throw Error(i(160));kE(v,A,p),rn=null,Qi=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)ME(o,r),o=o.sibling}var br=null;function ME(r,o){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:_s(o,r),vs(r),d&4&&(Zo(3,r,r.return),rd(3,r),Zo(5,r,r.return));break;case 1:_s(o,r),vs(r),d&512&&(Sn||c===null||Jr(c,c.return)),d&64&&no&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=br;if(_s(o,r),vs(r),d&512&&(Sn||c===null||Jr(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,p=p.ownerDocument||p;e:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Is]||v[yn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),fi(v,d,c),v[yn]=r,de(v),d=v;break t;case"link":var A=RT("link","href",p).get(d+(c.href||""));if(A){for(var O=0;O<A.length;O++)if(v=A[O],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(O,1);break e}}v=p.createElement(d),fi(v,d,c),p.head.appendChild(v);break;case"meta":if(A=RT("meta","content",p).get(d+(c.content||""))){for(O=0;O<A.length;O++)if(v=A[O],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(O,1);break e}}v=p.createElement(d),fi(v,d,c),p.head.appendChild(v);break;default:throw Error(i(468,d))}v[yn]=r,de(v),d=v}r.stateNode=d}else IT(p,r.type,r.stateNode);else r.stateNode=CT(p,d,r.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?IT(p,r.type,r.stateNode):CT(p,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Ay(r,r.memoizedProps,c.memoizedProps)}break;case 27:_s(o,r),vs(r),d&512&&(Sn||c===null||Jr(c,c.return)),c!==null&&d&4&&Ay(r,r.memoizedProps,c.memoizedProps);break;case 5:if(_s(o,r),vs(r),d&512&&(Sn||c===null||Jr(c,c.return)),r.flags&32){p=r.stateNode;try{Un(p,"")}catch(at){We(r,r.return,at)}}d&4&&r.stateNode!=null&&(p=r.memoizedProps,Ay(r,p,c!==null?c.memoizedProps:p)),d&1024&&(Iy=!0);break;case 6:if(_s(o,r),vs(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(at){We(r,r.return,at)}}break;case 3:if(Mm=null,p=br,br=km(o.containerInfo),_s(o,r),br=p,vs(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{xd(o.containerInfo)}catch(at){We(r,r.return,at)}Iy&&(Iy=!1,PE(r));break;case 4:d=br,br=km(r.stateNode.containerInfo),_s(o,r),vs(r),br=d;break;case 12:_s(o,r),vs(r);break;case 13:_s(o,r),vs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(jy=se()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Ny(r,d)));break;case 22:p=r.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,st=no,dt=Sn;if(no=st||p,Sn=dt||q,_s(o,r),Sn=dt,no=st,vs(r),d&8192)t:for(o=r.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(c===null||q||no||Sn||gc(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){q=c=o;try{if(v=q.stateNode,p)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{O=q.stateNode;var yt=q.memoizedProps.style,rt=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;O.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(at){We(q,q.return,at)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(at){We(q,q.return,at)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Ny(r,c))));break;case 19:_s(o,r),vs(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Ny(r,d)));break;case 30:break;case 21:break;default:_s(o,r),vs(r)}}function vs(r){var o=r.flags;if(o&2){try{for(var c,d=r.return;d!==null;){if(CE(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var p=c.stateNode,v=Cy(r);vm(r,v,p);break;case 5:var A=c.stateNode;c.flags&32&&(Un(A,""),c.flags&=-33);var O=Cy(r);vm(r,O,A);break;case 3:case 4:var q=c.stateNode.containerInfo,st=Cy(r);Ry(r,st,q);break;default:throw Error(i(161))}}catch(dt){We(r,r.return,dt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function PE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;PE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Jo(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)NE(r,o.alternate,o),o=o.sibling}function gc(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Zo(4,o,o.return),gc(o);break;case 1:Jr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&SE(o,o.return,c),gc(o);break;case 27:pd(o.stateNode);case 26:case 5:Jr(o,o.return),gc(o);break;case 22:o.memoizedState===null&&gc(o);break;case 30:gc(o);break;default:gc(o)}r=r.sibling}}function tl(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,p=r,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:tl(p,v,c),rd(4,v);break;case 1:if(tl(p,v,c),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(st){We(d,d.return,st)}if(d=v,p=d.updateQueue,p!==null){var O=d.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)ie(q[p],O)}catch(st){We(d,d.return,st)}}c&&A&64&&wE(v),ad(v,v.return);break;case 27:RE(v);case 26:case 5:tl(p,v,c),c&&d===null&&A&4&&AE(v),ad(v,v.return);break;case 12:tl(p,v,c);break;case 13:tl(p,v,c),c&&A&4&&OE(p,v);break;case 22:v.memoizedState===null&&tl(p,v,c),ad(v,v.return);break;case 30:break;default:tl(p,v,c)}o=o.sibling}}function Dy(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Wo(c))}function ky(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Wo(r))}function ta(r,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)jE(r,o,c,d),o=o.sibling}function jE(r,o,c,d){var p=o.flags;switch(o.tag){case 0:case 11:case 15:ta(r,o,c,d),p&2048&&rd(9,o);break;case 1:ta(r,o,c,d);break;case 3:ta(r,o,c,d),p&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Wo(r)));break;case 12:if(p&2048){ta(r,o,c,d),r=o.stateNode;try{var v=o.memoizedProps,A=v.id,O=v.onPostCommit;typeof O=="function"&&O(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){We(o,o.return,q)}}else ta(r,o,c,d);break;case 13:ta(r,o,c,d);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?ta(r,o,c,d):od(r,o):v._visibility&2?ta(r,o,c,d):(v._visibility|=2,gu(r,o,c,d,(o.subtreeFlags&10256)!==0)),p&2048&&Dy(A,o);break;case 24:ta(r,o,c,d),p&2048&&ky(o.alternate,o);break;default:ta(r,o,c,d)}}function gu(r,o,c,d,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,A=o,O=c,q=d,st=A.flags;switch(A.tag){case 0:case 11:case 15:gu(v,A,O,q,p),rd(8,A);break;case 23:break;case 22:var dt=A.stateNode;A.memoizedState!==null?dt._visibility&2?gu(v,A,O,q,p):od(v,A):(dt._visibility|=2,gu(v,A,O,q,p)),p&&st&2048&&Dy(A.alternate,A);break;case 24:gu(v,A,O,q,p),p&&st&2048&&ky(A.alternate,A);break;default:gu(v,A,O,q,p)}o=o.sibling}}function od(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,d=o,p=d.flags;switch(d.tag){case 22:od(c,d),p&2048&&Dy(d.alternate,d);break;case 24:od(c,d),p&2048&&ky(d.alternate,d);break;default:od(c,d)}o=o.sibling}}var ld=8192;function yu(r){if(r.subtreeFlags&ld)for(r=r.child;r!==null;)LE(r),r=r.sibling}function LE(r){switch(r.tag){case 26:yu(r),r.flags&ld&&r.memoizedState!==null&&wD(br,r.memoizedState,r.memoizedProps);break;case 5:yu(r);break;case 3:case 4:var o=br;br=km(r.stateNode.containerInfo),yu(r),br=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ld,ld=16777216,yu(r),ld=o):yu(r));break;default:yu(r)}}function VE(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function cd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];ti=d,FE(d,r)}VE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)UE(r),r=r.sibling}function UE(r){switch(r.tag){case 0:case 11:case 15:cd(r),r.flags&2048&&Zo(9,r,r.return);break;case 3:cd(r);break;case 12:cd(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,bm(r)):cd(r);break;default:cd(r)}}function bm(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];ti=d,FE(d,r)}VE(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Zo(8,o,o.return),bm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,bm(o));break;default:bm(o)}r=r.sibling}}function FE(r,o){for(;ti!==null;){var c=ti;switch(c.tag){case 0:case 11:case 15:Zo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Wo(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,ti=d;else t:for(c=r;ti!==null;){d=ti;var p=d.sibling,v=d.return;if(DE(d),d===c){ti=null;break t}if(p!==null){p.return=v,ti=p;break t}ti=v}}}var FN={getCacheForType:function(r){var o=zn(pn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},BN=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ze=null,fe=null,Se=0,Fe=0,bs=null,el=!1,_u=!1,Oy=!1,so=0,gn=0,nl=0,yc=0,My=0,Ks=0,vu=0,ud=null,Zi=null,Py=!1,jy=0,Em=1/0,Tm=null,il=null,di=0,sl=null,bu=null,Eu=0,Ly=0,Vy=null,BE=null,hd=0,Uy=null;function Es(){if((Ue&2)!==0&&Se!==0)return Se&-Se;if(W.T!==null){var r=Ki;return r!==0?r:Gy()}return Pr()}function zE(){Ks===0&&(Ks=(Se&536870912)===0||Ce?$l():536870912);var r=Gs.current;return r!==null&&(r.flags|=32),Ks}function Ts(r,o,c){(r===Ze&&(Fe===2||Fe===9)||r.cancelPendingCommit!==null)&&(Tu(r,0),rl(r,Se,Ks,!1)),Fi(r,c),((Ue&2)===0||r!==Ze)&&(r===Ze&&((Ue&2)===0&&(yc|=c),gn===4&&rl(r,Se,Ks,!1)),ea(r))}function HE(r,o,c){if((Ue&6)!==0)throw Error(i(327));var d=!c&&(o&124)===0&&(o&r.expiredLanes)===0||wa(r,o),p=d?$N(r,o):zy(r,o,!0),v=d;do{if(p===0){_u&&!d&&rl(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!zN(c)){p=zy(r,o,!1),v=!1;continue}if(p===2){if(v=o,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var O=r;p=ud;var q=O.current.memoizedState.isDehydrated;if(q&&(Tu(O,A).flags|=256),A=zy(O,A,!1),A!==2){if(Oy&&!q){O.errorRecoveryDisabledLanes|=v,yc|=v,p=4;break t}v=Zi,Zi=p,v!==null&&(Zi===null?Zi=v:Zi.push.apply(Zi,v))}p=A}if(v=!1,p!==2)continue}}if(p===1){Tu(r,0),rl(r,o,0,!0);break}t:{switch(d=r,v=p,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:rl(d,o,Ks,!el);break t;case 2:Zi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(p=jy+300-se(),10<p)){if(rl(d,o,Ks,!el),Co(d,0,!0)!==0)break t;d.timeoutHandle=_T($E.bind(null,d,c,Zi,Tm,Py,o,Ks,yc,vu,el,v,2,-0,0),p);break t}$E(d,c,Zi,Tm,Py,o,Ks,yc,vu,el,v,0,-0,0)}}break}while(!0);ea(r)}function $E(r,o,c,d,p,v,A,O,q,st,dt,yt,rt,at){if(r.timeoutHandle=-1,yt=o.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(_d={stylesheets:null,count:0,unsuspend:xD},LE(o),yt=SD(),yt!==null)){r.cancelPendingCommit=yt(QE.bind(null,r,o,v,c,d,p,A,O,q,dt,1,rt,at)),rl(r,v,A,!st);return}QE(r,o,v,c,d,p,A,O,q)}function zN(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],v=p.getSnapshot;p=p.value;try{if(!_i(v(),p))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rl(r,o,c,d){o&=~My,o&=~yc,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var p=o;0<p;){var v=31-dn(p),A=1<<v;d[v]=-1,p&=~A}c!==0&&os(r,c,o)}function xm(){return(Ue&6)===0?(dd(0),!1):!0}function Fy(){if(fe!==null){if(Fe===0)var r=fe.return;else r=fe,_r=Ga=null,qs(r),mu=null,nd=0,r=fe;for(;r!==null;)xE(r.alternate,r),r=r.return;fe=null}}function Tu(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,aD(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Fy(),Ze=r,fe=c=mr(r.current,null),Se=o,Fe=0,bs=null,el=!1,_u=wa(r,o),Oy=!1,vu=Ks=My=yc=nl=gn=0,Zi=ud=null,Py=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var p=31-dn(d),v=1<<p;o|=r[p],d&=~v}return so=o,eu(),c}function qE(r,o){Ot=null,W.H=um,o===Yo||o===Qa?(o=x(),Fe=3):o===fc?(o=x(),Fe=4):Fe=o===cE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,bs=o,fe===null&&(gn=1,pm(r,ji(o,r.current)))}function GE(){var r=W.H;return W.H=um,r===null?um:r}function KE(){var r=W.A;return W.A=FN,r}function By(){gn=4,el||(Se&4194048)!==Se&&Gs.current!==null||(_u=!0),(nl&134217727)===0&&(yc&134217727)===0||Ze===null||rl(Ze,Se,Ks,!1)}function zy(r,o,c){var d=Ue;Ue|=2;var p=GE(),v=KE();(Ze!==r||Se!==o)&&(Tm=null,Tu(r,o)),o=!1;var A=gn;t:do try{if(Fe!==0&&fe!==null){var O=fe,q=bs;switch(Fe){case 8:Fy(),A=6;break t;case 3:case 2:case 9:case 6:Gs.current===null&&(o=!0);var st=Fe;if(Fe=0,bs=null,xu(r,O,q,st),c&&_u){A=0;break t}break;default:st=Fe,Fe=0,bs=null,xu(r,O,q,st)}}HN(),A=gn;break}catch(dt){qE(r,dt)}while(!0);return o&&r.shellSuspendCounter++,_r=Ga=null,Ue=d,W.H=p,W.A=v,fe===null&&(Ze=null,Se=0,eu()),A}function HN(){for(;fe!==null;)WE(fe)}function $N(r,o){var c=Ue;Ue|=2;var d=GE(),p=KE();Ze!==r||Se!==o?(Tm=null,Em=se()+500,Tu(r,o)):_u=wa(r,o);t:do try{if(Fe!==0&&fe!==null){o=fe;var v=bs;e:switch(Fe){case 1:Fe=0,bs=null,xu(r,o,v,1);break;case 2:case 9:if(nm(v)){Fe=0,bs=null,YE(o);break}o=function(){Fe!==2&&Fe!==9||Ze!==r||(Fe=7),ea(r)},v.then(o,o);break t;case 3:Fe=7;break t;case 4:Fe=5;break t;case 7:nm(v)?(Fe=0,bs=null,YE(o)):(Fe=0,bs=null,xu(r,o,v,7));break;case 5:var A=null;switch(fe.tag){case 26:A=fe.memoizedState;case 5:case 27:var O=fe;if(!A||NT(A)){Fe=0,bs=null;var q=O.sibling;if(q!==null)fe=q;else{var st=O.return;st!==null?(fe=st,wm(st)):fe=null}break e}}Fe=0,bs=null,xu(r,o,v,5);break;case 6:Fe=0,bs=null,xu(r,o,v,6);break;case 8:Fy(),gn=6;break t;default:throw Error(i(462))}}qN();break}catch(dt){qE(r,dt)}while(!0);return _r=Ga=null,W.H=d,W.A=p,Ue=c,fe!==null?0:(Ze=null,Se=0,eu(),gn)}function qN(){for(;fe!==null&&!Dt();)WE(fe)}function WE(r){var o=EE(r.alternate,r,so);r.memoizedProps=r.pendingProps,o===null?wm(r):fe=o}function YE(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=pE(c,o,o.pendingProps,o.type,void 0,Se);break;case 11:o=pE(c,o,o.pendingProps,o.type.render,o.ref,Se);break;case 5:qs(o);default:xE(c,o),o=fe=Yf(o,so),o=EE(c,o,so)}r.memoizedProps=r.pendingProps,o===null?wm(r):fe=o}function xu(r,o,c,d){_r=Ga=null,qs(o),mu=null,nd=0;var p=o.return;try{if(MN(r,p,o,c,Se)){gn=1,pm(r,ji(c,r.current)),fe=null;return}}catch(v){if(p!==null)throw fe=p,v;gn=1,pm(r,ji(c,r.current)),fe=null;return}o.flags&32768?(Ce||d===1?r=!0:_u||(Se&536870912)!==0?r=!1:(el=r=!0,(d===2||d===9||d===3||d===6)&&(d=Gs.current,d!==null&&d.tag===13&&(d.flags|=16384))),XE(o,r)):wm(o)}function wm(r){var o=r;do{if((o.flags&32768)!==0){XE(o,el);return}r=o.return;var c=jN(o.alternate,o,so);if(c!==null){fe=c;return}if(o=o.sibling,o!==null){fe=o;return}fe=o=r}while(o!==null);gn===0&&(gn=5)}function XE(r,o){do{var c=LN(r.alternate,r);if(c!==null){c.flags&=32767,fe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){fe=r;return}fe=r=c}while(r!==null);gn=6,fe=null}function QE(r,o,c,d,p,v,A,O,q){r.cancelPendingCommit=null;do Sm();while(di!==0);if((Ue&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Rh,Ro(r,c,v,A,O,q),r===Ze&&(fe=Ze=null,Se=0),bu=o,sl=r,Eu=c,Ly=v,Vy=p,BE=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,YN(sr,function(){return nT(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,p=ot.p,ot.p=2,A=Ue,Ue|=4;try{VN(r,o,c)}finally{Ue=A,ot.p=p,W.T=d}}di=1,ZE(),JE(),tT()}}function ZE(){if(di===1){di=0;var r=sl,o=bu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var d=ot.p;ot.p=2;var p=Ue;Ue|=4;try{ME(o,r);var v=t_,A=Eh(r.containerInfo),O=v.focusedElem,q=v.selectionRange;if(A!==O&&O&&O.ownerDocument&&Hf(O.ownerDocument.documentElement,O)){if(q!==null&&tu(O)){var st=q.start,dt=q.end;if(dt===void 0&&(dt=st),"selectionStart"in O)O.selectionStart=st,O.selectionEnd=Math.min(dt,O.value.length);else{var yt=O.ownerDocument||document,rt=yt&&yt.defaultView||window;if(rt.getSelection){var at=rt.getSelection(),ee=O.textContent.length,Gt=Math.min(q.start,ee),Ge=q.end===void 0?Gt:Math.min(q.end,ee);!at.extend&&Gt>Ge&&(A=Ge,Ge=Gt,Gt=A);var tt=zf(O,Gt),X=zf(O,Ge);if(tt&&X&&(at.rangeCount!==1||at.anchorNode!==tt.node||at.anchorOffset!==tt.offset||at.focusNode!==X.node||at.focusOffset!==X.offset)){var nt=yt.createRange();nt.setStart(tt.node,tt.offset),at.removeAllRanges(),Gt>Ge?(at.addRange(nt),at.extend(X.node,X.offset)):(nt.setEnd(X.node,X.offset),at.addRange(nt))}}}}for(yt=[],at=O;at=at.parentNode;)at.nodeType===1&&yt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<yt.length;O++){var pt=yt[O];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}Lm=!!Jy,t_=Jy=null}finally{Ue=p,ot.p=d,W.T=c}}r.current=o,di=2}}function JE(){if(di===2){di=0;var r=sl,o=bu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var d=ot.p;ot.p=2;var p=Ue;Ue|=4;try{NE(r,o.alternate,o)}finally{Ue=p,ot.p=d,W.T=c}}di=3}}function tT(){if(di===4||di===3){di=0,Kt();var r=sl,o=bu,c=Eu,d=BE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?di=5:(di=0,bu=sl=null,eT(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(il=null),Io(c),o=o.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Je,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=W.T,p=ot.p,ot.p=2,W.T=null;try{for(var v=r.onRecoverableError,A=0;A<d.length;A++){var O=d[A];v(O.value,{componentStack:O.stack})}}finally{W.T=o,ot.p=p}}(Eu&3)!==0&&Sm(),ea(r),p=r.pendingLanes,(c&4194090)!==0&&(p&42)!==0?r===Uy?hd++:(hd=0,Uy=r):hd=0,dd(0)}}function eT(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Wo(o)))}function Sm(r){return ZE(),JE(),tT(),nT()}function nT(){if(di!==5)return!1;var r=sl,o=Ly;Ly=0;var c=Io(Eu),d=W.T,p=ot.p;try{ot.p=32>c?32:c,W.T=null,c=Vy,Vy=null;var v=sl,A=Eu;if(di=0,bu=sl=null,Eu=0,(Ue&6)!==0)throw Error(i(331));var O=Ue;if(Ue|=4,UE(v.current),jE(v,v.current,A,c),Ue=O,dd(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Je,v)}catch{}return!0}finally{ot.p=p,W.T=d,eT(r,o)}}function iT(r,o,c){o=ji(c,o),o=yy(r.stateNode,o,2),r=At(r,o,2),r!==null&&(Fi(r,2),ea(r))}function We(r,o,c){if(r.tag===3)iT(r,r,c);else for(;o!==null;){if(o.tag===3){iT(o,r,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(il===null||!il.has(d))){r=ji(c,r),c=oE(2),d=At(o,c,2),d!==null&&(lE(c,d,o,r),Fi(d,2),ea(d));break}}o=o.return}}function Hy(r,o,c){var d=r.pingCache;if(d===null){d=r.pingCache=new BN;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(c)||(Oy=!0,p.add(c),r=GN.bind(null,r,o,c),o.then(r,r))}function GN(r,o,c){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Ze===r&&(Se&c)===c&&(gn===4||gn===3&&(Se&62914560)===Se&&300>se()-jy?(Ue&2)===0&&Tu(r,0):My|=c,vu===Se&&(vu=0)),ea(r)}function sT(r,o){o===0&&(o=ql()),r=vi(r,o),r!==null&&(Fi(r,o),ea(r))}function KN(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),sT(r,c)}function WN(r,o){var c=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),sT(r,c)}function YN(r,o){return St(r,o)}var Am=null,wu=null,$y=!1,Cm=!1,qy=!1,_c=0;function ea(r){r!==wu&&r.next===null&&(wu===null?Am=wu=r:wu=wu.next=r),Cm=!0,$y||($y=!0,QN())}function dd(r,o){if(!qy&&Cm){qy=!0;do for(var c=!1,d=Am;d!==null;){if(r!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var A=d.suspendedLanes,O=d.pingedLanes;v=(1<<31-dn(42|r)+1)-1,v&=p&~(A&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,lT(d,v))}else v=Se,v=Co(d,d===Ze?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||wa(d,v)||(c=!0,lT(d,v));d=d.next}while(c);qy=!1}}function XN(){rT()}function rT(){Cm=$y=!1;var r=0;_c!==0&&(rD()&&(r=_c),_c=0);for(var o=se(),c=null,d=Am;d!==null;){var p=d.next,v=aT(d,o);v===0?(d.next=null,c===null?Am=p:c.next=p,p===null&&(wu=c)):(c=d,(r!==0||(v&3)!==0)&&(Cm=!0)),d=p}dd(r)}function aT(r,o){for(var c=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-dn(v),O=1<<A,q=p[A];q===-1?((O&c)===0||(O&d)!==0)&&(p[A]=Hl(O,o)):q<=o&&(r.expiredLanes|=O),v&=~O}if(o=Ze,c=Se,c=Co(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===o&&(Fe===2||Fe===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ct(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||wa(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(d!==null&&Ct(d),Io(c)){case 2:case 8:c=Dr;break;case 32:c=sr;break;case 268435456:c=Ao;break;default:c=sr}return d=oT.bind(null,r),c=St(c,d),r.callbackPriority=o,r.callbackNode=c,o}return d!==null&&d!==null&&Ct(d),r.callbackPriority=2,r.callbackNode=null,2}function oT(r,o){if(di!==0&&di!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Sm()&&r.callbackNode!==c)return null;var d=Se;return d=Co(r,r===Ze?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(HE(r,d,o),aT(r,se()),r.callbackNode!=null&&r.callbackNode===c?oT.bind(null,r):null)}function lT(r,o){if(Sm())return null;HE(r,o,!0)}function QN(){oD(function(){(Ue&6)!==0?St(ri,XN):rT()})}function Gy(){return _c===0&&(_c=$l()),_c}function cT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mo(""+r)}function uT(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function ZN(r,o,c,d,p){if(o==="submit"&&c&&c.stateNode===p){var v=cT((p[fn]||null).action),A=d.submitter;A&&(o=(o=A[fn]||null)?cT(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var O=new Vr("action","action",null,d,p);r.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_c!==0){var q=A?uT(p,A):new FormData(p);dy(c,{pending:!0,data:q,method:p.method,action:v},null,q)}}else typeof v=="function"&&(O.preventDefault(),q=A?uT(p,A):new FormData(p),dy(c,{pending:!0,data:q,method:p.method,action:v},v,q))},currentTarget:p}]})}}for(var Ky=0;Ky<Ch.length;Ky++){var Wy=Ch[Ky],JN=Wy.toLowerCase(),tD=Wy[0].toUpperCase()+Wy.slice(1);ps(JN,"on"+tD)}ps($r,"onAnimationEnd"),ps(Hs,"onAnimationIteration"),ps(wh,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(ay,"onTransitionRun"),ps(Gf,"onTransitionStart"),ps(Kf,"onTransitionCancel"),ps(Sh,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function hT(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],p=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var A=d.length-1;0<=A;A--){var O=d[A],q=O.instance,st=O.currentTarget;if(O=O.listener,q!==v&&p.isPropagationStopped())break t;v=O,p.currentTarget=st;try{v(p)}catch(dt){mm(dt)}p.currentTarget=null,v=q}else for(A=0;A<d.length;A++){if(O=d[A],q=O.instance,st=O.currentTarget,O=O.listener,q!==v&&p.isPropagationStopped())break t;v=O,p.currentTarget=st;try{v(p)}catch(dt){mm(dt)}p.currentTarget=null,v=q}}}}function me(r,o){var c=o[Kl];c===void 0&&(c=o[Kl]=new Set);var d=r+"__bubble";c.has(d)||(dT(o,r,2,!1),c.add(d))}function Yy(r,o,c){var d=0;o&&(d|=4),dT(c,r,d,o)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function Xy(r){if(!r[Rm]){r[Rm]=!0,Vn.forEach(function(c){c!=="selectionchange"&&(eD.has(c)||Yy(c,!1,r),Yy(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Rm]||(o[Rm]=!0,Yy("selectionchange",!1,o))}}function dT(r,o,c,d){switch(jT(o)){case 2:var p=RD;break;case 8:p=ID;break;default:p=u_}c=p.bind(null,o,c,r),p=void 0,!Fn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(o,c,{capture:!0,passive:p}):r.addEventListener(o,c,!0):p!==void 0?r.addEventListener(o,c,{passive:p}):r.addEventListener(o,c,!1)}function Qy(r,o,c,d,p){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var O=d.stateNode.containerInfo;if(O===p)break;if(A===4)for(A=d.return;A!==null;){var q=A.tag;if((q===3||q===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;O!==null;){if(A=ls(O),A===null)return;if(q=A.tag,q===5||q===6||q===26||q===27){d=v=A;continue t}O=O.parentNode}}d=d.return}Xl(function(){var st=v,dt=li(c),yt=[];t:{var rt=Ah.get(r);if(rt!==void 0){var at=Vr,ee=r;switch(r){case"keypress":if(Fs(c)===0)break t;case"keydown":case"keyup":at=Va;break;case"focusin":ee="focus",at=Oa;break;case"focusout":ee="blur",at=Oa;break;case"beforeblur":case"afterblur":at=Oa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Yc;break;case $r:case Hs:case wh:at=Ma;break;case Sh:at=Xc;break;case"scroll":case"scrollend":at=Zl;break;case"wheel":at=Vo;break;case"copy":case"cut":case"paste":at=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=ds;break;case"toggle":case"beforetoggle":at=sc}var Gt=(o&4)!==0,Ge=!Gt&&(r==="scroll"||r==="scrollend"),tt=Gt?rt!==null?rt+"Capture":null:rt;Gt=[];for(var X=st,nt;X!==null;){var pt=X;if(nt=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||nt===null||tt===null||(pt=Lr(X,tt),pt!=null&&Gt.push(md(X,pt,nt))),Ge)break;X=X.return}0<Gt.length&&(rt=new at(rt,ee,null,c,dt),yt.push({event:rt,listeners:Gt}))}}if((o&7)===0){t:{if(rt=r==="mouseover"||r==="pointerover",at=r==="mouseout"||r==="pointerout",rt&&c!==Zn&&(ee=c.relatedTarget||c.fromElement)&&(ls(ee)||ee[Bi]))break t;if((at||rt)&&(rt=dt.window===dt?dt:(rt=dt.ownerDocument)?rt.defaultView||rt.parentWindow:window,at?(ee=c.relatedTarget||c.toElement,at=st,ee=ee?ls(ee):null,ee!==null&&(Ge=a(ee),Gt=ee.tag,ee!==Ge||Gt!==5&&Gt!==27&&Gt!==6)&&(ee=null)):(at=null,ee=st),at!==ee)){if(Gt=Bn,pt="onMouseLeave",tt="onMouseEnter",X="mouse",(r==="pointerout"||r==="pointerover")&&(Gt=ds,pt="onPointerLeave",tt="onPointerEnter",X="pointer"),Ge=at==null?rt:Ds(at),nt=ee==null?rt:Ds(ee),rt=new Gt(pt,X+"leave",at,c,dt),rt.target=Ge,rt.relatedTarget=nt,pt=null,ls(dt)===st&&(Gt=new Gt(tt,X+"enter",ee,c,dt),Gt.target=nt,Gt.relatedTarget=Ge,pt=Gt),Ge=pt,at&&ee)e:{for(Gt=at,tt=ee,X=0,nt=Gt;nt;nt=Su(nt))X++;for(nt=0,pt=tt;pt;pt=Su(pt))nt++;for(;0<X-nt;)Gt=Su(Gt),X--;for(;0<nt-X;)tt=Su(tt),nt--;for(;X--;){if(Gt===tt||tt!==null&&Gt===tt.alternate)break e;Gt=Su(Gt),tt=Su(tt)}Gt=null}else Gt=null;at!==null&&fT(yt,rt,at,Gt,!1),ee!==null&&Ge!==null&&fT(yt,Ge,ee,Gt,!0)}}t:{if(rt=st?Ds(st):window,at=rt.nodeName&&rt.nodeName.toLowerCase(),at==="select"||at==="input"&&rt.type==="file")var Ut=jf;else if(bn(rt))if(_h)Ut=Bf;else{Ut=Uf;var he=sy}else at=rt.nodeName,!at||at.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?st&&Ia(st.elementType)&&(Ut=jf):Ut=Ff;if(Ut&&(Ut=Ut(r,st))){En(yt,Ut,c,dt);break t}he&&he(r,rt,st),r==="focusout"&&st&&rt.type==="number"&&st.memoizedProps.value!=null&&Ps(rt,"number",rt.value)}switch(he=st?Ds(st):window,r){case"focusin":(bn(he)||he.contentEditable==="true")&&(Bo=he,Th=st,ac=null);break;case"focusout":ac=Th=Bo=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,$f(yt,c,dt);break;case"selectionchange":if(ry)break;case"keydown":case"keyup":$f(yt,c,dt)}var zt;if(zs)t:{switch(r){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else ge?lt(r,c)&&(Wt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Wt="onCompositionStart");Wt&&(S&&c.locale!=="ko"&&(ge||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&ge&&(zt=ka()):(us=dt,Us="value"in us?us.value:us.textContent,ge=!0)),he=Im(st,Wt),0<he.length&&(Wt=new Jl(Wt,r,null,c,dt),yt.push({event:Wt,listeners:he}),zt?Wt.data=zt:(zt=Nt(c),zt!==null&&(Wt.data=zt)))),(zt=T?vn(r,c):ye(r,c))&&(Wt=Im(st,"onBeforeInput"),0<Wt.length&&(he=new Jl("onBeforeInput","beforeinput",null,c,dt),yt.push({event:he,listeners:Wt}),he.data=zt)),ZN(yt,r,st,c,dt)}hT(yt,o)})}function md(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Im(r,o){for(var c=o+"Capture",d=[];r!==null;){var p=r,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Lr(r,c),p!=null&&d.unshift(md(r,p,v)),p=Lr(r,o),p!=null&&d.push(md(r,p,v))),r.tag===3)return d;r=r.return}return[]}function Su(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function fT(r,o,c,d,p){for(var v=o._reactName,A=[];c!==null&&c!==d;){var O=c,q=O.alternate,st=O.stateNode;if(O=O.tag,q!==null&&q===d)break;O!==5&&O!==26&&O!==27||st===null||(q=st,p?(st=Lr(c,v),st!=null&&A.unshift(md(c,st,q))):p||(st=Lr(c,v),st!=null&&A.push(md(c,st,q)))),c=c.return}A.length!==0&&r.push({event:o,listeners:A})}var nD=/\r\n?/g,iD=/\u0000|\uFFFD/g;function mT(r){return(typeof r=="string"?r:""+r).replace(nD,`
`).replace(iD,"")}function pT(r,o){return o=mT(o),mT(r)===o}function Nm(){}function qe(r,o,c,d,p,v){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Un(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Un(r,""+d);break;case"className":ai(r,"class",d);break;case"tabIndex":ai(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(r,c,d);break;case"style":Ls(r,d,v);break;case"data":if(o!=="object"){ai(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Mo(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&qe(r,o,"name",p.name,p,null),qe(r,o,"formEncType",p.formEncType,p,null),qe(r,o,"formMethod",p.formMethod,p,null),qe(r,o,"formTarget",p.formTarget,p,null)):(qe(r,o,"encType",p.encType,p,null),qe(r,o,"method",p.method,p,null),qe(r,o,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Mo(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=Nm);break;case"onScroll":d!=null&&me("scroll",r);break;case"onScrollEnd":d!=null&&me("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=Mo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":me("beforetoggle",r),me("toggle",r),Os(r,"popover",d);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Os(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gc.get(c)||c,Os(r,c,d))}}function Zy(r,o,c,d,p,v){switch(c){case"style":Ls(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?Un(r,d):(typeof d=="number"||typeof d=="bigint")&&Un(r,""+d);break;case"onScroll":d!=null&&me("scroll",r);break;case"onScrollEnd":d!=null&&me("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Nm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rn.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),o=c.slice(2,p?c.length-7:void 0),v=r[fn]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,d,p);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):Os(r,c,d)}}}function fi(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",r),me("load",r);var d=!1,p=!1,v;for(v in c)if(c.hasOwnProperty(v)){var A=c[v];if(A!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:qe(r,o,v,A,c,null)}}p&&qe(r,o,"srcSet",c.srcSet,c,null),d&&qe(r,o,"src",c.src,c,null);return;case"input":me("invalid",r);var O=v=A=p=null,q=null,st=null;for(d in c)if(c.hasOwnProperty(d)){var dt=c[d];if(dt!=null)switch(d){case"name":p=dt;break;case"type":A=dt;break;case"checked":q=dt;break;case"defaultChecked":st=dt;break;case"value":v=dt;break;case"defaultValue":O=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,o));break;default:qe(r,o,d,dt,c,null)}}hr(r,v,O,q,st,A,p,!1),Ra(r);return;case"select":me("invalid",r),d=A=v=null;for(p in c)if(c.hasOwnProperty(p)&&(O=c[p],O!=null))switch(p){case"value":v=O;break;case"defaultValue":A=O;break;case"multiple":d=O;default:qe(r,o,p,O,c,null)}o=v,c=A,r.multiple=!!d,o!=null?Nn(r,!!d,o,!1):c!=null&&Nn(r,!!d,c,!0);return;case"textarea":me("invalid",r),v=p=d=null;for(A in c)if(c.hasOwnProperty(A)&&(O=c[A],O!=null))switch(A){case"value":d=O;break;case"defaultValue":p=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:qe(r,o,A,O,c,null)}js(r,d,p,v),Ra(r);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:qe(r,o,q,d,c,null)}return;case"dialog":me("beforetoggle",r),me("toggle",r),me("cancel",r),me("close",r);break;case"iframe":case"object":me("load",r);break;case"video":case"audio":for(d=0;d<fd.length;d++)me(fd[d],r);break;case"image":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"embed":case"source":case"link":me("error",r),me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in c)if(c.hasOwnProperty(st)&&(d=c[st],d!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:qe(r,o,st,d,c,null)}return;default:if(Ia(o)){for(dt in c)c.hasOwnProperty(dt)&&(d=c[dt],d!==void 0&&Zy(r,o,dt,d,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(d=c[O],d!=null&&qe(r,o,O,d,c,null))}function sD(r,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,A=null,O=null,q=null,st=null,dt=null;for(at in c){var yt=c[at];if(c.hasOwnProperty(at)&&yt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":q=yt;default:d.hasOwnProperty(at)||qe(r,o,at,null,d,yt)}}for(var rt in d){var at=d[rt];if(yt=c[rt],d.hasOwnProperty(rt)&&(at!=null||yt!=null))switch(rt){case"type":v=at;break;case"name":p=at;break;case"checked":st=at;break;case"defaultChecked":dt=at;break;case"value":A=at;break;case"defaultValue":O=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,o));break;default:at!==yt&&qe(r,o,rt,at,d,yt)}}Xe(r,A,O,q,st,dt,v,p);return;case"select":at=A=O=rt=null;for(v in c)if(q=c[v],c.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":at=q;default:d.hasOwnProperty(v)||qe(r,o,v,null,d,q)}for(p in d)if(v=d[p],q=c[p],d.hasOwnProperty(p)&&(v!=null||q!=null))switch(p){case"value":rt=v;break;case"defaultValue":O=v;break;case"multiple":A=v;default:v!==q&&qe(r,o,p,v,d,q)}o=O,c=A,d=at,rt!=null?Nn(r,!!c,rt,!1):!!d!=!!c&&(o!=null?Nn(r,!!c,o,!0):Nn(r,!!c,c?[]:"",!1));return;case"textarea":at=rt=null;for(O in c)if(p=c[O],c.hasOwnProperty(O)&&p!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:qe(r,o,O,null,d,p)}for(A in d)if(p=d[A],v=c[A],d.hasOwnProperty(A)&&(p!=null||v!=null))switch(A){case"value":rt=p;break;case"defaultValue":at=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==v&&qe(r,o,A,p,d,v)}pe(r,rt,at);return;case"option":for(var ee in c)if(rt=c[ee],c.hasOwnProperty(ee)&&rt!=null&&!d.hasOwnProperty(ee))switch(ee){case"selected":r.selected=!1;break;default:qe(r,o,ee,null,d,rt)}for(q in d)if(rt=d[q],at=c[q],d.hasOwnProperty(q)&&rt!==at&&(rt!=null||at!=null))switch(q){case"selected":r.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:qe(r,o,q,rt,d,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in c)rt=c[Gt],c.hasOwnProperty(Gt)&&rt!=null&&!d.hasOwnProperty(Gt)&&qe(r,o,Gt,null,d,rt);for(st in d)if(rt=d[st],at=c[st],d.hasOwnProperty(st)&&rt!==at&&(rt!=null||at!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,o));break;default:qe(r,o,st,rt,d,at)}return;default:if(Ia(o)){for(var Ge in c)rt=c[Ge],c.hasOwnProperty(Ge)&&rt!==void 0&&!d.hasOwnProperty(Ge)&&Zy(r,o,Ge,void 0,d,rt);for(dt in d)rt=d[dt],at=c[dt],!d.hasOwnProperty(dt)||rt===at||rt===void 0&&at===void 0||Zy(r,o,dt,rt,d,at);return}}for(var tt in c)rt=c[tt],c.hasOwnProperty(tt)&&rt!=null&&!d.hasOwnProperty(tt)&&qe(r,o,tt,null,d,rt);for(yt in d)rt=d[yt],at=c[yt],!d.hasOwnProperty(yt)||rt===at||rt==null&&at==null||qe(r,o,yt,rt,d,at)}var Jy=null,t_=null;function Dm(r){return r.nodeType===9?r:r.ownerDocument}function gT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function e_(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var n_=null;function rD(){var r=window.event;return r&&r.type==="popstate"?r===n_?!1:(n_=r,!0):(n_=null,!1)}var _T=typeof setTimeout=="function"?setTimeout:void 0,aD=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,oD=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(r){return vT.resolve(null).then(r).catch(lD)}:_T;function lD(r){setTimeout(function(){throw r})}function al(r){return r==="head"}function bT(r,o){var c=o,d=0,p=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var A=r.ownerDocument;if(c&1&&pd(A.documentElement),c&2&&pd(A.body),c&4)for(c=A.head,pd(c),A=c.firstChild;A;){var O=A.nextSibling,q=A.nodeName;A[Is]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=O}}if(p===0){r.removeChild(v),xd(o);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);xd(o)}function i_(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":i_(c),jr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function cD(r,o,c,d){for(;r.nodeType===1;){var p=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Is])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Er(r.nextSibling),r===null)break}return null}function uD(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Er(r.nextSibling),r===null))return null;return r}function s_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function hD(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Er(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var r_=null;function ET(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function TT(r,o,c){switch(o=Dm(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function pd(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);jr(r)}var Ws=new Map,xT=new Set;function km(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ro=ot.d;ot.d={f:dD,r:fD,D:mD,C:pD,L:gD,m:yD,X:vD,S:_D,M:bD};function dD(){var r=ro.f(),o=xm();return r||o}function fD(r){var o=Ns(r);o!==null&&o.tag===5&&o.type==="form"?H0(o):ro.r(r)}var Au=typeof document>"u"?null:document;function wT(r,o,c){var d=Au;if(d&&typeof o=="string"&&o){var p=He(o);p='link[rel="'+r+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),xT.has(p)||(xT.add(p),r={rel:r,crossOrigin:c,href:o},d.querySelector(p)===null&&(o=d.createElement("link"),fi(o,"link",r),de(o),d.head.appendChild(o)))}}function mD(r){ro.D(r),wT("dns-prefetch",r,null)}function pD(r,o){ro.C(r,o),wT("preconnect",r,o)}function gD(r,o,c){ro.L(r,o,c);var d=Au;if(d&&r&&o){var p='link[rel="preload"][as="'+He(o)+'"]';o==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+He(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+He(c.imageSizes)+'"]')):p+='[href="'+He(r)+'"]';var v=p;switch(o){case"style":v=Cu(r);break;case"script":v=Ru(r)}Ws.has(v)||(r=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Ws.set(v,r),d.querySelector(p)!==null||o==="style"&&d.querySelector(gd(v))||o==="script"&&d.querySelector(yd(v))||(o=d.createElement("link"),fi(o,"link",r),de(o),d.head.appendChild(o)))}}function yD(r,o){ro.m(r,o);var c=Au;if(c&&r){var d=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+He(d)+'"][href="'+He(r)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ru(r)}if(!Ws.has(v)&&(r=g({rel:"modulepreload",href:r},o),Ws.set(v,r),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(yd(v)))return}d=c.createElement("link"),fi(d,"link",r),de(d),c.head.appendChild(d)}}}function _D(r,o,c){ro.S(r,o,c);var d=Au;if(d&&r){var p=mn(d).hoistableStyles,v=Cu(r);o=o||"default";var A=p.get(v);if(!A){var O={loading:0,preload:null};if(A=d.querySelector(gd(v)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Ws.get(v))&&a_(r,c);var q=A=d.createElement("link");de(q),fi(q,"link",r),q._p=new Promise(function(st,dt){q.onload=st,q.onerror=dt}),q.addEventListener("load",function(){O.loading|=1}),q.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Om(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:O},p.set(v,A)}}}function vD(r,o){ro.X(r,o);var c=Au;if(c&&r){var d=mn(c).hoistableScripts,p=Ru(r),v=d.get(p);v||(v=c.querySelector(yd(p)),v||(r=g({src:r,async:!0},o),(o=Ws.get(p))&&o_(r,o),v=c.createElement("script"),de(v),fi(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function bD(r,o){ro.M(r,o);var c=Au;if(c&&r){var d=mn(c).hoistableScripts,p=Ru(r),v=d.get(p);v||(v=c.querySelector(yd(p)),v||(r=g({src:r,async:!0,type:"module"},o),(o=Ws.get(p))&&o_(r,o),v=c.createElement("script"),de(v),fi(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function ST(r,o,c,d){var p=(p=It.current)?km(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Cu(c.href),c=mn(p).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Cu(c.href);var v=mn(p).hoistableStyles,A=v.get(r);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=p.querySelector(gd(r)))&&!v._p&&(A.instance=v,A.state.loading=5),Ws.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ws.set(r,c),v||ED(p,r,c,A.state))),o&&d===null)throw Error(i(528,""));return A}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ru(c),c=mn(p).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Cu(r){return'href="'+He(r)+'"'}function gd(r){return'link[rel="stylesheet"]['+r+"]"}function AT(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function ED(r,o,c,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),fi(o,"link",c),de(o),r.head.appendChild(o))}function Ru(r){return'[src="'+He(r)+'"]'}function yd(r){return"script[async]"+r}function CT(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+He(c.href)+'"]');if(d)return o.instance=d,de(d),d;var p=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),de(d),fi(d,"style",p),Om(d,c.precedence,r),o.instance=d;case"stylesheet":p=Cu(c.href);var v=r.querySelector(gd(p));if(v)return o.state.loading|=4,o.instance=v,de(v),v;d=AT(c),(p=Ws.get(p))&&a_(d,p),v=(r.ownerDocument||r).createElement("link"),de(v);var A=v;return A._p=new Promise(function(O,q){A.onload=O,A.onerror=q}),fi(v,"link",d),o.state.loading|=4,Om(v,c.precedence,r),o.instance=v;case"script":return v=Ru(c.src),(p=r.querySelector(yd(v)))?(o.instance=p,de(p),p):(d=c,(p=Ws.get(v))&&(d=g({},c),o_(d,p)),r=r.ownerDocument||r,p=r.createElement("script"),de(p),fi(p,"link",d),r.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Om(d,c.precedence,r));return o.instance}function Om(r,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,A=0;A<d.length;A++){var O=d[A];if(O.dataset.precedence===o)v=O;else if(v!==p)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function a_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function o_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Mm=null;function RT(r,o,c){if(Mm===null){var d=new Map,p=Mm=new Map;p.set(c,d)}else p=Mm,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),p=0;p<c.length;p++){var v=c[p];if(!(v[Is]||v[yn]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=r+A;var O=d.get(A);O?O.push(v):d.set(A,[v])}}return d}function IT(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function TD(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function NT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var _d=null;function xD(){}function wD(r,o,c){if(_d===null)throw Error(i(475));var d=_d;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Cu(c.href),v=r.querySelector(gd(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Pm.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,de(v);return}v=r.ownerDocument||r,c=AT(c),(p=Ws.get(p))&&a_(c,p),v=v.createElement("link"),de(v);var A=v;A._p=new Promise(function(O,q){A.onload=O,A.onerror=q}),fi(v,"link",c),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Pm.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function SD(){if(_d===null)throw Error(i(475));var r=_d;return r.stylesheets&&r.count===0&&l_(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&l_(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Pm(){if(this.count--,this.count===0){if(this.stylesheets)l_(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var jm=null;function l_(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,jm=new Map,o.forEach(AD,r),jm=null,Pm.call(r))}function AD(r,o){if(!(o.state.loading&4)){var c=jm.get(r);if(c)var d=c.get(null);else{c=new Map,jm.set(r,c);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var A=p[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),d=A)}d&&c.set(null,d)}p=o.instance,A=p.getAttribute("data-precedence"),v=c.get(A)||d,v===d&&c.set(null,p),c.set(A,p),this.count++,d=Pm.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),o.state.loading|=4}}var vd={$$typeof:G,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function CD(r,o,c,d,p,v,A,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function DT(r,o,c,d,p,v,A,O,q,st,dt,yt){return r=new CD(r,o,c,A,O,q,st,yt),o=1,v===!0&&(o|=24),v=Vi(3,null,null,o),r.current=v,v.stateNode=r,o=dc(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:o},J(v),r}function kT(r){return r?(r=Ho,r):Ho}function OT(r,o,c,d,p,v){p=kT(p),d.context===null?d.context=p:d.pendingContext=p,d=mt(o),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=At(r,d,o),c!==null&&(Ts(c,r,o),Mt(c,r,o))}function MT(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function c_(r,o){MT(r,o),(r=r.alternate)&&MT(r,o)}function PT(r){if(r.tag===13){var o=vi(r,67108864);o!==null&&Ts(o,r,67108864),c_(r,67108864)}}var Lm=!0;function RD(r,o,c,d){var p=W.T;W.T=null;var v=ot.p;try{ot.p=2,u_(r,o,c,d)}finally{ot.p=v,W.T=p}}function ID(r,o,c,d){var p=W.T;W.T=null;var v=ot.p;try{ot.p=8,u_(r,o,c,d)}finally{ot.p=v,W.T=p}}function u_(r,o,c,d){if(Lm){var p=h_(d);if(p===null)Qy(r,o,d,Vm,c),LT(r,d);else if(DD(p,r,o,c,d))d.stopPropagation();else if(LT(r,d),o&4&&-1<ND.indexOf(r)){for(;p!==null;){var v=Ns(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=as(v.pendingLanes);if(A!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;A;){var q=1<<31-dn(A);O.entanglements[1]|=q,A&=~q}ea(v),(Ue&6)===0&&(Em=se()+500,dd(0))}}break;case 13:O=vi(v,2),O!==null&&Ts(O,v,2),xm(),c_(v,2)}if(v=h_(d),v===null&&Qy(r,o,d,Vm,c),v===p)break;p=v}p!==null&&d.stopPropagation()}else Qy(r,o,d,null,c)}}function h_(r){return r=li(r),d_(r)}var Vm=null;function d_(r){if(Vm=null,r=ls(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Vm=r,null}function jT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case ri:return 2;case Dr:return 8;case sr:case ph:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var f_=!1,ol=null,ll=null,cl=null,bd=new Map,Ed=new Map,ul=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(r,o){switch(r){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":ll=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":bd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(o.pointerId)}}function Td(r,o,c,d,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},o!==null&&(o=Ns(o),o!==null&&PT(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),r)}function DD(r,o,c,d,p){switch(o){case"focusin":return ol=Td(ol,r,o,c,d,p),!0;case"dragenter":return ll=Td(ll,r,o,c,d,p),!0;case"mouseover":return cl=Td(cl,r,o,c,d,p),!0;case"pointerover":var v=p.pointerId;return bd.set(v,Td(bd.get(v)||null,r,o,c,d,p)),!0;case"gotpointercapture":return v=p.pointerId,Ed.set(v,Td(Ed.get(v)||null,r,o,c,d,p)),!0}return!1}function VT(r){var o=ls(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,or(r.priority,function(){if(c.tag===13){var d=Es();d=Mr(d);var p=vi(c,d);p!==null&&Ts(p,c,d),c_(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Um(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=h_(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Zn=d,c.target.dispatchEvent(d),Zn=null}else return o=Ns(c),o!==null&&PT(o),r.blockedOn=c,!1;o.shift()}return!0}function UT(r,o,c){Um(r)&&c.delete(o)}function kD(){f_=!1,ol!==null&&Um(ol)&&(ol=null),ll!==null&&Um(ll)&&(ll=null),cl!==null&&Um(cl)&&(cl=null),bd.forEach(UT),Ed.forEach(UT)}function Fm(r,o){r.blockedOn===o&&(r.blockedOn=null,f_||(f_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kD)))}var Bm=null;function FT(r){Bm!==r&&(Bm=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bm===r&&(Bm=null);for(var o=0;o<r.length;o+=3){var c=r[o],d=r[o+1],p=r[o+2];if(typeof d!="function"){if(d_(d||c)===null)continue;break}var v=Ns(c);v!==null&&(r.splice(o,3),o-=3,dy(v,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function xd(r){function o(q){return Fm(q,r)}ol!==null&&Fm(ol,r),ll!==null&&Fm(ll,r),cl!==null&&Fm(cl,r),bd.forEach(o),Ed.forEach(o);for(var c=0;c<ul.length;c++){var d=ul[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<ul.length&&(c=ul[0],c.blockedOn===null);)VT(c),c.blockedOn===null&&ul.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],v=c[d+1],A=p[fn]||null;if(typeof v=="function")A||FT(c);else if(A){var O=null;if(v&&v.hasAttribute("formAction")){if(p=v,A=v[fn]||null)O=A.formAction;else if(d_(p)!==null)continue}else O=A.action;typeof O=="function"?c[d+1]=O:(c.splice(d,3),d-=3),FT(c)}}}function m_(r){this._internalRoot=r}zm.prototype.render=m_.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Es();OT(c,d,r,o,null,null)},zm.prototype.unmount=m_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;OT(r.current,2,null,r,null,null),xm(),o[Bi]=null}};function zm(r){this._internalRoot=r}zm.prototype.unstable_scheduleHydration=function(r){if(r){var o=Pr();r={blockedOn:null,target:r,priority:o};for(var c=0;c<ul.length&&o!==0&&o<ul[c].priority;c++);ul.splice(c,0,r),c===0&&VT(r)}};var BT=t.version;if(BT!=="19.1.1")throw Error(i(527,BT,"19.1.1"));ot.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var OD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{Je=Hm.inject(OD),ke=Hm}catch{}}return Sd.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,d="",p=iE,v=sE,A=rE,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=DT(r,1,!1,null,null,c,d,p,v,A,O,null),r[Bi]=o.current,Xy(r),new m_(o)},Sd.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var d=!1,p="",v=iE,A=sE,O=rE,q=null,st=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(st=c.formState)),o=DT(r,1,!0,o,c??null,d,p,v,A,O,q,st),o.context=kT(null),c=o.current,d=Es(),d=Mr(d),p=mt(d),p.callback=null,At(c,p,d),c=d,o.current.lanes=c,Fi(o,c),ea(o),r[Bi]=o.current,Xy(r),new zm(o)},Sd.version="19.1.1",Sd}var QT;function zD(){if(QT)return y_.exports;QT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),y_.exports=BD(),y_.exports}var HD=zD(),pp={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var $D=pp.exports,ZT;function qD(){return ZT||(ZT=1,function(n,t){(function(e,i){n.exports=i()})($D,function(){const e=new Map,i={set(I,y,x){e.has(I)||e.set(I,new Map);const j=e.get(I);j.has(y)||j.size===0?j.set(y,x):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(j.keys())[0]}.`)},get:(I,y)=>e.has(I)&&e.get(I).get(y)||null,remove(I,y){if(!e.has(I))return;const x=e.get(I);x.delete(y),x.size===0&&e.delete(I)}},s="transitionend",a=I=>(I&&window.CSS&&window.CSS.escape&&(I=I.replace(/#([^\s"#']+)/g,(y,x)=>`#${CSS.escape(x)}`)),I),l=I=>{I.dispatchEvent(new Event(s))},u=I=>!(!I||typeof I!="object")&&(I.jquery!==void 0&&(I=I[0]),I.nodeType!==void 0),h=I=>u(I)?I.jquery?I[0]:I:typeof I=="string"&&I.length>0?document.querySelector(a(I)):null,f=I=>{if(!u(I)||I.getClientRects().length===0)return!1;const y=getComputedStyle(I).getPropertyValue("visibility")==="visible",x=I.closest("details:not([open])");if(!x)return y;if(x!==I){const j=I.closest("summary");if(j&&j.parentNode!==x||j===null)return!1}return y},g=I=>!I||I.nodeType!==Node.ELEMENT_NODE||!!I.classList.contains("disabled")||(I.disabled!==void 0?I.disabled:I.hasAttribute("disabled")&&I.getAttribute("disabled")!=="false"),b=I=>{if(!document.documentElement.attachShadow)return null;if(typeof I.getRootNode=="function"){const y=I.getRootNode();return y instanceof ShadowRoot?y:null}return I instanceof ShadowRoot?I:I.parentNode?b(I.parentNode):null},E=()=>{},w=I=>{I.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,N=[],R=()=>document.documentElement.dir==="rtl",L=I=>{var y;y=()=>{const x=C();if(x){const j=I.NAME,Z=x.fn[j];x.fn[j]=I.jQueryInterface,x.fn[j].Constructor=I,x.fn[j].noConflict=()=>(x.fn[j]=Z,I.jQueryInterface)}},document.readyState==="loading"?(N.length||document.addEventListener("DOMContentLoaded",()=>{for(const x of N)x()}),N.push(y)):y()},$=(I,y=[],x=I)=>typeof I=="function"?I.call(...y):x,G=(I,y,x=!0)=>{if(!x)return void $(I);const j=(ct=>{if(!ct)return 0;let{transitionDuration:mt,transitionDelay:At}=window.getComputedStyle(ct);const Mt=Number.parseFloat(mt),jt=Number.parseFloat(At);return Mt||jt?(mt=mt.split(",")[0],At=At.split(",")[0],1e3*(Number.parseFloat(mt)+Number.parseFloat(At))):0})(y)+5;let Z=!1;const J=({target:ct})=>{ct===y&&(Z=!0,y.removeEventListener(s,J),$(I))};y.addEventListener(s,J),setTimeout(()=>{Z||l(y)},j)},Q=(I,y,x,j)=>{const Z=I.length;let J=I.indexOf(y);return J===-1?!x&&j?I[Z-1]:I[0]:(J+=x?1:-1,j&&(J=(J+Z)%Z),I[Math.max(0,Math.min(J,Z-1))])},Y=/[^.]*(?=\..*)\.|.*/,K=/\..*/,B=/::\d+$/,D={};let M=1;const z={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function V(I,y){return y&&`${y}::${M++}`||I.uidEvent||M++}function U(I){const y=V(I);return I.uidEvent=y,D[y]=D[y]||{},D[y]}function Rt(I,y,x=null){return Object.values(I).find(j=>j.callable===y&&j.delegationSelector===x)}function vt(I,y,x){const j=typeof y=="string",Z=j?x:y||x;let J=Lt(I);return H.has(J)||(J=I),[j,Z,J]}function W(I,y,x,j,Z){if(typeof y!="string"||!I)return;let[J,ct,mt]=vt(y,x,j);y in z&&(ct=(ie=>function(Yt){if(!Yt.relatedTarget||Yt.relatedTarget!==Yt.delegateTarget&&!Yt.delegateTarget.contains(Yt.relatedTarget))return ie.call(this,Yt)})(ct));const At=U(I),Mt=At[mt]||(At[mt]={}),jt=Rt(Mt,ct,J?x:null);if(jt)return void(jt.oneOff=jt.oneOff&&Z);const kt=V(ct,y.replace(Y,"")),ne=J?function(Ht,ie,Yt){return function qt(Re){const Le=Ht.querySelectorAll(ie);for(let{target:le}=Re;le&&le!==this;le=le.parentNode)for(const Te of Le)if(Te===le)return ut(Re,{delegateTarget:le}),qt.oneOff&&P.off(Ht,Re.type,ie,Yt),Yt.apply(le,[Re])}}(I,x,ct):function(Ht,ie){return function Yt(qt){return ut(qt,{delegateTarget:Ht}),Yt.oneOff&&P.off(Ht,qt.type,ie),ie.apply(Ht,[qt])}}(I,ct);ne.delegationSelector=J?x:null,ne.callable=ct,ne.oneOff=Z,ne.uidEvent=kt,Mt[kt]=ne,I.addEventListener(mt,ne,J)}function ot(I,y,x,j,Z){const J=Rt(y[x],j,Z);J&&(I.removeEventListener(x,J,!!Z),delete y[x][J.uidEvent])}function Et(I,y,x,j){const Z=y[x]||{};for(const[J,ct]of Object.entries(Z))J.includes(j)&&ot(I,y,x,ct.callable,ct.delegationSelector)}function Lt(I){return I=I.replace(K,""),z[I]||I}const P={on(I,y,x,j){W(I,y,x,j,!1)},one(I,y,x,j){W(I,y,x,j,!0)},off(I,y,x,j){if(typeof y!="string"||!I)return;const[Z,J,ct]=vt(y,x,j),mt=ct!==y,At=U(I),Mt=At[ct]||{},jt=y.startsWith(".");if(J===void 0){if(jt)for(const kt of Object.keys(At))Et(I,At,kt,y.slice(1));for(const[kt,ne]of Object.entries(Mt)){const Ht=kt.replace(B,"");mt&&!y.includes(Ht)||ot(I,At,ct,ne.callable,ne.delegationSelector)}}else{if(!Object.keys(Mt).length)return;ot(I,At,ct,J,Z?x:null)}},trigger(I,y,x){if(typeof y!="string"||!I)return null;const j=C();let Z=null,J=!0,ct=!0,mt=!1;y!==Lt(y)&&j&&(Z=j.Event(y,x),j(I).trigger(Z),J=!Z.isPropagationStopped(),ct=!Z.isImmediatePropagationStopped(),mt=Z.isDefaultPrevented());const At=ut(new Event(y,{bubbles:J,cancelable:!0}),x);return mt&&At.preventDefault(),ct&&I.dispatchEvent(At),At.defaultPrevented&&Z&&Z.preventDefault(),At}};function ut(I,y={}){for(const[x,j]of Object.entries(y))try{I[x]=j}catch{Object.defineProperty(I,x,{configurable:!0,get:()=>j})}return I}function Tt(I){if(I==="true")return!0;if(I==="false")return!1;if(I===Number(I).toString())return Number(I);if(I===""||I==="null")return null;if(typeof I!="string")return I;try{return JSON.parse(decodeURIComponent(I))}catch{return I}}function gt(I){return I.replace(/[A-Z]/g,y=>`-${y.toLowerCase()}`)}const xt={setDataAttribute(I,y,x){I.setAttribute(`data-bs-${gt(y)}`,x)},removeDataAttribute(I,y){I.removeAttribute(`data-bs-${gt(y)}`)},getDataAttributes(I){if(!I)return{};const y={},x=Object.keys(I.dataset).filter(j=>j.startsWith("bs")&&!j.startsWith("bsConfig"));for(const j of x){let Z=j.replace(/^bs/,"");Z=Z.charAt(0).toLowerCase()+Z.slice(1),y[Z]=Tt(I.dataset[j])}return y},getDataAttribute:(I,y)=>Tt(I.getAttribute(`data-bs-${gt(y)}`))};class wt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(y){return y=this._mergeConfigObj(y),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}_configAfterMerge(y){return y}_mergeConfigObj(y,x){const j=u(x)?xt.getDataAttribute(x,"config"):{};return{...this.constructor.Default,...typeof j=="object"?j:{},...u(x)?xt.getDataAttributes(x):{},...typeof y=="object"?y:{}}}_typeCheckConfig(y,x=this.constructor.DefaultType){for(const[Z,J]of Object.entries(x)){const ct=y[Z],mt=u(ct)?"element":(j=ct)==null?`${j}`:Object.prototype.toString.call(j).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(J).test(mt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Z}" provided type "${mt}" but expected type "${J}".`)}var j}}class It extends wt{constructor(y,x){super(),(y=h(y))&&(this._element=y,this._config=this._getConfig(x),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const y of Object.getOwnPropertyNames(this))this[y]=null}_queueCallback(y,x,j=!0){G(y,x,j)}_getConfig(y){return y=this._mergeConfigObj(y,this._element),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}static getInstance(y){return i.get(h(y),this.DATA_KEY)}static getOrCreateInstance(y,x={}){return this.getInstance(y)||new this(y,typeof x=="object"?x:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(y){return`${y}${this.EVENT_KEY}`}}const De=I=>{let y=I.getAttribute("data-bs-target");if(!y||y==="#"){let x=I.getAttribute("href");if(!x||!x.includes("#")&&!x.startsWith("."))return null;x.includes("#")&&!x.startsWith("#")&&(x=`#${x.split("#")[1]}`),y=x&&x!=="#"?x.trim():null}return y?y.split(",").map(x=>a(x)).join(","):null},it={find:(I,y=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(y,I)),findOne:(I,y=document.documentElement)=>Element.prototype.querySelector.call(y,I),children:(I,y)=>[].concat(...I.children).filter(x=>x.matches(y)),parents(I,y){const x=[];let j=I.parentNode.closest(y);for(;j;)x.push(j),j=j.parentNode.closest(y);return x},prev(I,y){let x=I.previousElementSibling;for(;x;){if(x.matches(y))return[x];x=x.previousElementSibling}return[]},next(I,y){let x=I.nextElementSibling;for(;x;){if(x.matches(y))return[x];x=x.nextElementSibling}return[]},focusableChildren(I){const y=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(x=>`${x}:not([tabindex^="-"])`).join(",");return this.find(y,I).filter(x=>!g(x)&&f(x))},getSelectorFromElement(I){const y=De(I);return y&&it.findOne(y)?y:null},getElementFromSelector(I){const y=De(I);return y?it.findOne(y):null},getMultipleElementsFromSelector(I){const y=De(I);return y?it.find(y):[]}},ht=(I,y="hide")=>{const x=`click.dismiss${I.EVENT_KEY}`,j=I.NAME;P.on(document,x,`[data-bs-dismiss="${j}"]`,function(Z){if(["A","AREA"].includes(this.tagName)&&Z.preventDefault(),g(this))return;const J=it.getElementFromSelector(this)||this.closest(`.${j}`);I.getOrCreateInstance(J)[y]()})},Pt=".bs.alert",te=`close${Pt}`,ft=`closed${Pt}`;class St extends It{static get NAME(){return"alert"}close(){if(P.trigger(this._element,te).defaultPrevented)return;this._element.classList.remove("show");const y=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,y)}_destroyElement(){this._element.remove(),P.trigger(this._element,ft),this.dispose()}static jQueryInterface(y){return this.each(function(){const x=St.getOrCreateInstance(this);if(typeof y=="string"){if(x[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);x[y](this)}})}}ht(St,"close"),L(St);const Ct='[data-bs-toggle="button"]';class Dt extends It{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(y){return this.each(function(){const x=Dt.getOrCreateInstance(this);y==="toggle"&&x[y]()})}}P.on(document,"click.bs.button.data-api",Ct,I=>{I.preventDefault();const y=I.target.closest(Ct);Dt.getOrCreateInstance(y).toggle()}),L(Dt);const Kt=".bs.swipe",se=`touchstart${Kt}`,sn=`touchmove${Kt}`,ri=`touchend${Kt}`,Dr=`pointerdown${Kt}`,sr=`pointerup${Kt}`,ph={endCallback:null,leftCallback:null,rightCallback:null},Ao={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kr extends wt{constructor(y,x){super(),this._element=y,y&&kr.isSupported()&&(this._config=this._getConfig(x),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ph}static get DefaultType(){return Ao}static get NAME(){return"swipe"}dispose(){P.off(this._element,Kt)}_start(y){this._supportPointerEvents?this._eventIsPointerPenTouch(y)&&(this._deltaX=y.clientX):this._deltaX=y.touches[0].clientX}_end(y){this._eventIsPointerPenTouch(y)&&(this._deltaX=y.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(y){this._deltaX=y.touches&&y.touches.length>1?0:y.touches[0].clientX-this._deltaX}_handleSwipe(){const y=Math.abs(this._deltaX);if(y<=40)return;const x=y/this._deltaX;this._deltaX=0,x&&$(x>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,Dr,y=>this._start(y)),P.on(this._element,sr,y=>this._end(y)),this._element.classList.add("pointer-event")):(P.on(this._element,se,y=>this._start(y)),P.on(this._element,sn,y=>this._move(y)),P.on(this._element,ri,y=>this._end(y)))}_eventIsPointerPenTouch(y){return this._supportPointerEvents&&(y.pointerType==="pen"||y.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rs=".bs.carousel",Je=".data-api",ke="ArrowLeft",ki="ArrowRight",dn="next",rr="prev",Or="left",As="right",xa=`slide${rs}`,ar=`slid${rs}`,as=`keydown${rs}`,Co=`mouseenter${rs}`,wa=`mouseleave${rs}`,Hl=`dragstart${rs}`,$l=`load${rs}${Je}`,ql=`click${rs}${Je}`,Cs="carousel",Fi="active",Ro=".active",os=".carousel-item",Gl=Ro+os,Mr={[ke]:As,[ki]:Or},Io={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class or extends It{constructor(y,x){super(y,x),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=it.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Cs&&this.cycle()}static get Default(){return Io}static get DefaultType(){return Pr}static get NAME(){return"carousel"}next(){this._slide(dn)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(rr)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,ar,()=>this.cycle()):this.cycle())}to(y){const x=this._getItems();if(y>x.length-1||y<0)return;if(this._isSliding)return void P.one(this._element,ar,()=>this.to(y));const j=this._getItemIndex(this._getActive());if(j===y)return;const Z=y>j?dn:rr;this._slide(Z,x[y])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(y){return y.defaultInterval=y.interval,y}_addEventListeners(){this._config.keyboard&&P.on(this._element,as,y=>this._keydown(y)),this._config.pause==="hover"&&(P.on(this._element,Co,()=>this.pause()),P.on(this._element,wa,()=>this._maybeEnableCycle())),this._config.touch&&kr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const x of it.find(".carousel-item img",this._element))P.on(x,Hl,j=>j.preventDefault());const y={leftCallback:()=>this._slide(this._directionToOrder(Or)),rightCallback:()=>this._slide(this._directionToOrder(As)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new kr(this._element,y)}_keydown(y){if(/input|textarea/i.test(y.target.tagName))return;const x=Mr[y.key];x&&(y.preventDefault(),this._slide(this._directionToOrder(x)))}_getItemIndex(y){return this._getItems().indexOf(y)}_setActiveIndicatorElement(y){if(!this._indicatorsElement)return;const x=it.findOne(Ro,this._indicatorsElement);x.classList.remove(Fi),x.removeAttribute("aria-current");const j=it.findOne(`[data-bs-slide-to="${y}"]`,this._indicatorsElement);j&&(j.classList.add(Fi),j.setAttribute("aria-current","true"))}_updateInterval(){const y=this._activeElement||this._getActive();if(!y)return;const x=Number.parseInt(y.getAttribute("data-bs-interval"),10);this._config.interval=x||this._config.defaultInterval}_slide(y,x=null){if(this._isSliding)return;const j=this._getActive(),Z=y===dn,J=x||Q(this._getItems(),j,Z,this._config.wrap);if(J===j)return;const ct=this._getItemIndex(J),mt=kt=>P.trigger(this._element,kt,{relatedTarget:J,direction:this._orderToDirection(y),from:this._getItemIndex(j),to:ct});if(mt(xa).defaultPrevented||!j||!J)return;const At=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ct),this._activeElement=J;const Mt=Z?"carousel-item-start":"carousel-item-end",jt=Z?"carousel-item-next":"carousel-item-prev";J.classList.add(jt),w(J),j.classList.add(Mt),J.classList.add(Mt),this._queueCallback(()=>{J.classList.remove(Mt,jt),J.classList.add(Fi),j.classList.remove(Fi,jt,Mt),this._isSliding=!1,mt(ar)},j,this._isAnimated()),At&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return it.findOne(Gl,this._element)}_getItems(){return it.find(os,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(y){return R()?y===Or?rr:dn:y===Or?dn:rr}_orderToDirection(y){return R()?y===rr?Or:As:y===rr?As:Or}static jQueryInterface(y){return this.each(function(){const x=or.getOrCreateInstance(this,y);if(typeof y!="number"){if(typeof y=="string"){if(x[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);x[y]()}}else x.to(y)})}}P.on(document,ql,"[data-bs-slide], [data-bs-slide-to]",function(I){const y=it.getElementFromSelector(this);if(!y||!y.classList.contains(Cs))return;I.preventDefault();const x=or.getOrCreateInstance(y),j=this.getAttribute("data-bs-slide-to");return j?(x.to(j),void x._maybeEnableCycle()):xt.getDataAttribute(this,"slide")==="next"?(x.next(),void x._maybeEnableCycle()):(x.prev(),void x._maybeEnableCycle())}),P.on(window,$l,()=>{const I=it.find('[data-bs-ride="carousel"]');for(const y of I)or.getOrCreateInstance(y)}),L(or);const Me=".bs.collapse",yn=`show${Me}`,fn=`shown${Me}`,Bi=`hide${Me}`,Kl=`hidden${Me}`,gh=`click${Me}.data-api`,Rs="show",lr="collapse",Is="collapsing",jr=`:scope .${lr} .${lr}`,ls='[data-bs-toggle="collapse"]',Ns={parent:null,toggle:!0},Ds={parent:"(null|element)",toggle:"boolean"};class mn extends It{constructor(y,x){super(y,x),this._isTransitioning=!1,this._triggerArray=[];const j=it.find(ls);for(const Z of j){const J=it.getSelectorFromElement(Z),ct=it.find(J).filter(mt=>mt===this._element);J!==null&&ct.length&&this._triggerArray.push(Z)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ns}static get DefaultType(){return Ds}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let y=[];if(this._config.parent&&(y=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Z=>Z!==this._element).map(Z=>mn.getOrCreateInstance(Z,{toggle:!1}))),y.length&&y[0]._isTransitioning||P.trigger(this._element,yn).defaultPrevented)return;for(const Z of y)Z.hide();const x=this._getDimension();this._element.classList.remove(lr),this._element.classList.add(Is),this._element.style[x]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const j=`scroll${x[0].toUpperCase()+x.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Is),this._element.classList.add(lr,Rs),this._element.style[x]="",P.trigger(this._element,fn)},this._element,!0),this._element.style[x]=`${this._element[j]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,Bi).defaultPrevented)return;const y=this._getDimension();this._element.style[y]=`${this._element.getBoundingClientRect()[y]}px`,w(this._element),this._element.classList.add(Is),this._element.classList.remove(lr,Rs);for(const x of this._triggerArray){const j=it.getElementFromSelector(x);j&&!this._isShown(j)&&this._addAriaAndCollapsedClass([x],!1)}this._isTransitioning=!0,this._element.style[y]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Is),this._element.classList.add(lr),P.trigger(this._element,Kl)},this._element,!0)}_isShown(y=this._element){return y.classList.contains(Rs)}_configAfterMerge(y){return y.toggle=!!y.toggle,y.parent=h(y.parent),y}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const y=this._getFirstLevelChildren(ls);for(const x of y){const j=it.getElementFromSelector(x);j&&this._addAriaAndCollapsedClass([x],this._isShown(j))}}_getFirstLevelChildren(y){const x=it.find(jr,this._config.parent);return it.find(y,this._config.parent).filter(j=>!x.includes(j))}_addAriaAndCollapsedClass(y,x){if(y.length)for(const j of y)j.classList.toggle("collapsed",!x),j.setAttribute("aria-expanded",x)}static jQueryInterface(y){const x={};return typeof y=="string"&&/show|hide/.test(y)&&(x.toggle=!1),this.each(function(){const j=mn.getOrCreateInstance(this,x);if(typeof y=="string"){if(j[y]===void 0)throw new TypeError(`No method named "${y}"`);j[y]()}})}}P.on(document,gh,ls,function(I){(I.target.tagName==="A"||I.delegateTarget&&I.delegateTarget.tagName==="A")&&I.preventDefault();for(const y of it.getMultipleElementsFromSelector(this))mn.getOrCreateInstance(y,{toggle:!1}).toggle()}),L(mn);var de="top",Vn="bottom",Rn="right",Ke="left",zi="auto",cr=[de,Vn,Rn,Ke],ks="start",Hi="end",Wl="clippingParents",Os="viewport",ai="popper",In="reference",ur=cr.reduce(function(I,y){return I.concat([y+"-"+ks,y+"-"+Hi])},[]),No=[].concat(cr,[zi]).reduce(function(I,y){return I.concat([y,y+"-"+ks,y+"-"+Hi])},[]),Ms="beforeRead",Sa="read",Aa="afterRead",Do="beforeMain",Ca="main",Xn="afterMain",ko="beforeWrite",qc="write",Ra="afterWrite",Oo=[Ms,Sa,Aa,Do,Ca,Xn,ko,qc,Ra];function Qn(I){return I?(I.nodeName||"").toLowerCase():null}function oi(I){if(I==null)return window;if(I.toString()!=="[object Window]"){var y=I.ownerDocument;return y&&y.defaultView||window}return I}function He(I){return I instanceof oi(I).Element||I instanceof Element}function Xe(I){return I instanceof oi(I).HTMLElement||I instanceof HTMLElement}function hr(I){return typeof ShadowRoot<"u"&&(I instanceof oi(I).ShadowRoot||I instanceof ShadowRoot)}const Ps={name:"applyStyles",enabled:!0,phase:"write",fn:function(I){var y=I.state;Object.keys(y.elements).forEach(function(x){var j=y.styles[x]||{},Z=y.attributes[x]||{},J=y.elements[x];Xe(J)&&Qn(J)&&(Object.assign(J.style,j),Object.keys(Z).forEach(function(ct){var mt=Z[ct];mt===!1?J.removeAttribute(ct):J.setAttribute(ct,mt===!0?"":mt)}))})},effect:function(I){var y=I.state,x={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,x.popper),y.styles=x,y.elements.arrow&&Object.assign(y.elements.arrow.style,x.arrow),function(){Object.keys(y.elements).forEach(function(j){var Z=y.elements[j],J=y.attributes[j]||{},ct=Object.keys(y.styles.hasOwnProperty(j)?y.styles[j]:x[j]).reduce(function(mt,At){return mt[At]="",mt},{});Xe(Z)&&Qn(Z)&&(Object.assign(Z.style,ct),Object.keys(J).forEach(function(mt){Z.removeAttribute(mt)}))})}},requires:["computeStyles"]};function Nn(I){return I.split("-")[0]}var pe=Math.max,js=Math.min,Un=Math.round;function dr(){var I=navigator.userAgentData;return I!=null&&I.brands&&Array.isArray(I.brands)?I.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function Yl(){return!/^((?!chrome|android).)*safari/i.test(dr())}function Ls(I,y,x){y===void 0&&(y=!1),x===void 0&&(x=!1);var j=I.getBoundingClientRect(),Z=1,J=1;y&&Xe(I)&&(Z=I.offsetWidth>0&&Un(j.width)/I.offsetWidth||1,J=I.offsetHeight>0&&Un(j.height)/I.offsetHeight||1);var ct=(He(I)?oi(I):window).visualViewport,mt=!Yl()&&x,At=(j.left+(mt&&ct?ct.offsetLeft:0))/Z,Mt=(j.top+(mt&&ct?ct.offsetTop:0))/J,jt=j.width/Z,kt=j.height/J;return{width:jt,height:kt,top:Mt,right:At+jt,bottom:Mt+kt,left:At,x:At,y:Mt}}function Ia(I){var y=Ls(I),x=I.offsetWidth,j=I.offsetHeight;return Math.abs(y.width-x)<=1&&(x=y.width),Math.abs(y.height-j)<=1&&(j=y.height),{x:I.offsetLeft,y:I.offsetTop,width:x,height:j}}function Gc(I,y){var x=y.getRootNode&&y.getRootNode();if(I.contains(y))return!0;if(x&&hr(x)){var j=y;do{if(j&&I.isSameNode(j))return!0;j=j.parentNode||j.host}while(j)}return!1}function cs(I){return oi(I).getComputedStyle(I)}function Mo(I){return["table","td","th"].indexOf(Qn(I))>=0}function Zn(I){return((He(I)?I.ownerDocument:I.document)||window.document).documentElement}function li(I){return Qn(I)==="html"?I:I.assignedSlot||I.parentNode||(hr(I)?I.host:null)||Zn(I)}function Vs(I){return Xe(I)&&cs(I).position!=="fixed"?I.offsetParent:null}function Oi(I){for(var y=oi(I),x=Vs(I);x&&Mo(x)&&cs(x).position==="static";)x=Vs(x);return x&&(Qn(x)==="html"||Qn(x)==="body"&&cs(x).position==="static")?y:x||function(j){var Z=/firefox/i.test(dr());if(/Trident/i.test(dr())&&Xe(j)&&cs(j).position==="fixed")return null;var J=li(j);for(hr(J)&&(J=J.host);Xe(J)&&["html","body"].indexOf(Qn(J))<0;){var ct=cs(J);if(ct.transform!=="none"||ct.perspective!=="none"||ct.contain==="paint"||["transform","perspective"].indexOf(ct.willChange)!==-1||Z&&ct.willChange==="filter"||Z&&ct.filter&&ct.filter!=="none")return J;J=J.parentNode}return null}(I)||y}function Na(I){return["top","bottom"].indexOf(I)>=0?"x":"y"}function yi(I,y,x){return pe(I,js(y,x))}function Xl(I){return Object.assign({},{top:0,right:0,bottom:0,left:0},I)}function Lr(I,y){return y.reduce(function(x,j){return x[j]=I,x},{})}const $i={name:"arrow",enabled:!0,phase:"main",fn:function(I){var y,x=I.state,j=I.name,Z=I.options,J=x.elements.arrow,ct=x.modifiersData.popperOffsets,mt=Nn(x.placement),At=Na(mt),Mt=[Ke,Rn].indexOf(mt)>=0?"height":"width";if(J&&ct){var jt=function(Qt,we){return Xl(typeof(Qt=typeof Qt=="function"?Qt(Object.assign({},we.rects,{placement:we.placement})):Qt)!="number"?Qt:Lr(Qt,cr))}(Z.padding,x),kt=Ia(J),ne=At==="y"?de:Ke,Ht=At==="y"?Vn:Rn,ie=x.rects.reference[Mt]+x.rects.reference[At]-ct[At]-x.rects.popper[Mt],Yt=ct[At]-x.rects.reference[At],qt=Oi(J),Re=qt?At==="y"?qt.clientHeight||0:qt.clientWidth||0:0,Le=ie/2-Yt/2,le=jt[ne],Te=Re-kt[Mt]-jt[Ht],Xt=Re/2-kt[Mt]/2+Le,Ot=yi(le,Xt,Te),Bt=At;x.modifiersData[j]=((y={})[Bt]=Ot,y.centerOffset=Ot-Xt,y)}},effect:function(I){var y=I.state,x=I.options.element,j=x===void 0?"[data-popper-arrow]":x;j!=null&&(typeof j!="string"||(j=y.elements.popper.querySelector(j)))&&Gc(y.elements.popper,j)&&(y.elements.arrow=j)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fn(I){return I.split("-")[1]}var Da={top:"auto",right:"auto",bottom:"auto",left:"auto"};function us(I){var y,x=I.popper,j=I.popperRect,Z=I.placement,J=I.variation,ct=I.offsets,mt=I.position,At=I.gpuAcceleration,Mt=I.adaptive,jt=I.roundOffsets,kt=I.isFixed,ne=ct.x,Ht=ne===void 0?0:ne,ie=ct.y,Yt=ie===void 0?0:ie,qt=typeof jt=="function"?jt({x:Ht,y:Yt}):{x:Ht,y:Yt};Ht=qt.x,Yt=qt.y;var Re=ct.hasOwnProperty("x"),Le=ct.hasOwnProperty("y"),le=Ke,Te=de,Xt=window;if(Mt){var Ot=Oi(x),Bt="clientHeight",Qt="clientWidth";Ot===oi(x)&&cs(Ot=Zn(x)).position!=="static"&&mt==="absolute"&&(Bt="scrollHeight",Qt="scrollWidth"),(Z===de||(Z===Ke||Z===Rn)&&J===Hi)&&(Te=Vn,Yt-=(kt&&Ot===Xt&&Xt.visualViewport?Xt.visualViewport.height:Ot[Bt])-j.height,Yt*=At?1:-1),Z!==Ke&&(Z!==de&&Z!==Vn||J!==Hi)||(le=Rn,Ht-=(kt&&Ot===Xt&&Xt.visualViewport?Xt.visualViewport.width:Ot[Qt])-j.width,Ht*=At?1:-1)}var we,$e=Object.assign({position:mt},Mt&&Da),Tn=jt===!0?function(Ei,xn){var Hn=Ei.x,Wi=Ei.y,ae=xn.devicePixelRatio||1;return{x:Un(Hn*ae)/ae||0,y:Un(Wi*ae)/ae||0}}({x:Ht,y:Yt},oi(x)):{x:Ht,y:Yt};return Ht=Tn.x,Yt=Tn.y,At?Object.assign({},$e,((we={})[Te]=Le?"0":"",we[le]=Re?"0":"",we.transform=(Xt.devicePixelRatio||1)<=1?"translate("+Ht+"px, "+Yt+"px)":"translate3d("+Ht+"px, "+Yt+"px, 0)",we)):Object.assign({},$e,((y={})[Te]=Le?Yt+"px":"",y[le]=Re?Ht+"px":"",y.transform="",y))}const Us={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(I){var y=I.state,x=I.options,j=x.gpuAcceleration,Z=j===void 0||j,J=x.adaptive,ct=J===void 0||J,mt=x.roundOffsets,At=mt===void 0||mt,Mt={placement:Nn(y.placement),variation:Fn(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:Z,isFixed:y.options.strategy==="fixed"};y.modifiersData.popperOffsets!=null&&(y.styles.popper=Object.assign({},y.styles.popper,us(Object.assign({},Mt,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:ct,roundOffsets:At})))),y.modifiersData.arrow!=null&&(y.styles.arrow=Object.assign({},y.styles.arrow,us(Object.assign({},Mt,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:At})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})},data:{}};var qi={passive:!0};const ka={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(I){var y=I.state,x=I.instance,j=I.options,Z=j.scroll,J=Z===void 0||Z,ct=j.resize,mt=ct===void 0||ct,At=oi(y.elements.popper),Mt=[].concat(y.scrollParents.reference,y.scrollParents.popper);return J&&Mt.forEach(function(jt){jt.addEventListener("scroll",x.update,qi)}),mt&&At.addEventListener("resize",x.update,qi),function(){J&&Mt.forEach(function(jt){jt.removeEventListener("scroll",x.update,qi)}),mt&&At.removeEventListener("resize",x.update,qi)}},data:{}};var Fs={left:"right",right:"left",bottom:"top",top:"bottom"};function Mi(I){return I.replace(/left|right|bottom|top/g,function(y){return Fs[y]})}var Ql={start:"end",end:"start"};function _n(I){return I.replace(/start|end/g,function(y){return Ql[y]})}function xe(I){var y=oi(I);return{scrollLeft:y.pageXOffset,scrollTop:y.pageYOffset}}function Vr(I){return Ls(Zn(I)).left+xe(I).scrollLeft}function fr(I){var y=cs(I),x=y.overflow,j=y.overflowX,Z=y.overflowY;return/auto|scroll|overlay|hidden/.test(x+Z+j)}function Zl(I){return["html","body","#document"].indexOf(Qn(I))>=0?I.ownerDocument.body:Xe(I)&&fr(I)?I:Zl(li(I))}function Bs(I,y){var x;y===void 0&&(y=[]);var j=Zl(I),Z=j===((x=I.ownerDocument)==null?void 0:x.body),J=oi(j),ct=Z?[J].concat(J.visualViewport||[],fr(j)?j:[]):j,mt=y.concat(ct);return Z?mt:mt.concat(Bs(li(ct)))}function Ur(I){return Object.assign({},I,{left:I.x,top:I.y,right:I.x+I.width,bottom:I.y+I.height})}function hs(I,y,x){return y===Os?Ur(function(j,Z){var J=oi(j),ct=Zn(j),mt=J.visualViewport,At=ct.clientWidth,Mt=ct.clientHeight,jt=0,kt=0;if(mt){At=mt.width,Mt=mt.height;var ne=Yl();(ne||!ne&&Z==="fixed")&&(jt=mt.offsetLeft,kt=mt.offsetTop)}return{width:At,height:Mt,x:jt+Vr(j),y:kt}}(I,x)):He(y)?function(j,Z){var J=Ls(j,!1,Z==="fixed");return J.top=J.top+j.clientTop,J.left=J.left+j.clientLeft,J.bottom=J.top+j.clientHeight,J.right=J.left+j.clientWidth,J.width=j.clientWidth,J.height=j.clientHeight,J.x=J.left,J.y=J.top,J}(y,x):Ur(function(j){var Z,J=Zn(j),ct=xe(j),mt=(Z=j.ownerDocument)==null?void 0:Z.body,At=pe(J.scrollWidth,J.clientWidth,mt?mt.scrollWidth:0,mt?mt.clientWidth:0),Mt=pe(J.scrollHeight,J.clientHeight,mt?mt.scrollHeight:0,mt?mt.clientHeight:0),jt=-ct.scrollLeft+Vr(j),kt=-ct.scrollTop;return cs(mt||J).direction==="rtl"&&(jt+=pe(J.clientWidth,mt?mt.clientWidth:0)-At),{width:At,height:Mt,x:jt,y:kt}}(Zn(I)))}function Fr(I){var y,x=I.reference,j=I.element,Z=I.placement,J=Z?Nn(Z):null,ct=Z?Fn(Z):null,mt=x.x+x.width/2-j.width/2,At=x.y+x.height/2-j.height/2;switch(J){case de:y={x:mt,y:x.y-j.height};break;case Vn:y={x:mt,y:x.y+x.height};break;case Rn:y={x:x.x+x.width,y:At};break;case Ke:y={x:x.x-j.width,y:At};break;default:y={x:x.x,y:x.y}}var Mt=J?Na(J):null;if(Mt!=null){var jt=Mt==="y"?"height":"width";switch(ct){case ks:y[Mt]=y[Mt]-(x[jt]/2-j[jt]/2);break;case Hi:y[Mt]=y[Mt]+(x[jt]/2-j[jt]/2)}}return y}function Bn(I,y){y===void 0&&(y={});var x=y,j=x.placement,Z=j===void 0?I.placement:j,J=x.strategy,ct=J===void 0?I.strategy:J,mt=x.boundary,At=mt===void 0?Wl:mt,Mt=x.rootBoundary,jt=Mt===void 0?Os:Mt,kt=x.elementContext,ne=kt===void 0?ai:kt,Ht=x.altBoundary,ie=Ht!==void 0&&Ht,Yt=x.padding,qt=Yt===void 0?0:Yt,Re=Xl(typeof qt!="number"?qt:Lr(qt,cr)),Le=ne===ai?In:ai,le=I.rects.popper,Te=I.elements[ie?Le:ne],Xt=function(xn,Hn,Wi,ae){var Yi=Hn==="clippingParents"?function(Ve){var $n=Bs(li(Ve)),Ti=["absolute","fixed"].indexOf(cs(Ve).position)>=0&&Xe(Ve)?Oi(Ve):Ve;return He(Ti)?$n.filter(function(qs){return He(qs)&&Gc(qs,Ti)&&Qn(qs)!=="body"}):[]}(xn):[].concat(Hn),Xi=[].concat(Yi,[Wi]),Za=Xi[0],wn=Xi.reduce(function(Ve,$n){var Ti=hs(xn,$n,ae);return Ve.top=pe(Ti.top,Ve.top),Ve.right=js(Ti.right,Ve.right),Ve.bottom=js(Ti.bottom,Ve.bottom),Ve.left=pe(Ti.left,Ve.left),Ve},hs(xn,Za,ae));return wn.width=wn.right-wn.left,wn.height=wn.bottom-wn.top,wn.x=wn.left,wn.y=wn.top,wn}(He(Te)?Te:Te.contextElement||Zn(I.elements.popper),At,jt,ct),Ot=Ls(I.elements.reference),Bt=Fr({reference:Ot,element:le,placement:Z}),Qt=Ur(Object.assign({},le,Bt)),we=ne===ai?Qt:Ot,$e={top:Xt.top-we.top+Re.top,bottom:we.bottom-Xt.bottom+Re.bottom,left:Xt.left-we.left+Re.left,right:we.right-Xt.right+Re.right},Tn=I.modifiersData.offset;if(ne===ai&&Tn){var Ei=Tn[Z];Object.keys($e).forEach(function(xn){var Hn=[Rn,Vn].indexOf(xn)>=0?1:-1,Wi=[de,Vn].indexOf(xn)>=0?"y":"x";$e[xn]+=Ei[Wi]*Hn})}return $e}function Kc(I,y){y===void 0&&(y={});var x=y,j=x.placement,Z=x.boundary,J=x.rootBoundary,ct=x.padding,mt=x.flipVariations,At=x.allowedAutoPlacements,Mt=At===void 0?No:At,jt=Fn(j),kt=jt?mt?ur:ur.filter(function(ie){return Fn(ie)===jt}):cr,ne=kt.filter(function(ie){return Mt.indexOf(ie)>=0});ne.length===0&&(ne=kt);var Ht=ne.reduce(function(ie,Yt){return ie[Yt]=Bn(I,{placement:Yt,boundary:Z,rootBoundary:J,padding:ct})[Nn(Yt)],ie},{});return Object.keys(Ht).sort(function(ie,Yt){return Ht[ie]-Ht[Yt]})}const Wc={name:"flip",enabled:!0,phase:"main",fn:function(I){var y=I.state,x=I.options,j=I.name;if(!y.modifiersData[j]._skip){for(var Z=x.mainAxis,J=Z===void 0||Z,ct=x.altAxis,mt=ct===void 0||ct,At=x.fallbackPlacements,Mt=x.padding,jt=x.boundary,kt=x.rootBoundary,ne=x.altBoundary,Ht=x.flipVariations,ie=Ht===void 0||Ht,Yt=x.allowedAutoPlacements,qt=y.options.placement,Re=Nn(qt),Le=At||(Re!==qt&&ie?function(Ve){if(Nn(Ve)===zi)return[];var $n=Mi(Ve);return[_n(Ve),$n,_n($n)]}(qt):[Mi(qt)]),le=[qt].concat(Le).reduce(function(Ve,$n){return Ve.concat(Nn($n)===zi?Kc(y,{placement:$n,boundary:jt,rootBoundary:kt,padding:Mt,flipVariations:ie,allowedAutoPlacements:Yt}):$n)},[]),Te=y.rects.reference,Xt=y.rects.popper,Ot=new Map,Bt=!0,Qt=le[0],we=0;we<le.length;we++){var $e=le[we],Tn=Nn($e),Ei=Fn($e)===ks,xn=[de,Vn].indexOf(Tn)>=0,Hn=xn?"width":"height",Wi=Bn(y,{placement:$e,boundary:jt,rootBoundary:kt,altBoundary:ne,padding:Mt}),ae=xn?Ei?Rn:Ke:Ei?Vn:de;Te[Hn]>Xt[Hn]&&(ae=Mi(ae));var Yi=Mi(ae),Xi=[];if(J&&Xi.push(Wi[Tn]<=0),mt&&Xi.push(Wi[ae]<=0,Wi[Yi]<=0),Xi.every(function(Ve){return Ve})){Qt=$e,Bt=!1;break}Ot.set($e,Xi)}if(Bt)for(var Za=function(Ve){var $n=le.find(function(Ti){var qs=Ot.get(Ti);if(qs)return qs.slice(0,Ve).every(function(qn){return qn})});if($n)return Qt=$n,"break"},wn=ie?3:1;wn>0&&Za(wn)!=="break";wn--);y.placement!==Qt&&(y.modifiersData[j]._skip=!0,y.placement=Qt,y.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Br(I,y,x){return x===void 0&&(x={x:0,y:0}),{top:I.top-y.height-x.y,right:I.right-y.width+x.x,bottom:I.bottom-y.height+x.y,left:I.left-y.width-x.x}}function Oa(I){return[de,Rn,Vn,Ke].some(function(y){return I[y]>=0})}const Po={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(I){var y=I.state,x=I.name,j=y.rects.reference,Z=y.rects.popper,J=y.modifiersData.preventOverflow,ct=Bn(y,{elementContext:"reference"}),mt=Bn(y,{altBoundary:!0}),At=Br(ct,j),Mt=Br(mt,Z,J),jt=Oa(At),kt=Oa(Mt);y.modifiersData[x]={referenceClippingOffsets:At,popperEscapeOffsets:Mt,isReferenceHidden:jt,hasPopperEscaped:kt},y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-reference-hidden":jt,"data-popper-escaped":kt})}},Ma={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(I){var y=I.state,x=I.options,j=I.name,Z=x.offset,J=Z===void 0?[0,0]:Z,ct=No.reduce(function(jt,kt){return jt[kt]=function(ne,Ht,ie){var Yt=Nn(ne),qt=[Ke,de].indexOf(Yt)>=0?-1:1,Re=typeof ie=="function"?ie(Object.assign({},Ht,{placement:ne})):ie,Le=Re[0],le=Re[1];return Le=Le||0,le=(le||0)*qt,[Ke,Rn].indexOf(Yt)>=0?{x:le,y:Le}:{x:Le,y:le}}(kt,y.rects,J),jt},{}),mt=ct[y.placement],At=mt.x,Mt=mt.y;y.modifiersData.popperOffsets!=null&&(y.modifiersData.popperOffsets.x+=At,y.modifiersData.popperOffsets.y+=Mt),y.modifiersData[j]=ct}},jo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(I){var y=I.state,x=I.name;y.modifiersData[x]=Fr({reference:y.rects.reference,element:y.rects.popper,placement:y.placement})},data:{}},Pa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(I){var y=I.state,x=I.options,j=I.name,Z=x.mainAxis,J=Z===void 0||Z,ct=x.altAxis,mt=ct!==void 0&&ct,At=x.boundary,Mt=x.rootBoundary,jt=x.altBoundary,kt=x.padding,ne=x.tether,Ht=ne===void 0||ne,ie=x.tetherOffset,Yt=ie===void 0?0:ie,qt=Bn(y,{boundary:At,rootBoundary:Mt,padding:kt,altBoundary:jt}),Re=Nn(y.placement),Le=Fn(y.placement),le=!Le,Te=Na(Re),Xt=Te==="x"?"y":"x",Ot=y.modifiersData.popperOffsets,Bt=y.rects.reference,Qt=y.rects.popper,we=typeof Yt=="function"?Yt(Object.assign({},y.rects,{placement:y.placement})):Yt,$e=typeof we=="number"?{mainAxis:we,altAxis:we}:Object.assign({mainAxis:0,altAxis:0},we),Tn=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,Ei={x:0,y:0};if(Ot){if(J){var xn,Hn=Te==="y"?de:Ke,Wi=Te==="y"?Vn:Rn,ae=Te==="y"?"height":"width",Yi=Ot[Te],Xi=Yi+qt[Hn],Za=Yi-qt[Wi],wn=Ht?-Qt[ae]/2:0,Ve=Le===ks?Bt[ae]:Qt[ae],$n=Le===ks?-Qt[ae]:-Bt[ae],Ti=y.elements.arrow,qs=Ht&&Ti?Ia(Ti):{width:0,height:0},qn=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},on=qn[Hn],au=qn[Wi],Xr=yi(0,Bt[ae],qs[ae]),ou=le?Bt[ae]/2-wn-Xr-on-$e.mainAxis:Ve-Xr-on-$e.mainAxis,$h=le?-Bt[ae]/2+wn+Xr+au+$e.mainAxis:$n+Xr+au+$e.mainAxis,ys=y.elements.arrow&&Oi(y.elements.arrow),lu=ys?Te==="y"?ys.clientTop||0:ys.clientLeft||0:0,cu=(xn=Tn?.[Te])!=null?xn:0,qh=Yi+$h-cu,Gh=yi(Ht?js(Xi,Yi+ou-cu-lu):Xi,Yi,Ht?pe(Za,qh):Za);Ot[Te]=Gh,Ei[Te]=Gh-Yi}if(mt){var Kh,im=Te==="x"?de:Ke,sm=Te==="x"?Vn:Rn,Qr=Ot[Xt],mc=Xt==="y"?"height":"width",uu=Qr+qt[im],Wh=Qr-qt[sm],Yh=[de,Ke].indexOf(Re)!==-1,Xh=(Kh=Tn?.[Xt])!=null?Kh:0,Qh=Yh?uu:Qr-Bt[mc]-Qt[mc]-Xh+$e.altAxis,Zh=Yh?Qr+Bt[mc]+Qt[mc]-Xh-$e.altAxis:Wh,hu=Ht&&Yh?function(rm,am,du){var Jh=yi(rm,am,du);return Jh>du?du:Jh}(Qh,Qr,Zh):yi(Ht?Qh:uu,Qr,Ht?Zh:Wh);Ot[Xt]=hu,Ei[Xt]=hu-Qr}y.modifiersData[j]=Ei}},requiresIfExists:["offset"]};function yh(I,y,x){x===void 0&&(x=!1);var j,Z,J=Xe(y),ct=Xe(y)&&function(kt){var ne=kt.getBoundingClientRect(),Ht=Un(ne.width)/kt.offsetWidth||1,ie=Un(ne.height)/kt.offsetHeight||1;return Ht!==1||ie!==1}(y),mt=Zn(y),At=Ls(I,ct,x),Mt={scrollLeft:0,scrollTop:0},jt={x:0,y:0};return(J||!J&&!x)&&((Qn(y)!=="body"||fr(mt))&&(Mt=(j=y)!==oi(j)&&Xe(j)?{scrollLeft:(Z=j).scrollLeft,scrollTop:Z.scrollTop}:xe(j)),Xe(y)?((jt=Ls(y,!0)).x+=y.clientLeft,jt.y+=y.clientTop):mt&&(jt.x=Vr(mt))),{x:At.left+Mt.scrollLeft-jt.x,y:At.top+Mt.scrollTop-jt.y,width:At.width,height:At.height}}function Jl(I){var y=new Map,x=new Set,j=[];function Z(J){x.add(J.name),[].concat(J.requires||[],J.requiresIfExists||[]).forEach(function(ct){if(!x.has(ct)){var mt=y.get(ct);mt&&Z(mt)}}),j.push(J)}return I.forEach(function(J){y.set(J.name,J)}),I.forEach(function(J){x.has(J.name)||Z(J)}),j}var zr={placement:"bottom",modifiers:[],strategy:"absolute"};function tc(){for(var I=arguments.length,y=new Array(I),x=0;x<I;x++)y[x]=arguments[x];return!y.some(function(j){return!(j&&typeof j.getBoundingClientRect=="function")})}function ja(I){I===void 0&&(I={});var y=I,x=y.defaultModifiers,j=x===void 0?[]:x,Z=y.defaultOptions,J=Z===void 0?zr:Z;return function(ct,mt,At){At===void 0&&(At=J);var Mt,jt,kt={placement:"bottom",orderedModifiers:[],options:Object.assign({},zr,J),modifiersData:{},elements:{reference:ct,popper:mt},attributes:{},styles:{}},ne=[],Ht=!1,ie={state:kt,setOptions:function(qt){var Re=typeof qt=="function"?qt(kt.options):qt;Yt(),kt.options=Object.assign({},J,kt.options,Re),kt.scrollParents={reference:He(ct)?Bs(ct):ct.contextElement?Bs(ct.contextElement):[],popper:Bs(mt)};var Le,le,Te=function(Xt){var Ot=Jl(Xt);return Oo.reduce(function(Bt,Qt){return Bt.concat(Ot.filter(function(we){return we.phase===Qt}))},[])}((Le=[].concat(j,kt.options.modifiers),le=Le.reduce(function(Xt,Ot){var Bt=Xt[Ot.name];return Xt[Ot.name]=Bt?Object.assign({},Bt,Ot,{options:Object.assign({},Bt.options,Ot.options),data:Object.assign({},Bt.data,Ot.data)}):Ot,Xt},{}),Object.keys(le).map(function(Xt){return le[Xt]})));return kt.orderedModifiers=Te.filter(function(Xt){return Xt.enabled}),kt.orderedModifiers.forEach(function(Xt){var Ot=Xt.name,Bt=Xt.options,Qt=Bt===void 0?{}:Bt,we=Xt.effect;if(typeof we=="function"){var $e=we({state:kt,name:Ot,instance:ie,options:Qt});ne.push($e||function(){})}}),ie.update()},forceUpdate:function(){if(!Ht){var qt=kt.elements,Re=qt.reference,Le=qt.popper;if(tc(Re,Le)){kt.rects={reference:yh(Re,Oi(Le),kt.options.strategy==="fixed"),popper:Ia(Le)},kt.reset=!1,kt.placement=kt.options.placement,kt.orderedModifiers.forEach(function(we){return kt.modifiersData[we.name]=Object.assign({},we.data)});for(var le=0;le<kt.orderedModifiers.length;le++)if(kt.reset!==!0){var Te=kt.orderedModifiers[le],Xt=Te.fn,Ot=Te.options,Bt=Ot===void 0?{}:Ot,Qt=Te.name;typeof Xt=="function"&&(kt=Xt({state:kt,options:Bt,name:Qt,instance:ie})||kt)}else kt.reset=!1,le=-1}}},update:(Mt=function(){return new Promise(function(qt){ie.forceUpdate(),qt(kt)})},function(){return jt||(jt=new Promise(function(qt){Promise.resolve().then(function(){jt=void 0,qt(Mt())})})),jt}),destroy:function(){Yt(),Ht=!0}};if(!tc(ct,mt))return ie;function Yt(){ne.forEach(function(qt){return qt()}),ne=[]}return ie.setOptions(At).then(function(qt){!Ht&&At.onFirstUpdate&&At.onFirstUpdate(qt)}),ie}}var ec=ja(),La=ja({defaultModifiers:[ka,jo,Us,Ps]}),Lo=ja({defaultModifiers:[ka,jo,Us,Ps,Ma,Wc,Pa,$i,Po]});const Va=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Xn,afterRead:Aa,afterWrite:Ra,applyStyles:Ps,arrow:$i,auto:zi,basePlacements:cr,beforeMain:Do,beforeRead:Ms,beforeWrite:ko,bottom:Vn,clippingParents:Wl,computeStyles:Us,createPopper:Lo,createPopperBase:ec,createPopperLite:La,detectOverflow:Bn,end:Hi,eventListeners:ka,flip:Wc,hide:Po,left:Ke,main:Ca,modifierPhases:Oo,offset:Ma,placements:No,popper:ai,popperGenerator:ja,popperOffsets:jo,preventOverflow:Pa,read:Sa,reference:In,right:Rn,start:ks,top:de,variationPlacements:ur,viewport:Os,write:qc},Symbol.toStringTag,{value:"Module"})),nc="dropdown",ds=".bs.dropdown",fs=".data-api",Yc="ArrowUp",ic="ArrowDown",Xc=`hide${ds}`,Qc=`hidden${ds}`,Vo=`show${ds}`,ci=`shown${ds}`,sc=`click${ds}${fs}`,rc=`keydown${ds}${fs}`,zs=`keyup${ds}${fs}`,m="show",T='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',S=`${T}.${m}`,F=".dropdown-menu",et=R()?"top-end":"top-start",lt=R()?"top-start":"top-end",Nt=R()?"bottom-end":"bottom-start",ge=R()?"bottom-start":"bottom-end",vn=R()?"left-start":"right-start",ye=R()?"right-start":"left-start",Dn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class En extends It{constructor(y,x){super(y,x),this._popper=null,this._parent=this._element.parentNode,this._menu=it.next(this._element,F)[0]||it.prev(this._element,F)[0]||it.findOne(F,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Dn}static get DefaultType(){return bn}static get NAME(){return nc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const y={relatedTarget:this._element};if(!P.trigger(this._element,Vo,y).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const x of[].concat(...document.body.children))P.on(x,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(m),this._element.classList.add(m),P.trigger(this._element,ci,y)}}hide(){if(g(this._element)||!this._isShown())return;const y={relatedTarget:this._element};this._completeHide(y)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(y){if(!P.trigger(this._element,Xc,y).defaultPrevented){if("ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))P.off(x,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(m),this._element.classList.remove(m),this._element.setAttribute("aria-expanded","false"),xt.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,Qc,y),this._element.focus()}}_getConfig(y){if(typeof(y=super._getConfig(y)).reference=="object"&&!u(y.reference)&&typeof y.reference.getBoundingClientRect!="function")throw new TypeError(`${nc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return y}_createPopper(){if(Va===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let y=this._element;this._config.reference==="parent"?y=this._parent:u(this._config.reference)?y=h(this._config.reference):typeof this._config.reference=="object"&&(y=this._config.reference);const x=this._getPopperConfig();this._popper=Lo(y,this._menu,x)}_isShown(){return this._menu.classList.contains(m)}_getPlacement(){const y=this._parent;if(y.classList.contains("dropend"))return vn;if(y.classList.contains("dropstart"))return ye;if(y.classList.contains("dropup-center"))return"top";if(y.classList.contains("dropdown-center"))return"bottom";const x=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return y.classList.contains("dropup")?x?lt:et:x?ge:Nt}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:y}=this._config;return typeof y=="string"?y.split(",").map(x=>Number.parseInt(x,10)):typeof y=="function"?x=>y(x,this._element):y}_getPopperConfig(){const y={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(xt.setDataAttribute(this._menu,"popper","static"),y.modifiers=[{name:"applyStyles",enabled:!1}]),{...y,...$(this._config.popperConfig,[void 0,y])}}_selectMenuItem({key:y,target:x}){const j=it.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Z=>f(Z));j.length&&Q(j,x,y===ic,!j.includes(x)).focus()}static jQueryInterface(y){return this.each(function(){const x=En.getOrCreateInstance(this,y);if(typeof y=="string"){if(x[y]===void 0)throw new TypeError(`No method named "${y}"`);x[y]()}})}static clearMenus(y){if(y.button===2||y.type==="keyup"&&y.key!=="Tab")return;const x=it.find(S);for(const j of x){const Z=En.getInstance(j);if(!Z||Z._config.autoClose===!1)continue;const J=y.composedPath(),ct=J.includes(Z._menu);if(J.includes(Z._element)||Z._config.autoClose==="inside"&&!ct||Z._config.autoClose==="outside"&&ct||Z._menu.contains(y.target)&&(y.type==="keyup"&&y.key==="Tab"||/input|select|option|textarea|form/i.test(y.target.tagName)))continue;const mt={relatedTarget:Z._element};y.type==="click"&&(mt.clickEvent=y),Z._completeHide(mt)}}static dataApiKeydownHandler(y){const x=/input|textarea/i.test(y.target.tagName),j=y.key==="Escape",Z=[Yc,ic].includes(y.key);if(!Z&&!j||x&&!j)return;y.preventDefault();const J=this.matches(T)?this:it.prev(this,T)[0]||it.next(this,T)[0]||it.findOne(T,y.delegateTarget.parentNode),ct=En.getOrCreateInstance(J);if(Z)return y.stopPropagation(),ct.show(),void ct._selectMenuItem(y);ct._isShown()&&(y.stopPropagation(),ct.hide(),J.focus())}}P.on(document,rc,T,En.dataApiKeydownHandler),P.on(document,rc,F,En.dataApiKeydownHandler),P.on(document,sc,En.clearMenus),P.on(document,zs,En.clearMenus),P.on(document,sc,T,function(I){I.preventDefault(),En.getOrCreateInstance(this).toggle()}),L(En);const kn="backdrop",ms="show",Uo=`mousedown.bs.${kn}`,Zc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},jf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _h extends wt{constructor(y){super(),this._config=this._getConfig(y),this._isAppended=!1,this._element=null}static get Default(){return Zc}static get DefaultType(){return jf}static get NAME(){return kn}show(y){if(!this._config.isVisible)return void $(y);this._append();const x=this._getElement();this._config.isAnimated&&w(x),x.classList.add(ms),this._emulateAnimation(()=>{$(y)})}hide(y){this._config.isVisible?(this._getElement().classList.remove(ms),this._emulateAnimation(()=>{this.dispose(),$(y)})):$(y)}dispose(){this._isAppended&&(P.off(this._element,Uo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const y=document.createElement("div");y.className=this._config.className,this._config.isAnimated&&y.classList.add("fade"),this._element=y}return this._element}_configAfterMerge(y){return y.rootElement=h(y.rootElement),y}_append(){if(this._isAppended)return;const y=this._getElement();this._config.rootElement.append(y),P.on(y,Uo,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(y){G(y,this._getElement(),this._config.isAnimated)}}const Fo=".bs.focustrap",vh=`focusin${Fo}`,Lf=`keydown.tab${Fo}`,bh="backward",Vf={autofocus:!0,trapElement:null},sy={autofocus:"boolean",trapElement:"element"};class Uf extends wt{constructor(y){super(),this._config=this._getConfig(y),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Vf}static get DefaultType(){return sy}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,Fo),P.on(document,vh,y=>this._handleFocusin(y)),P.on(document,Lf,y=>this._handleKeydown(y)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,Fo))}_handleFocusin(y){const{trapElement:x}=this._config;if(y.target===document||y.target===x||x.contains(y.target))return;const j=it.focusableChildren(x);j.length===0?x.focus():this._lastTabNavDirection===bh?j[j.length-1].focus():j[0].focus()}_handleKeydown(y){y.key==="Tab"&&(this._lastTabNavDirection=y.shiftKey?bh:"forward")}}const Ff=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bf=".sticky-top",Jc="padding-right",_i="margin-right";class Ua{constructor(){this._element=document.body}getWidth(){const y=document.documentElement.clientWidth;return Math.abs(window.innerWidth-y)}hide(){const y=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Jc,x=>x+y),this._setElementAttributes(Ff,Jc,x=>x+y),this._setElementAttributes(Bf,_i,x=>x-y)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Jc),this._resetElementAttributes(Ff,Jc),this._resetElementAttributes(Bf,_i)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(y,x,j){const Z=this.getWidth();this._applyManipulationCallback(y,J=>{if(J!==this._element&&window.innerWidth>J.clientWidth+Z)return;this._saveInitialAttribute(J,x);const ct=window.getComputedStyle(J).getPropertyValue(x);J.style.setProperty(x,`${j(Number.parseFloat(ct))}px`)})}_saveInitialAttribute(y,x){const j=y.style.getPropertyValue(x);j&&xt.setDataAttribute(y,x,j)}_resetElementAttributes(y,x){this._applyManipulationCallback(y,j=>{const Z=xt.getDataAttribute(j,x);Z!==null?(xt.removeDataAttribute(j,x),j.style.setProperty(x,Z)):j.style.removeProperty(x)})}_applyManipulationCallback(y,x){if(u(y))x(y);else for(const j of it.find(y,this._element))x(j)}}const Pi=".bs.modal",zf=`hide${Pi}`,Hf=`hidePrevented${Pi}`,Eh=`hidden${Pi}`,tu=`show${Pi}`,ry=`shown${Pi}`,Bo=`resize${Pi}`,Th=`click.dismiss${Pi}`,ac=`mousedown.dismiss${Pi}`,xh=`keydown.dismiss${Pi}`,$f=`click${Pi}.data-api`,Hr="modal-open",Fa="show",oc="modal-static",qf={backdrop:!0,focus:!0,keyboard:!0},Ba={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $r extends It{constructor(y,x){super(y,x),this._dialog=it.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ua,this._addEventListeners()}static get Default(){return qf}static get DefaultType(){return Ba}static get NAME(){return"modal"}toggle(y){return this._isShown?this.hide():this.show(y)}show(y){this._isShown||this._isTransitioning||P.trigger(this._element,tu,{relatedTarget:y}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Hr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(y)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,zf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Fa),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){P.off(window,Pi),P.off(this._dialog,Pi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _h({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Uf({trapElement:this._element})}_showElement(y){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const x=it.findOne(".modal-body",this._dialog);x&&(x.scrollTop=0),w(this._element),this._element.classList.add(Fa),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,ry,{relatedTarget:y})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,xh,y=>{y.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),P.on(window,Bo,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,ac,y=>{P.one(this._element,Th,x=>{this._element===y.target&&this._element===x.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Hr),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,Eh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,Hf).defaultPrevented)return;const y=this._element.scrollHeight>document.documentElement.clientHeight,x=this._element.style.overflowY;x==="hidden"||this._element.classList.contains(oc)||(y||(this._element.style.overflowY="hidden"),this._element.classList.add(oc),this._queueCallback(()=>{this._element.classList.remove(oc),this._queueCallback(()=>{this._element.style.overflowY=x},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const y=this._element.scrollHeight>document.documentElement.clientHeight,x=this._scrollBar.getWidth(),j=x>0;if(j&&!y){const Z=R()?"paddingLeft":"paddingRight";this._element.style[Z]=`${x}px`}if(!j&&y){const Z=R()?"paddingRight":"paddingLeft";this._element.style[Z]=`${x}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(y,x){return this.each(function(){const j=$r.getOrCreateInstance(this,y);if(typeof y=="string"){if(j[y]===void 0)throw new TypeError(`No method named "${y}"`);j[y](x)}})}}P.on(document,$f,'[data-bs-toggle="modal"]',function(I){const y=it.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&I.preventDefault(),P.one(y,tu,j=>{j.defaultPrevented||P.one(y,Eh,()=>{f(this)&&this.focus()})});const x=it.findOne(".modal.show");x&&$r.getInstance(x).hide(),$r.getOrCreateInstance(y).toggle(this)}),ht($r),L($r);const Hs=".bs.offcanvas",wh=".data-api",ay=`load${Hs}${wh}`,Gf="show",Kf="showing",Sh="hiding",Ah=".offcanvas.show",Ch=`show${Hs}`,ps=`shown${Hs}`,Wf=`hide${Hs}`,ji=`hidePrevented${Hs}`,Li=`hidden${Hs}`,zo=`resize${Hs}`,Rh=`click${Hs}${wh}`,eu=`keydown.dismiss${Hs}`,nu={backdrop:!0,keyboard:!0,scroll:!1},Ih={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vi extends It{constructor(y,x){super(y,x),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nu}static get DefaultType(){return Ih}static get NAME(){return"offcanvas"}toggle(y){return this._isShown?this.hide():this.show(y)}show(y){this._isShown||P.trigger(this._element,Ch,{relatedTarget:y}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ua().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Kf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Gf),this._element.classList.remove(Kf),P.trigger(this._element,ps,{relatedTarget:y})},this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,Wf).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Sh),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Gf,Sh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ua().reset(),P.trigger(this._element,Li)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const y=!!this._config.backdrop;return new _h({className:"offcanvas-backdrop",isVisible:y,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:y?()=>{this._config.backdrop!=="static"?this.hide():P.trigger(this._element,ji)}:null})}_initializeFocusTrap(){return new Uf({trapElement:this._element})}_addEventListeners(){P.on(this._element,eu,y=>{y.key==="Escape"&&(this._config.keyboard?this.hide():P.trigger(this._element,ji))})}static jQueryInterface(y){return this.each(function(){const x=vi.getOrCreateInstance(this,y);if(typeof y=="string"){if(x[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);x[y](this)}})}}P.on(document,Rh,'[data-bs-toggle="offcanvas"]',function(I){const y=it.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),g(this))return;P.one(y,Li,()=>{f(this)&&this.focus()});const x=it.findOne(Ah);x&&x!==y&&vi.getInstance(x).hide(),vi.getOrCreateInstance(y).toggle(this)}),P.on(window,ay,()=>{for(const I of it.find(Ah))vi.getOrCreateInstance(I).show()}),P.on(window,zo,()=>{for(const I of it.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(I).position!=="fixed"&&vi.getOrCreateInstance(I).hide()}),ht(vi),L(vi);const Nh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ho=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,oy=(I,y)=>{const x=I.nodeName.toLowerCase();return y.includes(x)?!iu.has(x)||!!Ho.test(I.nodeValue):y.filter(j=>j instanceof RegExp).some(j=>j.test(x))},Vi={allowList:Nh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Dh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},mr={entry:"(string|element|function|null)",selector:"(string|element)"};class Yf extends wt{constructor(y){super(),this._config=this._getConfig(y)}static get Default(){return Vi}static get DefaultType(){return Dh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(y=>this._resolvePossibleFunction(y)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(y){return this._checkContent(y),this._config.content={...this._config.content,...y},this}toHtml(){const y=document.createElement("div");y.innerHTML=this._maybeSanitize(this._config.template);for(const[Z,J]of Object.entries(this._config.content))this._setContent(y,J,Z);const x=y.children[0],j=this._resolvePossibleFunction(this._config.extraClass);return j&&x.classList.add(...j.split(" ")),x}_typeCheckConfig(y){super._typeCheckConfig(y),this._checkContent(y.content)}_checkContent(y){for(const[x,j]of Object.entries(y))super._typeCheckConfig({selector:x,entry:j},mr)}_setContent(y,x,j){const Z=it.findOne(j,y);Z&&((x=this._resolvePossibleFunction(x))?u(x)?this._putElementInTemplate(h(x),Z):this._config.html?Z.innerHTML=this._maybeSanitize(x):Z.textContent=x:Z.remove())}_maybeSanitize(y){return this._config.sanitize?function(x,j,Z){if(!x.length)return x;if(Z&&typeof Z=="function")return Z(x);const J=new window.DOMParser().parseFromString(x,"text/html"),ct=[].concat(...J.body.querySelectorAll("*"));for(const mt of ct){const At=mt.nodeName.toLowerCase();if(!Object.keys(j).includes(At)){mt.remove();continue}const Mt=[].concat(...mt.attributes),jt=[].concat(j["*"]||[],j[At]||[]);for(const kt of Mt)oy(kt,jt)||mt.removeAttribute(kt.nodeName)}return J.body.innerHTML}(y,this._config.allowList,this._config.sanitizeFn):y}_resolvePossibleFunction(y){return $(y,[void 0,this])}_putElementInTemplate(y,x){if(this._config.html)return x.innerHTML="",void x.append(y);x.textContent=y.textContent}}const su=new Set(["sanitize","allowList","sanitizeFn"]),pr="fade",$o="show",kh=".tooltip-inner",za=".modal",Ha="hide.bs.modal",qr="hover",qo="focus",bi="click",Gi={AUTO:"auto",TOP:"top",RIGHT:R()?"left":"right",BOTTOM:"bottom",LEFT:R()?"right":"left"},$a={allowList:Nh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},gr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ui extends It{constructor(y,x){if(Va===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(y,x),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $a}static get DefaultType(){return gr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(za),Ha,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const y=P.trigger(this._element,this.constructor.eventName("show")),x=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(y.defaultPrevented||!x)return;this._disposePopper();const j=this._getTipElement();this._element.setAttribute("aria-describedby",j.getAttribute("id"));const{container:Z}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Z.append(j),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(j),j.classList.add($o),"ontouchstart"in document.documentElement)for(const J of[].concat(...document.body.children))P.on(J,"mouseover",E);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($o),"ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))P.off(y,"mouseover",E);this._activeTrigger[bi]=!1,this._activeTrigger[qo]=!1,this._activeTrigger[qr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(y){const x=this._getTemplateFactory(y).toHtml();if(!x)return null;x.classList.remove(pr,$o),x.classList.add(`bs-${this.constructor.NAME}-auto`);const j=(Z=>{do Z+=Math.floor(1e6*Math.random());while(document.getElementById(Z));return Z})(this.constructor.NAME).toString();return x.setAttribute("id",j),this._isAnimated()&&x.classList.add(pr),x}setContent(y){this._newContent=y,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(y){return this._templateFactory?this._templateFactory.changeContent(y):this._templateFactory=new Yf({...this._config,content:y,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[kh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(y){return this.constructor.getOrCreateInstance(y.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(pr)}_isShown(){return this.tip&&this.tip.classList.contains($o)}_createPopper(y){const x=$(this._config.placement,[this,y,this._element]),j=Gi[x.toUpperCase()];return Lo(this._element,y,this._getPopperConfig(j))}_getOffset(){const{offset:y}=this._config;return typeof y=="string"?y.split(",").map(x=>Number.parseInt(x,10)):typeof y=="function"?x=>y(x,this._element):y}_resolvePossibleFunction(y){return $(y,[this._element,this._element])}_getPopperConfig(y){const x={placement:y,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:j=>{this._getTipElement().setAttribute("data-popper-placement",j.state.placement)}}]};return{...x,...$(this._config.popperConfig,[void 0,x])}}_setListeners(){const y=this._config.trigger.split(" ");for(const x of y)if(x==="click")P.on(this._element,this.constructor.eventName("click"),this._config.selector,j=>{const Z=this._initializeOnDelegatedTarget(j);Z._activeTrigger[bi]=!(Z._isShown()&&Z._activeTrigger[bi]),Z.toggle()});else if(x!=="manual"){const j=x===qr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Z=x===qr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,j,this._config.selector,J=>{const ct=this._initializeOnDelegatedTarget(J);ct._activeTrigger[J.type==="focusin"?qo:qr]=!0,ct._enter()}),P.on(this._element,Z,this._config.selector,J=>{const ct=this._initializeOnDelegatedTarget(J);ct._activeTrigger[J.type==="focusout"?qo:qr]=ct._element.contains(J.relatedTarget),ct._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(za),Ha,this._hideModalHandler)}_fixTitle(){const y=this._element.getAttribute("title");y&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",y),this._element.setAttribute("data-bs-original-title",y),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(y,x){clearTimeout(this._timeout),this._timeout=setTimeout(y,x)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(y){const x=xt.getDataAttributes(this._element);for(const j of Object.keys(x))su.has(j)&&delete x[j];return y={...x,...typeof y=="object"&&y?y:{}},y=this._mergeConfigObj(y),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}_configAfterMerge(y){return y.container=y.container===!1?document.body:h(y.container),typeof y.delay=="number"&&(y.delay={show:y.delay,hide:y.delay}),typeof y.title=="number"&&(y.title=y.title.toString()),typeof y.content=="number"&&(y.content=y.content.toString()),y}_getDelegateConfig(){const y={};for(const[x,j]of Object.entries(this._config))this.constructor.Default[x]!==j&&(y[x]=j);return y.selector=!1,y.trigger="manual",y}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(y){return this.each(function(){const x=ui.getOrCreateInstance(this,y);if(typeof y=="string"){if(x[y]===void 0)throw new TypeError(`No method named "${y}"`);x[y]()}})}}L(ui);const qa=".popover-header",Xf=".popover-body",Oh={...ui.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Mh={...ui.DefaultType,content:"(null|string|element|function)"};class On extends ui{static get Default(){return Oh}static get DefaultType(){return Mh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[qa]:this._getTitle(),[Xf]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(y){return this.each(function(){const x=On.getOrCreateInstance(this,y);if(typeof y=="string"){if(x[y]===void 0)throw new TypeError(`No method named "${y}"`);x[y]()}})}}L(On);const Qe=".bs.scrollspy",Ce=`activate${Qe}`,Gr=`click${Qe}`,$s=`load${Qe}.data-api`,Kr="active",yr="[href]",Ph=".nav-link",Qf=`${Ph}, .nav-item > ${Ph}, .list-group-item`,lc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Go extends It{constructor(y,x){super(y,x),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return lc}static get DefaultType(){return cc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const y of this._observableSections.values())this._observer.observe(y)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(y){return y.target=h(y.target)||document.body,y.rootMargin=y.offset?`${y.offset}px 0px -30%`:y.rootMargin,typeof y.threshold=="string"&&(y.threshold=y.threshold.split(",").map(x=>Number.parseFloat(x))),y}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,Gr),P.on(this._config.target,Gr,yr,y=>{const x=this._observableSections.get(y.target.hash);if(x){y.preventDefault();const j=this._rootElement||window,Z=x.offsetTop-this._element.offsetTop;if(j.scrollTo)return void j.scrollTo({top:Z,behavior:"smooth"});j.scrollTop=Z}}))}_getNewObserver(){const y={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(x=>this._observerCallback(x),y)}_observerCallback(y){const x=ct=>this._targetLinks.get(`#${ct.target.id}`),j=ct=>{this._previousScrollData.visibleEntryTop=ct.target.offsetTop,this._process(x(ct))},Z=(this._rootElement||document.documentElement).scrollTop,J=Z>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Z;for(const ct of y){if(!ct.isIntersecting){this._activeTarget=null,this._clearActiveClass(x(ct));continue}const mt=ct.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(J&&mt){if(j(ct),!Z)return}else J||mt||j(ct)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const y=it.find(yr,this._config.target);for(const x of y){if(!x.hash||g(x))continue;const j=it.findOne(decodeURI(x.hash),this._element);f(j)&&(this._targetLinks.set(decodeURI(x.hash),x),this._observableSections.set(x.hash,j))}}_process(y){this._activeTarget!==y&&(this._clearActiveClass(this._config.target),this._activeTarget=y,y.classList.add(Kr),this._activateParents(y),P.trigger(this._element,Ce,{relatedTarget:y}))}_activateParents(y){if(y.classList.contains("dropdown-item"))it.findOne(".dropdown-toggle",y.closest(".dropdown")).classList.add(Kr);else for(const x of it.parents(y,".nav, .list-group"))for(const j of it.prev(x,Qf))j.classList.add(Kr)}_clearActiveClass(y){y.classList.remove(Kr);const x=it.find(`${yr}.${Kr}`,y);for(const j of x)j.classList.remove(Kr)}static jQueryInterface(y){return this.each(function(){const x=Go.getOrCreateInstance(this,y);if(typeof y=="string"){if(x[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);x[y]()}})}}P.on(window,$s,()=>{for(const I of it.find('[data-bs-spy="scroll"]'))Go.getOrCreateInstance(I)}),L(Go);const gs=".bs.tab",jh=`hide${gs}`,Ga=`hidden${gs}`,_r=`show${gs}`,Wr=`shown${gs}`,vr=`click${gs}`,Lh=`keydown${gs}`,Vh=`load${gs}`,uc="ArrowLeft",hc="ArrowRight",Ka="ArrowUp",zn="ArrowDown",Ko="Home",Uh="End",Wa="active",Zf="fade",Fh="show",pn=".dropdown-toggle",dc=`:not(${pn})`,Wo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ya=`.nav-link${dc}, .list-group-item${dc}, [role="tab"]${dc}, ${Wo}`,Bh=`.${Wa}[data-bs-toggle="tab"], .${Wa}[data-bs-toggle="pill"], .${Wa}[data-bs-toggle="list"]`;class Ki extends It{constructor(y){super(y),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,Lh,x=>this._keydown(x)))}static get NAME(){return"tab"}show(){const y=this._element;if(this._elemIsActive(y))return;const x=this._getActiveElem(),j=x?P.trigger(x,jh,{relatedTarget:y}):null;P.trigger(y,_r,{relatedTarget:x}).defaultPrevented||j&&j.defaultPrevented||(this._deactivate(x,y),this._activate(y,x))}_activate(y,x){y&&(y.classList.add(Wa),this._activate(it.getElementFromSelector(y)),this._queueCallback(()=>{y.getAttribute("role")==="tab"?(y.removeAttribute("tabindex"),y.setAttribute("aria-selected",!0),this._toggleDropDown(y,!0),P.trigger(y,Wr,{relatedTarget:x})):y.classList.add(Fh)},y,y.classList.contains(Zf)))}_deactivate(y,x){y&&(y.classList.remove(Wa),y.blur(),this._deactivate(it.getElementFromSelector(y)),this._queueCallback(()=>{y.getAttribute("role")==="tab"?(y.setAttribute("aria-selected",!1),y.setAttribute("tabindex","-1"),this._toggleDropDown(y,!1),P.trigger(y,Ga,{relatedTarget:x})):y.classList.remove(Fh)},y,y.classList.contains(Zf)))}_keydown(y){if(![uc,hc,Ka,zn,Ko,Uh].includes(y.key))return;y.stopPropagation(),y.preventDefault();const x=this._getChildren().filter(Z=>!g(Z));let j;if([Ko,Uh].includes(y.key))j=x[y.key===Ko?0:x.length-1];else{const Z=[hc,zn].includes(y.key);j=Q(x,y.target,Z,!0)}j&&(j.focus({preventScroll:!0}),Ki.getOrCreateInstance(j).show())}_getChildren(){return it.find(Ya,this._parent)}_getActiveElem(){return this._getChildren().find(y=>this._elemIsActive(y))||null}_setInitialAttributes(y,x){this._setAttributeIfNotExists(y,"role","tablist");for(const j of x)this._setInitialAttributesOnChild(j)}_setInitialAttributesOnChild(y){y=this._getInnerElement(y);const x=this._elemIsActive(y),j=this._getOuterElement(y);y.setAttribute("aria-selected",x),j!==y&&this._setAttributeIfNotExists(j,"role","presentation"),x||y.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(y,"role","tab"),this._setInitialAttributesOnTargetPanel(y)}_setInitialAttributesOnTargetPanel(y){const x=it.getElementFromSelector(y);x&&(this._setAttributeIfNotExists(x,"role","tabpanel"),y.id&&this._setAttributeIfNotExists(x,"aria-labelledby",`${y.id}`))}_toggleDropDown(y,x){const j=this._getOuterElement(y);if(!j.classList.contains("dropdown"))return;const Z=(J,ct)=>{const mt=it.findOne(J,j);mt&&mt.classList.toggle(ct,x)};Z(pn,Wa),Z(".dropdown-menu",Fh),j.setAttribute("aria-expanded",x)}_setAttributeIfNotExists(y,x,j){y.hasAttribute(x)||y.setAttribute(x,j)}_elemIsActive(y){return y.classList.contains(Wa)}_getInnerElement(y){return y.matches(Ya)?y:it.findOne(Ya,y)}_getOuterElement(y){return y.closest(".nav-item, .list-group-item")||y}static jQueryInterface(y){return this.each(function(){const x=Ki.getOrCreateInstance(this);if(typeof y=="string"){if(x[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);x[y]()}})}}P.on(document,vr,Wo,function(I){["A","AREA"].includes(this.tagName)&&I.preventDefault(),g(this)||Ki.getOrCreateInstance(this).show()}),P.on(window,Vh,()=>{for(const I of it.find(Bh))Ki.getOrCreateInstance(I)}),L(Ki);const Ui=".bs.toast",ly=`mouseover${Ui}`,Jf=`mouseout${Ui}`,cy=`focusin${Ui}`,tm=`focusout${Ui}`,Xa=`hide${Ui}`,zh=`hidden${Ui}`,ru=`show${Ui}`,em=`shown${Ui}`,Yo="hide",fc="show",Qa="showing",Hh={animation:"boolean",autohide:"boolean",delay:"number"},nm={animation:!0,autohide:!0,delay:5e3};class Yr extends It{constructor(y,x){super(y,x),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nm}static get DefaultType(){return Hh}static get NAME(){return"toast"}show(){P.trigger(this._element,ru).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Yo),w(this._element),this._element.classList.add(fc,Qa),this._queueCallback(()=>{this._element.classList.remove(Qa),P.trigger(this._element,em),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,Xa).defaultPrevented||(this._element.classList.add(Qa),this._queueCallback(()=>{this._element.classList.add(Yo),this._element.classList.remove(Qa,fc),P.trigger(this._element,zh)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(fc),super.dispose()}isShown(){return this._element.classList.contains(fc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(y,x){switch(y.type){case"mouseover":case"mouseout":this._hasMouseInteraction=x;break;case"focusin":case"focusout":this._hasKeyboardInteraction=x}if(x)return void this._clearTimeout();const j=y.relatedTarget;this._element===j||this._element.contains(j)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,ly,y=>this._onInteraction(y,!0)),P.on(this._element,Jf,y=>this._onInteraction(y,!1)),P.on(this._element,cy,y=>this._onInteraction(y,!0)),P.on(this._element,tm,y=>this._onInteraction(y,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(y){return this.each(function(){const x=Yr.getOrCreateInstance(this,y);if(typeof y=="string"){if(x[y]===void 0)throw new TypeError(`No method named "${y}"`);x[y](this)}})}}return ht(Yr),L(Yr),{Alert:St,Button:Dt,Carousel:or,Collapse:mn,Dropdown:En,Modal:$r,Offcanvas:vi,Popover:On,ScrollSpy:Go,Tab:Ki,Toast:Yr,Tooltip:ui}})}(pp)),pp.exports}qD();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JT="popstate";function GD(n={}){function t(i,s){let{pathname:a,search:l,hash:u}=i.location;return uv("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:tf(s)}return WD(t,e,null,n)}function an(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Cr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KD(){return Math.random().toString(36).substring(2,10)}function tx(n,t){return{usr:n.state,key:n.key,idx:t}}function uv(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ih(t):t,state:e,key:t&&t.key||i||KD()}}function tf({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ih(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function WD(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function b(){u="POP";let R=g(),L=R==null?null:R-f;f=R,h&&h({action:u,location:N.location,delta:L})}function E(R,L){u="PUSH";let $=uv(N.location,R,L);f=g()+1;let G=tx($,f),Q=N.createHref($);try{l.pushState(G,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Q)}a&&h&&h({action:u,location:N.location,delta:1})}function w(R,L){u="REPLACE";let $=uv(N.location,R,L);f=g();let G=tx($,f),Q=N.createHref($);l.replaceState(G,"",Q),a&&h&&h({action:u,location:N.location,delta:0})}function C(R){return YD(R)}let N={get action(){return u},get location(){return n(s,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(JT,b),h=R,()=>{s.removeEventListener(JT,b),h=null}},createHref(R){return t(s,R)},createURL:C,encodeLocation(R){let L=C(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:w,go(R){return l.go(R)}};return N}function YD(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),an(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:tf(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function kA(n,t,e="/"){return XD(n,t,e,!1)}function XD(n,t,e,i){let s=typeof t=="string"?ih(t):t,a=vo(s.pathname||"/",e);if(a==null)return null;let l=OA(n);QD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=lk(a);u=ak(l[h],f,i)}return u}function OA(n,t=[],e=[],i=""){let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(an(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=yo([i,h.relativePath]),g=e.concat(h);a.children&&a.children.length>0&&(an(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OA(a.children,t,g,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:sk(f,a.index),routesMeta:g})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of MA(a.path))s(a,l,u)}),t}function MA(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=MA(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function QD(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:rk(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var ZD=/^:[\w-]+$/,JD=3,tk=2,ek=1,nk=10,ik=-2,ex=n=>n==="*";function sk(n,t){let e=n.split("/"),i=e.length;return e.some(ex)&&(i+=ik),t&&(i+=tk),e.filter(s=>!ex(s)).reduce((s,a)=>s+(ZD.test(a)?JD:a===""?ek:nk),i)}function rk(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function ak(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,g=a==="/"?t:t.slice(a.length)||"/",b=Dp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),E=h.route;if(!b&&f&&e&&!i[i.length-1].route.index&&(b=Dp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!b)return null;Object.assign(s,b.params),l.push({params:s,pathname:yo([a,b.pathname]),pathnameBase:dk(yo([a,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(a=yo([a,b.pathnameBase]))}return l}function Dp(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=ok(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:b},E)=>{if(g==="*"){let C=u[E]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=u[E];return b&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function ok(n,t=!1,e=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function lk(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function vo(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function ck(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?ih(n):n;return{pathname:e?e.startsWith("/")?e:uk(e,t):t,search:fk(i),hash:mk(s)}}function uk(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function E_(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hk(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function eb(n){let t=hk(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function nb(n,t,e,i=!1){let s;typeof n=="string"?s=ih(n):(s={...n},an(!s.pathname||!s.pathname.includes("?"),E_("?","pathname","search",s)),an(!s.pathname||!s.pathname.includes("#"),E_("#","pathname","hash",s)),an(!s.search||!s.search.includes("#"),E_("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=e;else{let b=t.length-1;if(!i&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),b-=1;s.pathname=E.join("/")}u=b>=0?t[b]:"/"}let h=ck(s,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var yo=n=>n.join("/").replace(/\/\/+/g,"/"),dk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var PA=["POST","PUT","PATCH","DELETE"];new Set(PA);var gk=["GET",...PA];new Set(gk);var sh=k.createContext(null);sh.displayName="DataRouter";var mg=k.createContext(null);mg.displayName="DataRouterState";k.createContext(!1);var jA=k.createContext({isTransitioning:!1});jA.displayName="ViewTransition";var yk=k.createContext(new Map);yk.displayName="Fetchers";var _k=k.createContext(null);_k.displayName="Await";var Nr=k.createContext(null);Nr.displayName="Navigation";var bf=k.createContext(null);bf.displayName="Location";var Ea=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var ib=k.createContext(null);ib.displayName="RouteError";function vk(n,{relative:t}={}){an(rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=k.useContext(Nr),{hash:s,pathname:a,search:l}=Tf(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:yo([e,a])),i.createHref({pathname:u,search:l,hash:s})}function rh(){return k.useContext(bf)!=null}function Vl(){return an(rh(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(bf).location}var LA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VA(n){k.useContext(Nr).static||k.useLayoutEffect(n)}function Ef(){let{isDataRoute:n}=k.useContext(Ea);return n?kk():bk()}function bk(){an(rh(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(sh),{basename:t,navigator:e}=k.useContext(Nr),{matches:i}=k.useContext(Ea),{pathname:s}=Vl(),a=JSON.stringify(eb(i)),l=k.useRef(!1);return VA(()=>{l.current=!0}),k.useCallback((h,f={})=>{if(Cr(l.current,LA),!l.current)return;if(typeof h=="number"){e.go(h);return}let g=nb(h,JSON.parse(a),s,f.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:yo([t,g.pathname])),(f.replace?e.replace:e.push)(g,f.state,f)},[t,e,a,s,n])}k.createContext(null);function Tf(n,{relative:t}={}){let{matches:e}=k.useContext(Ea),{pathname:i}=Vl(),s=JSON.stringify(eb(e));return k.useMemo(()=>nb(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function Ek(n,t){return UA(n,t)}function UA(n,t,e,i){an(rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Nr),{matches:a}=k.useContext(Ea),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let L=g&&g.path||"";FA(h,!g||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=Vl(),E;if(t){let L=typeof t=="string"?ih(t):t;an(f==="/"||L.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=b;let w=E.pathname||"/",C=w;if(f!=="/"){let L=f.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=kA(n,{pathname:C});Cr(g||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Cr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Ak(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:yo([f,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:yo([f,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,e,i);return t&&R?k.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function Tk(){let n=Dk(),t=pk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:s},e):null,l)}var xk=k.createElement(Tk,null),wk=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?k.createElement(Ea.Provider,{value:this.props.routeContext},k.createElement(ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sk({routeContext:n,match:t,children:e}){let i=k.useContext(sh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Ea.Provider,{value:n},e)}function Ak(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e?.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);an(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:b}=e,E=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let b,E=!1,w=null,C=null;e&&(b=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||xk,l&&(u<0&&g===0?(FA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):u===g&&(E=!0,C=f.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,g+1)),R=()=>{let L;return b?L=w:E?L=C:f.route.Component?L=k.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=h,k.createElement(Sk,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:e!=null},children:L})};return e&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?k.createElement(wk,{location:e.location,revalidation:e.revalidation,component:w,error:b,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function sb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(n){let t=k.useContext(sh);return an(t,sb(n)),t}function Rk(n){let t=k.useContext(mg);return an(t,sb(n)),t}function Ik(n){let t=k.useContext(Ea);return an(t,sb(n)),t}function rb(n){let t=Ik(n),e=t.matches[t.matches.length-1];return an(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function Nk(){return rb("useRouteId")}function Dk(){let n=k.useContext(ib),t=Rk("useRouteError"),e=rb("useRouteError");return n!==void 0?n:t.errors?.[e]}function kk(){let{router:n}=Ck("useNavigate"),t=rb("useNavigate"),e=k.useRef(!1);return VA(()=>{e.current=!0}),k.useCallback(async(s,a={})=>{Cr(e.current,LA),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var nx={};function FA(n,t,e){!t&&!nx[n]&&(nx[n]=!0,Cr(!1,e))}k.memo(Ok);function Ok({routes:n,future:t,state:e}){return UA(n,void 0,e,t)}function Mk({to:n,replace:t,state:e,relative:i}){an(rh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Nr);Cr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=k.useContext(Ea),{pathname:l}=Vl(),u=Ef(),h=nb(n,eb(a),l,i==="path"),f=JSON.stringify(h);return k.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function Qs(n){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pk({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){an(!rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=ih(e));let{pathname:h="/",search:f="",hash:g="",state:b=null,key:E="default"}=e,w=k.useMemo(()=>{let C=vo(h,l);return C==null?null:{location:{pathname:C,search:f,hash:g,state:b,key:E},navigationType:i}},[l,h,f,g,b,E,i]);return Cr(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Nr.Provider,{value:u},k.createElement(bf.Provider,{children:t,value:w}))}function jk({children:n,location:t}){return Ek(hv(n),t)}function hv(n,t=[]){let e=[];return k.Children.forEach(n,(i,s)=>{if(!k.isValidElement(i))return;let a=[...t,s];if(i.type===k.Fragment){e.push.apply(e,hv(i.props.children,a));return}an(i.type===Qs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=hv(i.props.children,a)),e.push(l)}),e}var gp="get",yp="application/x-www-form-urlencoded";function pg(n){return n!=null&&typeof n.tagName=="string"}function Lk(n){return pg(n)&&n.tagName.toLowerCase()==="button"}function Vk(n){return pg(n)&&n.tagName.toLowerCase()==="form"}function Uk(n){return pg(n)&&n.tagName.toLowerCase()==="input"}function Fk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bk(n,t){return n.button===0&&(!t||t==="_self")&&!Fk(n)}var $m=null;function zk(){if($m===null)try{new FormData(document.createElement("form"),0),$m=!1}catch{$m=!0}return $m}var Hk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T_(n){return n!=null&&!Hk.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):n}function $k(n,t){let e,i,s,a,l;if(Vk(n)){let u=n.getAttribute("action");i=u?vo(u,t):null,e=n.getAttribute("method")||gp,s=T_(n.getAttribute("enctype"))||yp,a=new FormData(n)}else if(Lk(n)||Uk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?vo(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||gp,s=T_(n.getAttribute("formenctype"))||T_(u.getAttribute("enctype"))||yp,a=new FormData(u,n),!zk()){let{name:f,type:g,value:b}=n;if(g==="image"){let E=f?`${f}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else f&&a.append(f,b)}}else{if(pg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=gp,i=null,s=yp,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ab(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function qk(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&vo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function Gk(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Wk(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await Gk(a,e);return l.links?l.links():[]}return[]}));return Zk(i.flat(1).filter(Kk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ix(n,t,e,i,s,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?t.filter((h,f)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Yk(n,t,{includeHydrateFallback:e}={}){return Xk(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Xk(n){return[...new Set(n)]}function Qk(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function Zk(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(Qk(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}function BA(){let n=k.useContext(sh);return ab(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Jk(){let n=k.useContext(mg);return ab(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ob=k.createContext(void 0);ob.displayName="FrameworkContext";function zA(){let n=k.useContext(ob);return ab(n,"You must render this element inside a <HydratedRouter> element"),n}function tO(n,t){let e=k.useContext(ob),[i,s]=k.useState(!1),[a,l]=k.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:b}=t,E=k.useRef(null);k.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let N=L=>{L.forEach($=>{l($.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),k.useEffect(()=>{if(i){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[i]);let w=()=>{s(!0)},C=()=>{s(!1),l(!1)};return e?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Ad(u,w),onBlur:Ad(h,C),onMouseEnter:Ad(f,w),onMouseLeave:Ad(g,C),onTouchStart:Ad(b,w)}]:[!1,E,{}]}function Ad(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function eO({page:n,...t}){let{router:e}=BA(),i=k.useMemo(()=>kA(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?k.createElement(iO,{page:n,matches:i,...t}):null}function nO(n){let{manifest:t,routeModules:e}=zA(),[i,s]=k.useState([]);return k.useEffect(()=>{let a=!1;return Wk(n,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[n,t,e]),i}function iO({page:n,matches:t,...e}){let i=Vl(),{manifest:s,routeModules:a}=zA(),{basename:l}=BA(),{loaderData:u,matches:h}=Jk(),f=k.useMemo(()=>ix(n,t,h,s,i,"data"),[n,t,h,s,i]),g=k.useMemo(()=>ix(n,t,h,s,i,"assets"),[n,t,h,s,i]),b=k.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,N=!1;if(t.forEach(L=>{let $=s.routes[L.route.id];!$||!$.hasLoader||(!f.some(G=>G.route.id===L.route.id)&&L.route.id in u&&a[L.route.id]?.shouldRevalidate||$.hasClientLoader?N=!0:C.add(L.route.id))}),C.size===0)return[];let R=qk(n,l,"data");return N&&C.size>0&&R.searchParams.set("_routes",t.filter(L=>C.has(L.route.id)).map(L=>L.route.id).join(",")),[R.pathname+R.search]},[l,u,i,s,f,t,n,a]),E=k.useMemo(()=>Yk(g,s),[g,s]),w=nO(g);return k.createElement(k.Fragment,null,b.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...e})),E.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...e})),w.map(({key:C,link:N})=>k.createElement("link",{key:C,...N})))}function sO(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.7.1")}catch{}function rO({basename:n,children:t,window:e}){let i=k.useRef();i.current==null&&(i.current=GD({window:e,v5Compat:!0}));let s=i.current,[a,l]=k.useState({action:s.action,location:s.location}),u=k.useCallback(h=>{k.startTransition(()=>l(h))},[l]);return k.useLayoutEffect(()=>s.listen(u),[s,u]),k.createElement(Pk,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var $A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qA=k.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:g,viewTransition:b,...E},w){let{basename:C}=k.useContext(Nr),N=typeof f=="string"&&$A.test(f),R,L=!1;if(typeof f=="string"&&N&&(R=f,HA))try{let M=new URL(window.location.href),z=f.startsWith("//")?new URL(M.protocol+f):new URL(f),H=vo(z.pathname,C);z.origin===M.origin&&H!=null?f=H+z.search+z.hash:L=!0}catch{Cr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=vk(f,{relative:s}),[G,Q,Y]=tO(i,E),K=lO(f,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:b});function B(M){t&&t(M),M.defaultPrevented||K(M)}let D=k.createElement("a",{...E,...Y,href:R||$,onClick:L||a?t:B,ref:sO(w,Q),target:h,"data-discover":!N&&e==="render"?"true":void 0});return G&&!N?k.createElement(k.Fragment,null,D,k.createElement(eO,{page:$})):D});qA.displayName="Link";var ra=k.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...f},g){let b=Tf(l,{relative:f.relative}),E=Vl(),w=k.useContext(mg),{navigator:C,basename:N}=k.useContext(Nr),R=w!=null&&fO(b)&&u===!0,L=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,$=E.pathname,G=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||($=$.toLowerCase(),G=G?G.toLowerCase():null,L=L.toLowerCase()),G&&N&&(G=vo(G,N)||G);const Q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Y=$===L||!s&&$.startsWith(L)&&$.charAt(Q)==="/",K=G!=null&&(G===L||!s&&G.startsWith(L)&&G.charAt(L.length)==="/"),B={isActive:Y,isPending:K,isTransitioning:R},D=Y?t:void 0,M;typeof i=="function"?M=i(B):M=[i,Y?"active":null,K?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(B):a;return k.createElement(qA,{...f,"aria-current":D,className:M,ref:g,style:z,to:l,viewTransition:u},typeof h=="function"?h(B):h)});ra.displayName="NavLink";var aO=k.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:l=gp,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:b,...E},w)=>{let C=hO(),N=dO(u,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&$A.test(u),$=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let Q=G.nativeEvent.submitter,Y=Q?.getAttribute("formmethod")||l;C(Q||G.currentTarget,{fetcherKey:t,method:Y,navigate:e,replace:s,state:a,relative:f,preventScrollReset:g,viewTransition:b})};return k.createElement("form",{ref:w,method:R,action:N,onSubmit:i?h:$,...E,"data-discover":!L&&n==="render"?"true":void 0})});aO.displayName="Form";function oO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(n){let t=k.useContext(sh);return an(t,oO(n)),t}function lO(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Ef(),h=Vl(),f=Tf(n,{relative:a});return k.useCallback(g=>{if(Bk(g,t)){g.preventDefault();let b=e!==void 0?e:tf(h)===tf(f);u(n,{replace:b,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,f,e,i,t,n,s,a,l])}var cO=0,uO=()=>`__${String(++cO)}__`;function hO(){let{router:n}=GA("useSubmit"),{basename:t}=k.useContext(Nr),e=Nk();return k.useCallback(async(i,s={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=$k(i,t);if(s.navigate===!1){let g=s.fetcherKey||uO();await n.fetch(g,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function dO(n,{relative:t}={}){let{basename:e}=k.useContext(Nr),i=k.useContext(Ea);an(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Tf(n||".",{relative:t})},l=Vl();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(b=>b).forEach(b=>u.append("index",b));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:yo([e,a.pathname])),tf(a)}function fO(n,{relative:t}={}){let e=k.useContext(jA);an(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=GA("useViewTransitionState"),s=Tf(n,{relative:t});if(!e.isTransitioning)return!1;let a=vo(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=vo(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Dp(s.pathname,l)!=null||Dp(s.pathname,a)!=null}var mO=DA();const Lu=fg(mO),pO=()=>{};var sx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},gO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[e++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[e++],l=n[e++],u=n[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},WA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=a>>2,b=(a&3)<<4|u>>4;let E=(u&15)<<2|f>>6,w=f&63;h||(w=64,l||(E=64)),i.push(e[g],e[b],e[E],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(KA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):gO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const f=s<n.length?e[n.charAt(s)]:64;++s;const b=s<n.length?e[n.charAt(s)]:64;if(++s,a==null||u==null||f==null||b==null)throw new yO;const E=a<<2|u>>4;if(i.push(E),f!==64){const w=u<<4&240|f>>2;if(i.push(w),b!==64){const C=f<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _O=function(n){const t=KA(n);return WA.encodeByteArray(t,!0)},kp=function(n){return _O(n).replace(/\./g,"")},YA=function(n){try{return WA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=()=>vO().__FIREBASE_DEFAULTS__,EO=()=>{if(typeof process>"u"||typeof sx>"u")return;const n=sx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&YA(n[1]);return t&&JSON.parse(t)},gg=()=>{try{return pO()||bO()||EO()||TO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XA=n=>gg()?.emulatorHosts?.[n],QA=n=>{const t=XA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},ZA=()=>gg()?.config,JA=n=>gg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[kp(JSON.stringify(e)),kp(JSON.stringify(l)),""].join(".")}const Hd={};function wO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Hd))Hd[t]?n.emulator.push(t):n.prod.push(t);return n}function SO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let rx=!1;function cb(n,t){if(typeof window>"u"||typeof document>"u"||!Vc(window.location.host)||Hd[n]===t||Hd[n]||rx)return;Hd[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=wO().prod.length>0;function l(){const E=document.getElementById(i);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{rx=!0,l()},E}function g(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=SO(i),w=e("text"),C=document.getElementById(w)||document.createElement("span"),N=e("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=e("preprendIcon"),$=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;u(G),g(R,N);const Q=f();h($,L),G.append($,C,R,Q),document.body.appendChild(G)}a?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function CO(){const n=gg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NO(){const n=Ni();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DO(){return!CO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nC(){try{return typeof indexedDB=="object"}catch{return!1}}function iC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}function kO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="FirebaseError";class ir extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=OO,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?MO(a,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new ir(s,u,i)}}function MO(n,t){return n.replace(PO,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const PO=/\{\$([^}]+)}/g;function jO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Il(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const a=n[s],l=t[s];if(ax(a)&&ax(l)){if(!Il(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function ax(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Md(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Pd(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function LO(n,t){const e=new VO(n,t);return e.subscribe.bind(e)}class VO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");UO(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=x_),s.error===void 0&&(s.error=x_),s.complete===void 0&&(s.complete=x_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function x_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=1e3,BO=2,zO=14400*1e3,HO=.5;function ox(n,t=FO,e=BO){const i=t*Math.pow(e,n),s=Math.round(HO*i*(Math.random()-.5)*2);return Math.min(zO,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n){return n&&n._delegate?n._delegate:n}class er{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $O=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new xO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GO(t))try{this.getOrInitializeService({instanceIdentifier:Tc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=Tc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tc){return this.instances.has(t)}getOptions(t=Tc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(s)}return s}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Tc){return this.component?this.component.multipleInstances?t:Tc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qO(n){return n===Tc?void 0:n}function GO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new $O(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_e||(_e={}));const WO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},YO=_e.INFO,XO={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},QO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=XO[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yg{constructor(t){this.name=t,this._logLevel=YO,this._logHandler=QO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const ZO=(n,t)=>t.some(e=>n instanceof e);let lx,cx;function JO(){return lx||(lx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tM(){return cx||(cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sC=new WeakMap,dv=new WeakMap,rC=new WeakMap,w_=new WeakMap,ub=new WeakMap;function eM(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(Tl(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&sC.set(e,n)}).catch(()=>{}),ub.set(t,n),t}function nM(n){if(dv.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});dv.set(n,t)}let fv={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return dv.get(n);if(t==="objectStoreNames")return n.objectStoreNames||rC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tl(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function iM(n){fv=n(fv)}function sM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(S_(this),t,...e);return rC.set(i,t.sort?t.sort():[t]),Tl(i)}:tM().includes(n)?function(...t){return n.apply(S_(this),t),Tl(sC.get(this))}:function(...t){return Tl(n.apply(S_(this),t))}}function rM(n){return typeof n=="function"?sM(n):(n instanceof IDBTransaction&&nM(n),ZO(n,JO())?new Proxy(n,fv):n)}function Tl(n){if(n instanceof IDBRequest)return eM(n);if(w_.has(n))return w_.get(n);const t=rM(n);return t!==n&&(w_.set(n,t),ub.set(t,n)),t}const S_=n=>ub.get(n);function aC(n,t,{blocked:e,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,t),u=Tl(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Tl(l.result),h.oldVersion,h.newVersion,Tl(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const aM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],A_=new Map;function ux(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(A_.get(t))return A_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=oM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||aM.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),s&&h.done]))[0]};return A_.set(t,a),a}iM(n=>({...n,get:(t,e,i)=>ux(t,e)||n.get(t,e,i),has:(t,e)=>!!ux(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function cM(n){return n.getComponent()?.type==="VERSION"}const mv="@firebase/app",hx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new yg("@firebase/app"),uM="@firebase/app-compat",hM="@firebase/analytics-compat",dM="@firebase/analytics",fM="@firebase/app-check-compat",mM="@firebase/app-check",pM="@firebase/auth",gM="@firebase/auth-compat",yM="@firebase/database",_M="@firebase/data-connect",vM="@firebase/database-compat",bM="@firebase/functions",EM="@firebase/functions-compat",TM="@firebase/installations",xM="@firebase/installations-compat",wM="@firebase/messaging",SM="@firebase/messaging-compat",AM="@firebase/performance",CM="@firebase/performance-compat",RM="@firebase/remote-config",IM="@firebase/remote-config-compat",NM="@firebase/storage",DM="@firebase/storage-compat",kM="@firebase/firestore",OM="@firebase/ai",MM="@firebase/firestore-compat",PM="firebase",jM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="[DEFAULT]",LM={[mv]:"fire-core",[uM]:"fire-core-compat",[dM]:"fire-analytics",[hM]:"fire-analytics-compat",[mM]:"fire-app-check",[fM]:"fire-app-check-compat",[pM]:"fire-auth",[gM]:"fire-auth-compat",[yM]:"fire-rtdb",[_M]:"fire-data-connect",[vM]:"fire-rtdb-compat",[bM]:"fire-fn",[EM]:"fire-fn-compat",[TM]:"fire-iid",[xM]:"fire-iid-compat",[wM]:"fire-fcm",[SM]:"fire-fcm-compat",[AM]:"fire-perf",[CM]:"fire-perf-compat",[RM]:"fire-rc",[IM]:"fire-rc-compat",[NM]:"fire-gcs",[DM]:"fire-gcs-compat",[kM]:"fire-fst",[MM]:"fire-fst-compat",[OM]:"fire-vertex","fire-js":"fire-js",[PM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Map,VM=new Map,gv=new Map;function dx(n,t){try{n.container.addComponent(t)}catch(e){bo.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Rr(n){const t=n.name;if(gv.has(t))return bo.debug(`There were multiple attempts to register component ${t}.`),!1;gv.set(t,n);for(const e of Op.values())dx(e,n);for(const e of VM.values())dx(e,n);return!0}function Ul(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Zs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new Uc("app","Firebase",UM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=jM;function oC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:pv,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw xl.create("bad-app-name",{appName:String(s)});if(e||(e=ZA()),!e)throw xl.create("no-options");const a=Op.get(s);if(a){if(Il(e,a.options)&&Il(i,a.config))return a;throw xl.create("duplicate-app",{appName:s})}const l=new KO(s);for(const h of gv.values())l.addComponent(h);const u=new FM(e,i,l);return Op.set(s,u),u}function _g(n=pv){const t=Op.get(n);if(!t&&n===pv&&ZA())return oC();if(!t)throw xl.create("no-app",{appName:n});return t}function is(n,t,e){let i=LM[n]??n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bo.warn(l.join(" "));return}Rr(new er(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firebase-heartbeat-database",zM=1,ef="firebase-heartbeat-store";let C_=null;function lC(){return C_||(C_=aC(BM,zM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ef)}catch(e){console.warn(e)}}}}).catch(n=>{throw xl.create("idb-open",{originalErrorMessage:n.message})})),C_}async function HM(n){try{const e=(await lC()).transaction(ef),i=await e.objectStore(ef).get(cC(n));return await e.done,i}catch(t){if(t instanceof ir)bo.warn(t.message);else{const e=xl.create("idb-get",{originalErrorMessage:t?.message});bo.warn(e.message)}}}async function fx(n,t){try{const i=(await lC()).transaction(ef,"readwrite");await i.objectStore(ef).put(t,cC(n)),await i.done}catch(e){if(e instanceof ir)bo.warn(e.message);else{const i=xl.create("idb-set",{originalErrorMessage:e?.message});bo.warn(i.message)}}}function cC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=1024,qM=30;class GM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new WM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>qM){const s=YM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bo.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mx(),{heartbeatsToSend:e,unsentEntries:i}=KM(this._heartbeatsCache.heartbeats),s=kp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return bo.warn(t),""}}}function mx(){return new Date().toISOString().substring(0,10)}function KM(n,t=$M){const e=[];let i=n.slice();for(const s of n){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),px(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),px(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class WM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nC()?iC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await HM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return fx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return fx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function px(n){return kp(JSON.stringify({version:2,heartbeats:n})).length}function YM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(n){Rr(new er("platform-logger",t=>new lM(t),"PRIVATE")),Rr(new er("heartbeat",t=>new GM(t),"PRIVATE")),is(mv,hx,n),is(mv,hx,"esm2020"),is("fire-js","")}XM("");var gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wl,uC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(B,D){function M(){}M.prototype=D.prototype,B.D=D.prototype,B.prototype=new M,B.prototype.constructor=B,B.C=function(z,H,V){for(var U=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)U[Rt-2]=arguments[Rt];return D.prototype[H].apply(z,U)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(B,D,M){M||(M=0);var z=Array(16);if(typeof D=="string")for(var H=0;16>H;++H)z[H]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(H=0;16>H;++H)z[H]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=B.g[0],M=B.g[1],H=B.g[2];var V=B.g[3],U=D+(V^M&(H^V))+z[0]+3614090360&4294967295;D=M+(U<<7&4294967295|U>>>25),U=V+(H^D&(M^H))+z[1]+3905402710&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(M^V&(D^M))+z[2]+606105819&4294967295,H=V+(U<<17&4294967295|U>>>15),U=M+(D^H&(V^D))+z[3]+3250441966&4294967295,M=H+(U<<22&4294967295|U>>>10),U=D+(V^M&(H^V))+z[4]+4118548399&4294967295,D=M+(U<<7&4294967295|U>>>25),U=V+(H^D&(M^H))+z[5]+1200080426&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(M^V&(D^M))+z[6]+2821735955&4294967295,H=V+(U<<17&4294967295|U>>>15),U=M+(D^H&(V^D))+z[7]+4249261313&4294967295,M=H+(U<<22&4294967295|U>>>10),U=D+(V^M&(H^V))+z[8]+1770035416&4294967295,D=M+(U<<7&4294967295|U>>>25),U=V+(H^D&(M^H))+z[9]+2336552879&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(M^V&(D^M))+z[10]+4294925233&4294967295,H=V+(U<<17&4294967295|U>>>15),U=M+(D^H&(V^D))+z[11]+2304563134&4294967295,M=H+(U<<22&4294967295|U>>>10),U=D+(V^M&(H^V))+z[12]+1804603682&4294967295,D=M+(U<<7&4294967295|U>>>25),U=V+(H^D&(M^H))+z[13]+4254626195&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(M^V&(D^M))+z[14]+2792965006&4294967295,H=V+(U<<17&4294967295|U>>>15),U=M+(D^H&(V^D))+z[15]+1236535329&4294967295,M=H+(U<<22&4294967295|U>>>10),U=D+(H^V&(M^H))+z[1]+4129170786&4294967295,D=M+(U<<5&4294967295|U>>>27),U=V+(M^H&(D^M))+z[6]+3225465664&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^M&(V^D))+z[11]+643717713&4294967295,H=V+(U<<14&4294967295|U>>>18),U=M+(V^D&(H^V))+z[0]+3921069994&4294967295,M=H+(U<<20&4294967295|U>>>12),U=D+(H^V&(M^H))+z[5]+3593408605&4294967295,D=M+(U<<5&4294967295|U>>>27),U=V+(M^H&(D^M))+z[10]+38016083&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^M&(V^D))+z[15]+3634488961&4294967295,H=V+(U<<14&4294967295|U>>>18),U=M+(V^D&(H^V))+z[4]+3889429448&4294967295,M=H+(U<<20&4294967295|U>>>12),U=D+(H^V&(M^H))+z[9]+568446438&4294967295,D=M+(U<<5&4294967295|U>>>27),U=V+(M^H&(D^M))+z[14]+3275163606&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^M&(V^D))+z[3]+4107603335&4294967295,H=V+(U<<14&4294967295|U>>>18),U=M+(V^D&(H^V))+z[8]+1163531501&4294967295,M=H+(U<<20&4294967295|U>>>12),U=D+(H^V&(M^H))+z[13]+2850285829&4294967295,D=M+(U<<5&4294967295|U>>>27),U=V+(M^H&(D^M))+z[2]+4243563512&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^M&(V^D))+z[7]+1735328473&4294967295,H=V+(U<<14&4294967295|U>>>18),U=M+(V^D&(H^V))+z[12]+2368359562&4294967295,M=H+(U<<20&4294967295|U>>>12),U=D+(M^H^V)+z[5]+4294588738&4294967295,D=M+(U<<4&4294967295|U>>>28),U=V+(D^M^H)+z[8]+2272392833&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^M)+z[11]+1839030562&4294967295,H=V+(U<<16&4294967295|U>>>16),U=M+(H^V^D)+z[14]+4259657740&4294967295,M=H+(U<<23&4294967295|U>>>9),U=D+(M^H^V)+z[1]+2763975236&4294967295,D=M+(U<<4&4294967295|U>>>28),U=V+(D^M^H)+z[4]+1272893353&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^M)+z[7]+4139469664&4294967295,H=V+(U<<16&4294967295|U>>>16),U=M+(H^V^D)+z[10]+3200236656&4294967295,M=H+(U<<23&4294967295|U>>>9),U=D+(M^H^V)+z[13]+681279174&4294967295,D=M+(U<<4&4294967295|U>>>28),U=V+(D^M^H)+z[0]+3936430074&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^M)+z[3]+3572445317&4294967295,H=V+(U<<16&4294967295|U>>>16),U=M+(H^V^D)+z[6]+76029189&4294967295,M=H+(U<<23&4294967295|U>>>9),U=D+(M^H^V)+z[9]+3654602809&4294967295,D=M+(U<<4&4294967295|U>>>28),U=V+(D^M^H)+z[12]+3873151461&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^M)+z[15]+530742520&4294967295,H=V+(U<<16&4294967295|U>>>16),U=M+(H^V^D)+z[2]+3299628645&4294967295,M=H+(U<<23&4294967295|U>>>9),U=D+(H^(M|~V))+z[0]+4096336452&4294967295,D=M+(U<<6&4294967295|U>>>26),U=V+(M^(D|~H))+z[7]+1126891415&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~M))+z[14]+2878612391&4294967295,H=V+(U<<15&4294967295|U>>>17),U=M+(V^(H|~D))+z[5]+4237533241&4294967295,M=H+(U<<21&4294967295|U>>>11),U=D+(H^(M|~V))+z[12]+1700485571&4294967295,D=M+(U<<6&4294967295|U>>>26),U=V+(M^(D|~H))+z[3]+2399980690&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~M))+z[10]+4293915773&4294967295,H=V+(U<<15&4294967295|U>>>17),U=M+(V^(H|~D))+z[1]+2240044497&4294967295,M=H+(U<<21&4294967295|U>>>11),U=D+(H^(M|~V))+z[8]+1873313359&4294967295,D=M+(U<<6&4294967295|U>>>26),U=V+(M^(D|~H))+z[15]+4264355552&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~M))+z[6]+2734768916&4294967295,H=V+(U<<15&4294967295|U>>>17),U=M+(V^(H|~D))+z[13]+1309151649&4294967295,M=H+(U<<21&4294967295|U>>>11),U=D+(H^(M|~V))+z[4]+4149444226&4294967295,D=M+(U<<6&4294967295|U>>>26),U=V+(M^(D|~H))+z[11]+3174756917&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~M))+z[2]+718787259&4294967295,H=V+(U<<15&4294967295|U>>>17),U=M+(V^(H|~D))+z[9]+3951481745&4294967295,B.g[0]=B.g[0]+D&4294967295,B.g[1]=B.g[1]+(H+(U<<21&4294967295|U>>>11))&4294967295,B.g[2]=B.g[2]+H&4294967295,B.g[3]=B.g[3]+V&4294967295}i.prototype.u=function(B,D){D===void 0&&(D=B.length);for(var M=D-this.blockSize,z=this.B,H=this.h,V=0;V<D;){if(H==0)for(;V<=M;)s(this,B,V),V+=this.blockSize;if(typeof B=="string"){for(;V<D;)if(z[H++]=B.charCodeAt(V++),H==this.blockSize){s(this,z),H=0;break}}else for(;V<D;)if(z[H++]=B[V++],H==this.blockSize){s(this,z),H=0;break}}this.h=H,this.o+=D},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var D=1;D<B.length-8;++D)B[D]=0;var M=8*this.o;for(D=B.length-8;D<B.length;++D)B[D]=M&255,M/=256;for(this.u(B),B=Array(16),D=M=0;4>D;++D)for(var z=0;32>z;z+=8)B[M++]=this.g[D]>>>z&255;return B};function a(B,D){var M=u;return Object.prototype.hasOwnProperty.call(M,B)?M[B]:M[B]=D(B)}function l(B,D){this.h=D;for(var M=[],z=!0,H=B.length-1;0<=H;H--){var V=B[H]|0;z&&V==D||(M[H]=V,z=!1)}this.g=M}var u={};function h(B){return-128<=B&&128>B?a(B,function(D){return new l([D|0],0>D?-1:0)}):new l([B|0],0>B?-1:0)}function f(B){if(isNaN(B)||!isFinite(B))return b;if(0>B)return R(f(-B));for(var D=[],M=1,z=0;B>=M;z++)D[z]=B/M|0,M*=4294967296;return new l(D,0)}function g(B,D){if(B.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(B.charAt(0)=="-")return R(g(B.substring(1),D));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(D,8)),z=b,H=0;H<B.length;H+=8){var V=Math.min(8,B.length-H),U=parseInt(B.substring(H,H+V),D);8>V?(V=f(Math.pow(D,V)),z=z.j(V).add(f(U))):(z=z.j(M),z=z.add(f(U)))}return z}var b=h(0),E=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(N(this))return-R(this).m();for(var B=0,D=1,M=0;M<this.g.length;M++){var z=this.i(M);B+=(0<=z?z:4294967296+z)*D,D*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(C(this))return"0";if(N(this))return"-"+R(this).toString(B);for(var D=f(Math.pow(B,6)),M=this,z="";;){var H=Q(M,D).g;M=L(M,H.j(D));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(B);if(M=H,C(M))return V+z;for(;6>V.length;)V="0"+V;z=V+z}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function C(B){if(B.h!=0)return!1;for(var D=0;D<B.g.length;D++)if(B.g[D]!=0)return!1;return!0}function N(B){return B.h==-1}n.l=function(B){return B=L(this,B),N(B)?-1:C(B)?0:1};function R(B){for(var D=B.g.length,M=[],z=0;z<D;z++)M[z]=~B.g[z];return new l(M,~B.h).add(E)}n.abs=function(){return N(this)?R(this):this},n.add=function(B){for(var D=Math.max(this.g.length,B.g.length),M=[],z=0,H=0;H<=D;H++){var V=z+(this.i(H)&65535)+(B.i(H)&65535),U=(V>>>16)+(this.i(H)>>>16)+(B.i(H)>>>16);z=U>>>16,V&=65535,U&=65535,M[H]=U<<16|V}return new l(M,M[M.length-1]&-2147483648?-1:0)};function L(B,D){return B.add(R(D))}n.j=function(B){if(C(this)||C(B))return b;if(N(this))return N(B)?R(this).j(R(B)):R(R(this).j(B));if(N(B))return R(this.j(R(B)));if(0>this.l(w)&&0>B.l(w))return f(this.m()*B.m());for(var D=this.g.length+B.g.length,M=[],z=0;z<2*D;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(var H=0;H<B.g.length;H++){var V=this.i(z)>>>16,U=this.i(z)&65535,Rt=B.i(H)>>>16,vt=B.i(H)&65535;M[2*z+2*H]+=U*vt,$(M,2*z+2*H),M[2*z+2*H+1]+=V*vt,$(M,2*z+2*H+1),M[2*z+2*H+1]+=U*Rt,$(M,2*z+2*H+1),M[2*z+2*H+2]+=V*Rt,$(M,2*z+2*H+2)}for(z=0;z<D;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=D;z<2*D;z++)M[z]=0;return new l(M,0)};function $(B,D){for(;(B[D]&65535)!=B[D];)B[D+1]+=B[D]>>>16,B[D]&=65535,D++}function G(B,D){this.g=B,this.h=D}function Q(B,D){if(C(D))throw Error("division by zero");if(C(B))return new G(b,b);if(N(B))return D=Q(R(B),D),new G(R(D.g),R(D.h));if(N(D))return D=Q(B,R(D)),new G(R(D.g),D.h);if(30<B.g.length){if(N(B)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var M=E,z=D;0>=z.l(B);)M=Y(M),z=Y(z);var H=K(M,1),V=K(z,1);for(z=K(z,2),M=K(M,2);!C(z);){var U=V.add(z);0>=U.l(B)&&(H=H.add(M),V=U),z=K(z,1),M=K(M,1)}return D=L(B,H.j(D)),new G(H,D)}for(H=b;0<=B.l(D);){for(M=Math.max(1,Math.floor(B.m()/D.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),V=f(M),U=V.j(D);N(U)||0<U.l(B);)M-=z,V=f(M),U=V.j(D);C(V)&&(V=E),H=H.add(V),B=L(B,U)}return new G(H,B)}n.A=function(B){return Q(this,B).h},n.and=function(B){for(var D=Math.max(this.g.length,B.g.length),M=[],z=0;z<D;z++)M[z]=this.i(z)&B.i(z);return new l(M,this.h&B.h)},n.or=function(B){for(var D=Math.max(this.g.length,B.g.length),M=[],z=0;z<D;z++)M[z]=this.i(z)|B.i(z);return new l(M,this.h|B.h)},n.xor=function(B){for(var D=Math.max(this.g.length,B.g.length),M=[],z=0;z<D;z++)M[z]=this.i(z)^B.i(z);return new l(M,this.h^B.h)};function Y(B){for(var D=B.g.length+1,M=[],z=0;z<D;z++)M[z]=B.i(z)<<1|B.i(z-1)>>>31;return new l(M,B.h)}function K(B,D){var M=D>>5;D%=32;for(var z=B.g.length-M,H=[],V=0;V<z;V++)H[V]=0<D?B.i(V+M)>>>D|B.i(V+M+1)<<32-D:B.i(V+M);return new l(H,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,uC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,wl=l}).apply(typeof gx<"u"?gx:typeof self<"u"?self:typeof window<"u"?window:{});var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hC,jd,dC,_p,yv,fC,mC,pC;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,S){return m==Array.prototype||m==Object.prototype||(m[T]=S.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof qm=="object"&&qm];for(var T=0;T<m.length;++T){var S=m[T];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function s(m,T){if(T)t:{var S=i;m=m.split(".");for(var F=0;F<m.length-1;F++){var et=m[F];if(!(et in S))break t;S=S[et]}m=m[m.length-1],F=S[m],T=T(F),T!=F&&T!=null&&t(S,m,{configurable:!0,writable:!0,value:T})}}function a(m,T){m instanceof String&&(m+="");var S=0,F=!1,et={next:function(){if(!F&&S<m.length){var lt=S++;return{value:T(lt,m[lt]),done:!1}}return F=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}s("Array.prototype.values",function(m){return m||function(){return a(this,function(T,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function f(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function g(m,T,S){return m.call.apply(m.bind,arguments)}function b(m,T,S){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,F),m.apply(T,et)}}return function(){return m.apply(T,arguments)}}function E(m,T,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,E.apply(null,arguments)}function w(m,T){var S=Array.prototype.slice.call(arguments,1);return function(){var F=S.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function C(m,T){function S(){}S.prototype=T.prototype,m.aa=T.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(F,et,lt){for(var Nt=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)Nt[ge-2]=arguments[ge];return T.prototype[et].apply(F,Nt)}}function N(m){const T=m.length;if(0<T){const S=Array(T);for(let F=0;F<T;F++)S[F]=m[F];return S}return[]}function R(m,T){for(let S=1;S<arguments.length;S++){const F=arguments[S];if(h(F)){const et=m.length||0,lt=F.length||0;m.length=et+lt;for(let Nt=0;Nt<lt;Nt++)m[et+Nt]=F[Nt]}else m.push(F)}}class L{constructor(T,S){this.i=T,this.j=S,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function $(m){return/^[\s\xa0]*$/.test(m)}function G(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function Q(m){return Q[" "](m),m}Q[" "]=function(){};var Y=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function K(m,T,S){for(const F in m)T.call(S,m[F],F,m)}function B(m,T){for(const S in m)T.call(void 0,m[S],S,m)}function D(m){const T={};for(const S in m)T[S]=m[S];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,T){let S,F;for(let et=1;et<arguments.length;et++){F=arguments[et];for(S in F)m[S]=F[S];for(let lt=0;lt<M.length;lt++)S=M[lt],Object.prototype.hasOwnProperty.call(F,S)&&(m[S]=F[S])}}function H(m){var T=1;m=m.split(":");const S=[];for(;0<T&&m.length;)S.push(m.shift()),T--;return m.length&&S.push(m.join(":")),S}function V(m){u.setTimeout(()=>{throw m},0)}function U(){var m=Lt;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class Rt{constructor(){this.h=this.g=null}add(T,S){const F=vt.get();F.set(T,S),this.h?this.h.next=F:this.g=F,this.h=F}}var vt=new L(()=>new W,m=>m.reset());class W{constructor(){this.next=this.g=this.h=null}set(T,S){this.h=T,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Et=!1,Lt=new Rt,P=()=>{const m=u.Promise.resolve(void 0);ot=()=>{m.then(ut)}};var ut=()=>{for(var m;m=U();){try{m.h.call(m.g)}catch(S){V(S)}var T=vt;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}Et=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};u.addEventListener("test",S,T),u.removeEventListener("test",S,T)}catch{}return m}();function wt(m,T){if(gt.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(Y){t:{try{Q(T.nodeName);var et=!0;break t}catch{}et=!1}et||(T=null)}}else S=="mouseover"?T=m.fromElement:S=="mouseout"&&(T=m.toElement);this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:It[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&wt.aa.h.call(this)}}C(wt,gt);var It={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),it=0;function ht(m,T,S,F,et){this.listener=m,this.proxy=null,this.src=T,this.type=S,this.capture=!!F,this.ha=et,this.key=++it,this.da=this.fa=!1}function Pt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function te(m){this.src=m,this.g={},this.h=0}te.prototype.add=function(m,T,S,F,et){var lt=m.toString();m=this.g[lt],m||(m=this.g[lt]=[],this.h++);var Nt=St(m,T,F,et);return-1<Nt?(T=m[Nt],S||(T.fa=!1)):(T=new ht(T,this.src,lt,!!F,et),T.fa=S,m.push(T)),T};function ft(m,T){var S=T.type;if(S in m.g){var F=m.g[S],et=Array.prototype.indexOf.call(F,T,void 0),lt;(lt=0<=et)&&Array.prototype.splice.call(F,et,1),lt&&(Pt(T),m.g[S].length==0&&(delete m.g[S],m.h--))}}function St(m,T,S,F){for(var et=0;et<m.length;++et){var lt=m[et];if(!lt.da&&lt.listener==T&&lt.capture==!!S&&lt.ha==F)return et}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),Dt={};function Kt(m,T,S,F,et){if(Array.isArray(T)){for(var lt=0;lt<T.length;lt++)Kt(m,T[lt],S,F,et);return null}return S=rs(S),m&&m[De]?m.K(T,S,f(F)?!!F.capture:!1,et):se(m,T,S,!1,F,et)}function se(m,T,S,F,et,lt){if(!T)throw Error("Invalid event type");var Nt=f(et)?!!et.capture:!!et,ge=Ao(m);if(ge||(m[Ct]=ge=new te(m)),S=ge.add(T,S,F,Nt,lt),S.proxy)return S;if(F=sn(),S.proxy=F,F.src=m,F.listener=S,m.addEventListener)xt||(et=Nt),et===void 0&&(et=!1),m.addEventListener(T.toString(),F,et);else if(m.attachEvent)m.attachEvent(sr(T.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return S}function sn(){function m(S){return T.call(m.src,m.listener,S)}const T=ph;return m}function ri(m,T,S,F,et){if(Array.isArray(T))for(var lt=0;lt<T.length;lt++)ri(m,T[lt],S,F,et);else F=f(F)?!!F.capture:!!F,S=rs(S),m&&m[De]?(m=m.i,T=String(T).toString(),T in m.g&&(lt=m.g[T],S=St(lt,S,F,et),-1<S&&(Pt(lt[S]),Array.prototype.splice.call(lt,S,1),lt.length==0&&(delete m.g[T],m.h--)))):m&&(m=Ao(m))&&(T=m.g[T.toString()],m=-1,T&&(m=St(T,S,F,et)),(S=-1<m?T[m]:null)&&Dr(S))}function Dr(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[De])ft(T.i,m);else{var S=m.type,F=m.proxy;T.removeEventListener?T.removeEventListener(S,F,m.capture):T.detachEvent?T.detachEvent(sr(S),F):T.addListener&&T.removeListener&&T.removeListener(F),(S=Ao(T))?(ft(S,m),S.h==0&&(S.src=null,T[Ct]=null)):Pt(m)}}}function sr(m){return m in Dt?Dt[m]:Dt[m]="on"+m}function ph(m,T){if(m.da)m=!0;else{T=new wt(T,this);var S=m.listener,F=m.ha||m.src;m.fa&&Dr(m),m=S.call(F,T)}return m}function Ao(m){return m=m[Ct],m instanceof te?m:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function rs(m){return typeof m=="function"?m:(m[kr]||(m[kr]=function(T){return m.handleEvent(T)}),m[kr])}function Je(){Tt.call(this),this.i=new te(this),this.M=this,this.F=null}C(Je,Tt),Je.prototype[De]=!0,Je.prototype.removeEventListener=function(m,T,S,F){ri(this,m,T,S,F)};function ke(m,T){var S,F=m.F;if(F)for(S=[];F;F=F.F)S.push(F);if(m=m.M,F=T.type||T,typeof T=="string")T=new gt(T,m);else if(T instanceof gt)T.target=T.target||m;else{var et=T;T=new gt(F,m),z(T,et)}if(et=!0,S)for(var lt=S.length-1;0<=lt;lt--){var Nt=T.g=S[lt];et=ki(Nt,F,!0,T)&&et}if(Nt=T.g=m,et=ki(Nt,F,!0,T)&&et,et=ki(Nt,F,!1,T)&&et,S)for(lt=0;lt<S.length;lt++)Nt=T.g=S[lt],et=ki(Nt,F,!1,T)&&et}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var S=m.g[T],F=0;F<S.length;F++)Pt(S[F]);delete m.g[T],m.h--}}this.F=null},Je.prototype.K=function(m,T,S,F){return this.i.add(String(m),T,!1,S,F)},Je.prototype.L=function(m,T,S,F){return this.i.add(String(m),T,!0,S,F)};function ki(m,T,S,F){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var et=!0,lt=0;lt<T.length;++lt){var Nt=T[lt];if(Nt&&!Nt.da&&Nt.capture==S){var ge=Nt.listener,vn=Nt.ha||Nt.src;Nt.fa&&ft(m.i,Nt),et=ge.call(vn,F)!==!1&&et}}return et&&!F.defaultPrevented}function dn(m,T,S){if(typeof m=="function")S&&(m=E(m,S));else if(m&&typeof m.handleEvent=="function")m=E(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(m,T||0)}function rr(m){m.g=dn(()=>{m.g=null,m.i&&(m.i=!1,rr(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Or extends Tt{constructor(T,S){super(),this.m=T,this.l=S,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:rr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(m){Tt.call(this),this.h=m,this.g={}}C(As,Tt);var xa=[];function ar(m){K(m.g,function(T,S){this.g.hasOwnProperty(S)&&Dr(T)},m),m.g={}}As.prototype.N=function(){As.aa.N.call(this),ar(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=u.JSON.stringify,Co=u.JSON.parse,wa=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Hl(){}Hl.prototype.h=null;function $l(m){return m.h||(m.h=m.i())}function ql(){}var Cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){gt.call(this,"d")}C(Fi,gt);function Ro(){gt.call(this,"c")}C(Ro,gt);var os={},Gl=null;function Mr(){return Gl=Gl||new Je}os.La="serverreachability";function Io(m){gt.call(this,os.La,m)}C(Io,gt);function Pr(m){const T=Mr();ke(T,new Io(T))}os.STAT_EVENT="statevent";function or(m,T){gt.call(this,os.STAT_EVENT,m),this.stat=T}C(or,gt);function Me(m){const T=Mr();ke(T,new or(T,m))}os.Ma="timingevent";function yn(m,T){gt.call(this,os.Ma,m),this.size=T}C(yn,gt);function fn(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function Kl(m,T,S,F,et,lt){m.info(function(){if(m.g)if(lt)for(var Nt="",ge=lt.split("&"),vn=0;vn<ge.length;vn++){var ye=ge[vn].split("=");if(1<ye.length){var Dn=ye[0];ye=ye[1];var bn=Dn.split("_");Nt=2<=bn.length&&bn[1]=="type"?Nt+(Dn+"="+ye+"&"):Nt+(Dn+"=redacted&")}}else Nt=null;else Nt=lt;return"XMLHTTP REQ ("+F+") [attempt "+et+"]: "+T+`
`+S+`
`+Nt})}function gh(m,T,S,F,et,lt,Nt){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+et+"]: "+T+`
`+S+`
`+lt+" "+Nt})}function Rs(m,T,S,F){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Is(m,S)+(F?" "+F:"")})}function lr(m,T){m.info(function(){return"TIMEOUT: "+T})}Bi.prototype.info=function(){};function Is(m,T){if(!m.g)return T;if(!T)return null;try{var S=JSON.parse(T);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var F=S[m];if(!(2>F.length)){var et=F[1];if(Array.isArray(et)&&!(1>et.length)){var lt=et[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(var Nt=1;Nt<et.length;Nt++)et[Nt]=""}}}}return as(S)}catch{return T}}var jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ns;function Ds(){}C(Ds,Hl),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},Ns=new Ds;function mn(m,T,S,F){this.j=m,this.i=T,this.l=S,this.R=F||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var Vn={},Rn={};function Ke(m,T,S){m.L=1,m.v=js(Xe(T)),m.m=S,m.P=!0,zi(m,null)}function zi(m,T){m.F=Date.now(),Hi(m),m.A=Xe(m.v);var S=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),Na(S.i,"t",F),m.C=0,S=m.j.J,m.h=new de,m.g=Xc(m.j,S?T:null,!m.m),0<m.O&&(m.M=new Or(E(m.Y,m,m.g),m.O)),T=m.U,S=m.g,F=m.ca;var et="readystatechange";Array.isArray(et)||(et&&(xa[0]=et.toString()),et=xa);for(var lt=0;lt<et.length;lt++){var Nt=Kt(S,et[lt],F||T.handleEvent,!1,T.h||T);if(!Nt)break;T.g[Nt.key]=Nt}T=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),Pr(),Kl(m.i,m.u,m.A,m.l,m.R,m.m)}mn.prototype.ca=function(m){m=m.target;const T=this.M;T&&Bn(m)==3?T.j():this.Y(m)},mn.prototype.Y=function(m){try{if(m==this.g)t:{const bn=Bn(this.g);var T=this.g.Ba();const En=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||bn!=4||T==7||(T==8||0>=En?Pr(3):Pr(2)),Os(this);var S=this.g.Z();this.X=S;e:if(cr(this)){var F=Kc(this.g);m="";var et=F.length,lt=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ai(this);var Nt="";break e}this.h.i=new u.TextDecoder}for(T=0;T<et;T++)this.h.h=!0,m+=this.h.i.decode(F[T],{stream:!(lt&&T==et-1)});F.length=0,this.h.g+=m,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=S==200,gh(this.i,this.u,this.A,this.l,this.R,bn,S),this.o){if(this.T&&!this.K){e:{if(this.g){var ge,vn=this.g;if((ge=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ge)){var ye=ge;break e}}ye=null}if(S=ye)Rs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ur(this,S);else{this.o=!1,this.s=3,Me(12),In(this),ai(this);break t}}if(this.P){S=!0;let kn;for(;!this.J&&this.C<Nt.length;)if(kn=ks(this,Nt),kn==Rn){bn==4&&(this.s=4,Me(14),S=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Vn){this.s=4,Me(15),Rs(this.i,this.l,Nt,"[Invalid Chunk]"),S=!1;break}else Rs(this.i,this.l,kn,null),ur(this,kn);if(cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||Nt.length!=0||this.h.h||(this.s=1,Me(16),S=!1),this.o=this.o&&S,!S)Rs(this.i,this.l,Nt,"[Invalid Chunked Response]"),In(this),ai(this);else if(0<Nt.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),La(Dn),Dn.M=!0,Me(11))}}else Rs(this.i,this.l,Nt,null),ur(this,Nt);bn==4&&In(this),this.o&&!this.J&&(bn==4?nc(this.j,this):(this.o=!1,Hi(this)))}else Wc(this.g),S==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),In(this),ai(this)}}}catch{}finally{}};function cr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ks(m,T){var S=m.C,F=T.indexOf(`
`,S);return F==-1?Rn:(S=Number(T.substring(S,F)),isNaN(S)?Vn:(F+=1,F+S>T.length?Rn:(T=T.slice(F,F+S),m.C=F+S,T)))}mn.prototype.cancel=function(){this.J=!0,In(this)};function Hi(m){m.S=Date.now()+m.I,Wl(m,m.I)}function Wl(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=fn(E(m.ba,m),T)}function Os(m){m.B&&(u.clearTimeout(m.B),m.B=null)}mn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(lr(this.i,this.A),this.L!=2&&(Pr(),Me(17)),In(this),this.s=2,ai(this)):Wl(this,this.S-m)};function ai(m){m.j.G==0||m.J||nc(m.j,m)}function In(m){Os(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,ar(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function ur(m,T){try{var S=m.j;if(S.G!=0&&(S.g==m||Do(S.h,m))){if(!m.K&&Do(S.h,m)&&S.G==3){try{var F=S.Da.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var et=F;if(et[0]==0){t:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)Va(S),Ma(S);else break t;ec(S),Me(18)}}else S.za=et[1],0<S.za-S.T&&37500>et[2]&&S.F&&S.v==0&&!S.C&&(S.C=fn(E(S.Za,S),6e3));if(1>=Aa(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else fs(S,11)}else if((m.K||S.g==m)&&Va(S),!$(T))for(et=S.Da.g.parse(T),T=0;T<et.length;T++){let ye=et[T];if(S.T=ye[0],ye=ye[1],S.G==2)if(ye[0]=="c"){S.K=ye[1],S.ia=ye[2];const Dn=ye[3];Dn!=null&&(S.la=Dn,S.j.info("VER="+S.la));const bn=ye[4];bn!=null&&(S.Aa=bn,S.j.info("SVER="+S.Aa));const En=ye[5];En!=null&&typeof En=="number"&&0<En&&(F=1.5*En,S.L=F,S.j.info("backChannelRequestTimeoutMs_="+F)),F=S;const kn=m.g;if(kn){const ms=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var lt=F.h;lt.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&(Ca(lt,lt.h),lt.h=null))}if(F.D){const Uo=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(F.ya=Uo,pe(F.I,F.D,Uo))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),F=S;var Nt=m;if(F.qa=ic(F,F.J?F.ia:null,F.W),Nt.K){Xn(F.h,Nt);var ge=Nt,vn=F.L;vn&&(ge.I=vn),ge.B&&(Os(ge),Hi(ge)),F.g=Nt}else ja(F);0<S.i.length&&Pa(S)}else ye[0]!="stop"&&ye[0]!="close"||fs(S,7);else S.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?fs(S,7):Po(S):ye[0]!="noop"&&S.l&&S.l.ta(ye),S.v=0)}}Pr(4)}catch{}}var No=class{constructor(m,T){this.g=m,this.map=T}};function Ms(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Aa(m){return m.h?1:m.g?m.g.size:0}function Do(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Ca(m,T){m.g?m.g.add(T):m.h=T}function Xn(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Ms.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ko(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const S of m.g.values())T=T.concat(S.D);return T}return N(m.i)}function qc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var T=[],S=m.length,F=0;F<S;F++)T.push(m[F]);return T}T=[],S=0;for(F in m)T[S++]=m[F];return T}function Ra(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var T=[];m=m.length;for(var S=0;S<m;S++)T.push(S);return T}T=[],S=0;for(const F in m)T[S++]=F;return T}}}function Oo(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var S=Ra(m),F=qc(m),et=F.length,lt=0;lt<et;lt++)T.call(void 0,F[lt],S&&S[lt],m)}var Qn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oi(m,T){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var F=m[S].indexOf("="),et=null;if(0<=F){var lt=m[S].substring(0,F);et=m[S].substring(F+1)}else lt=m[S];T(lt,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function He(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof He){this.h=m.h,hr(this,m.j),this.o=m.o,this.g=m.g,Ps(this,m.s),this.l=m.l;var T=m.i,S=new Zn;S.i=T.i,T.g&&(S.g=new Map(T.g),S.h=T.h),Nn(this,S),this.m=m.m}else m&&(T=String(m).match(Qn))?(this.h=!1,hr(this,T[1]||"",!0),this.o=Un(T[2]||""),this.g=Un(T[3]||"",!0),Ps(this,T[4]),this.l=Un(T[5]||"",!0),Nn(this,T[6]||"",!0),this.m=Un(T[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}He.prototype.toString=function(){var m=[],T=this.j;T&&m.push(dr(T,Ls,!0),":");var S=this.g;return(S||T=="file")&&(m.push("//"),(T=this.o)&&m.push(dr(T,Ls,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(dr(S,S.charAt(0)=="/"?Gc:Ia,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",dr(S,Mo)),m.join("")};function Xe(m){return new He(m)}function hr(m,T,S){m.j=S?Un(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Ps(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function Nn(m,T,S){T instanceof Zn?(m.i=T,Xl(m.i,m.h)):(S||(T=dr(T,cs)),m.i=new Zn(T,m.h))}function pe(m,T,S){m.i.set(T,S)}function js(m){return pe(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Un(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function dr(m,T,S){return typeof m=="string"?(m=encodeURI(m).replace(T,Yl),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Yl(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ls=/[#\/\?@]/g,Ia=/[#\?:]/g,Gc=/[#\?]/g,cs=/[#\?@]/g,Mo=/#/g;function Zn(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function li(m){m.g||(m.g=new Map,m.h=0,m.i&&oi(m.i,function(T,S){m.add(decodeURIComponent(T.replace(/\+/g," ")),S)}))}n=Zn.prototype,n.add=function(m,T){li(this),this.i=null,m=yi(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(T),this.h+=1,this};function Vs(m,T){li(m),T=yi(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Oi(m,T){return li(m),T=yi(m,T),m.g.has(T)}n.forEach=function(m,T){li(this),this.g.forEach(function(S,F){S.forEach(function(et){m.call(T,et,F,this)},this)},this)},n.na=function(){li(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),S=[];for(let F=0;F<T.length;F++){const et=m[F];for(let lt=0;lt<et.length;lt++)S.push(T[F])}return S},n.V=function(m){li(this);let T=[];if(typeof m=="string")Oi(this,m)&&(T=T.concat(this.g.get(yi(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)T=T.concat(m[S])}return T},n.set=function(m,T){return li(this),this.i=null,m=yi(this,m),Oi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function Na(m,T,S){Vs(m,T),0<S.length&&(m.i=null,m.g.set(yi(m,T),N(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var S=0;S<T.length;S++){var F=T[S];const lt=encodeURIComponent(String(F)),Nt=this.V(F);for(F=0;F<Nt.length;F++){var et=lt;Nt[F]!==""&&(et+="="+encodeURIComponent(String(Nt[F]))),m.push(et)}}return this.i=m.join("&")};function yi(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Xl(m,T){T&&!m.j&&(li(m),m.i=null,m.g.forEach(function(S,F){var et=F.toLowerCase();F!=et&&(Vs(this,F),Na(this,et,S))},m)),m.j=T}function Lr(m,T){const S=new Bi;if(u.Image){const F=new Image;F.onload=w(Fn,S,"TestLoadImage: loaded",!0,T,F),F.onerror=w(Fn,S,"TestLoadImage: error",!1,T,F),F.onabort=w(Fn,S,"TestLoadImage: abort",!1,T,F),F.ontimeout=w(Fn,S,"TestLoadImage: timeout",!1,T,F),u.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else T(!1)}function $i(m,T){const S=new Bi,F=new AbortController,et=setTimeout(()=>{F.abort(),Fn(S,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:F.signal}).then(lt=>{clearTimeout(et),lt.ok?Fn(S,"TestPingServer: ok",!0,T):Fn(S,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(et),Fn(S,"TestPingServer: error",!1,T)})}function Fn(m,T,S,F,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),F(S)}catch{}}function Da(){this.g=new wa}function us(m,T,S){const F=S||"";try{Oo(m,function(et,lt){let Nt=et;f(et)&&(Nt=as(et)),T.push(F+lt+"="+encodeURIComponent(Nt))})}catch(et){throw T.push(F+"type="+encodeURIComponent("_badmap")),et}}function Us(m){this.l=m.Ub||null,this.j=m.eb||!1}C(Us,Hl),Us.prototype.g=function(){return new qi(this.l,this.j)},Us.prototype.i=function(m){return function(){return m}}({});function qi(m,T){Je.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(qi,Je),n=qi.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,Mi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ka(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ka(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Fs(this):Mi(this),this.readyState==3&&ka(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Fs(this))},n.Qa=function(m){this.g&&(this.response=m,Fs(this))},n.ga=function(){this.g&&Fs(this)};function Fs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Mi(m)}n.setRequestHeader=function(m,T){this.u.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var S=T.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=T.next();return m.join(`\r
`)};function Mi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ql(m){let T="";return K(m,function(S,F){T+=F,T+=":",T+=S,T+=`\r
`}),T}function _n(m,T,S){t:{for(F in S){var F=!1;break t}F=!0}F||(S=Ql(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):pe(m,T,S))}function xe(m){Je.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xe,Je);var Vr=/^https?$/i,fr=["POST","PUT"];n=xe.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,T,S,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ns.g(),this.v=this.o?$l(this.o):$l(Ns),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(lt){Zl(this,lt);return}if(m=S||"",S=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var et in F)S.set(et,F[et]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const lt of F.keys())S.set(lt,F.get(lt));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(S.keys()).find(lt=>lt.toLowerCase()=="content-type"),et=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fr,T,void 0))||F||et||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,Nt]of S)this.g.setRequestHeader(lt,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fr(this),this.u=!0,this.g.send(m),this.u=!1}catch(lt){Zl(this,lt)}};function Zl(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Bs(m),hs(m)}function Bs(m){m.A||(m.A=!0,ke(m,"complete"),ke(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ke(this,"complete"),ke(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ur(this):this.bb())},n.bb=function(){Ur(this)};function Ur(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Bn(m)!=4||m.Z()!=2)){if(m.u&&Bn(m)==4)dn(m.Ea,0,m);else if(ke(m,"readystatechange"),Bn(m)==4){m.h=!1;try{const Nt=m.Z();t:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var S;if(!(S=T)){var F;if(F=Nt===0){var et=String(m.D).match(Qn)[1]||null;!et&&u.self&&u.self.location&&(et=u.self.location.protocol.slice(0,-1)),F=!Vr.test(et?et.toLowerCase():"")}S=F}if(S)ke(m,"complete"),ke(m,"success");else{m.m=6;try{var lt=2<Bn(m)?m.g.statusText:""}catch{lt=""}m.l=lt+" ["+m.Z()+"]",Bs(m)}}finally{hs(m)}}}}function hs(m,T){if(m.g){Fr(m);const S=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||ke(m,"ready");try{S.onreadystatechange=F}catch{}}}function Fr(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Bn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Co(T)}};function Kc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Wc(m){const T={};m=(m.g&&2<=Bn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if($(m[F]))continue;var S=H(m[F]);const et=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const lt=T[et]||[];T[et]=lt,lt.push(S)}B(T,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(m,T,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||T}function Oa(m){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,m),this.cb=Br("retryDelaySeedMs",1e4,m),this.Wa=Br("forwardChannelMaxRetries",2,m),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(m&&m.concurrentRequestLimit),this.Da=new Da,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Oa.prototype,n.la=8,n.G=1,n.connect=function(m,T,S,F){Me(0),this.W=m,this.H=T||{},S&&F!==void 0&&(this.H.OSID=S,this.H.OAID=F),this.F=this.X,this.I=ic(this,null,this.W),Pa(this)};function Po(m){if(jo(m),m.G==3){var T=m.U++,S=Xe(m.I);if(pe(S,"SID",m.K),pe(S,"RID",T),pe(S,"TYPE","terminate"),zr(m,S),T=new mn(m,m.j,T),T.L=2,T.v=js(Xe(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=T.v,S=!0),S||(T.g=Xc(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Hi(T)}Yc(m)}function Ma(m){m.g&&(La(m),m.g.cancel(),m.g=null)}function jo(m){Ma(m),m.u&&(u.clearTimeout(m.u),m.u=null),Va(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Pa(m){if(!Sa(m.h)&&!m.s){m.s=!0;var T=m.Ga;ot||P(),Et||(ot(),Et=!0),Lt.add(T,m),m.B=0}}function yh(m,T){return Aa(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=fn(E(m.Ga,m,T),ds(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const et=new mn(this,this.j,m);let lt=this.o;if(this.S&&(lt?(lt=D(lt),z(lt,this.S)):lt=this.S),this.m!==null||this.O||(et.H=lt,lt=null),this.P)t:{for(var T=0,S=0;S<this.i.length;S++){e:{var F=this.i[S];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break e}F=void 0}if(F===void 0)break;if(T+=F,4096<T){T=S;break t}if(T===4096||S===this.i.length-1){T=S+1;break t}}T=1e3}else T=1e3;T=tc(this,et,T),S=Xe(this.I),pe(S,"RID",m),pe(S,"CVER",22),this.D&&pe(S,"X-HTTP-Session-Id",this.D),zr(this,S),lt&&(this.O?T="headers="+encodeURIComponent(String(Ql(lt)))+"&"+T:this.m&&_n(S,this.m,lt)),Ca(this.h,et),this.Ua&&pe(S,"TYPE","init"),this.P?(pe(S,"$req",T),pe(S,"SID","null"),et.T=!0,Ke(et,S,null)):Ke(et,S,T),this.G=2}}else this.G==3&&(m?Jl(this,m):this.i.length==0||Sa(this.h)||Jl(this))};function Jl(m,T){var S;T?S=T.l:S=m.U++;const F=Xe(m.I);pe(F,"SID",m.K),pe(F,"RID",S),pe(F,"AID",m.T),zr(m,F),m.m&&m.o&&_n(F,m.m,m.o),S=new mn(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),T&&(m.i=T.D.concat(m.i)),T=tc(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ca(m.h,S),Ke(S,F,T)}function zr(m,T){m.H&&K(m.H,function(S,F){pe(T,F,S)}),m.l&&Oo({},function(S,F){pe(T,F,S)})}function tc(m,T,S){S=Math.min(m.i.length,S);var F=m.l?E(m.l.Na,m.l,m):null;t:{var et=m.i;let lt=-1;for(;;){const Nt=["count="+S];lt==-1?0<S?(lt=et[0].g,Nt.push("ofs="+lt)):lt=0:Nt.push("ofs="+lt);let ge=!0;for(let vn=0;vn<S;vn++){let ye=et[vn].g;const Dn=et[vn].map;if(ye-=lt,0>ye)lt=Math.max(0,et[vn].g-100),ge=!1;else try{us(Dn,Nt,"req"+ye+"_")}catch{F&&F(Dn)}}if(ge){F=Nt.join("&");break t}}}return m=m.i.splice(0,S),T.D=m,F}function ja(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;ot||P(),Et||(ot(),Et=!0),Lt.add(T,m),m.v=0}}function ec(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=fn(E(m.Fa,m),ds(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Lo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=fn(E(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Ma(this),Lo(this))};function La(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Lo(m){m.g=new mn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=Xe(m.qa);pe(T,"RID","rpc"),pe(T,"SID",m.K),pe(T,"AID",m.T),pe(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&pe(T,"TO",m.ja),pe(T,"TYPE","xmlhttp"),zr(m,T),m.m&&m.o&&_n(T,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=js(Xe(T)),S.m=null,S.P=!0,zi(S,m)}n.Za=function(){this.C!=null&&(this.C=null,Ma(this),ec(this),Me(19))};function Va(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function nc(m,T){var S=null;if(m.g==T){Va(m),La(m),m.g=null;var F=2}else if(Do(m.h,T))S=T.D,Xn(m.h,T),F=1;else return;if(m.G!=0){if(T.o)if(F==1){S=T.m?T.m.length:0,T=Date.now()-T.F;var et=m.B;F=Mr(),ke(F,new yn(F,S)),Pa(m)}else ja(m);else if(et=T.s,et==3||et==0&&0<T.X||!(F==1&&yh(m,T)||F==2&&ec(m)))switch(S&&0<S.length&&(T=m.h,T.i=T.i.concat(S)),et){case 1:fs(m,5);break;case 4:fs(m,10);break;case 3:fs(m,6);break;default:fs(m,2)}}}function ds(m,T){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*T}function fs(m,T){if(m.j.info("Error code "+T),T==2){var S=E(m.fb,m),F=m.Xa;const et=!F;F=new He(F||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hr(F,"https"),js(F),et?Lr(F.toString(),S):$i(F.toString(),S)}else Me(2);m.G=0,m.l&&m.l.sa(T),Yc(m),jo(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Yc(m){if(m.G=0,m.ka=[],m.l){const T=ko(m.h);(T.length!=0||m.i.length!=0)&&(R(m.ka,T),R(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function ic(m,T,S){var F=S instanceof He?Xe(S):new He(S);if(F.g!="")T&&(F.g=T+"."+F.g),Ps(F,F.s);else{var et=u.location;F=et.protocol,T=T?T+"."+et.hostname:et.hostname,et=+et.port;var lt=new He(null);F&&hr(lt,F),T&&(lt.g=T),et&&Ps(lt,et),S&&(lt.l=S),F=lt}return S=m.D,T=m.ya,S&&T&&pe(F,S,T),pe(F,"VER",m.la),zr(m,F),F}function Xc(m,T,S){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new xe(new Us({eb:S})):new xe(m.pa),T.Ha(m.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}n=Qc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vo(){}Vo.prototype.g=function(m,T){return new ci(m,T)};function ci(m,T){Je.call(this),this.g=new Oa(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!$(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!$(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new zs(this)}C(ci,Je),ci.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){Po(this.g)},ci.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=as(m),m=S);T.i.push(new No(T.Ya++,m)),T.G==3&&Pa(T)},ci.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,ci.aa.N.call(this)};function sc(m){Fi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){t:{for(const S in T){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}C(sc,Fi);function rc(){Ro.call(this),this.status=1}C(rc,Ro);function zs(m){this.g=m}C(zs,Qc),zs.prototype.ua=function(){ke(this.g,"a")},zs.prototype.ta=function(m){ke(this.g,new sc(m))},zs.prototype.sa=function(m){ke(this.g,new rc)},zs.prototype.ra=function(){ke(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,pC=function(){return new Vo},mC=function(){return Mr()},fC=os,yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,_p=jr,ls.COMPLETE="complete",dC=ls,ql.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",Je.prototype.listen=Je.prototype.K,jd=ql,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,hC=xe}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});const yx="@firebase/firestore",_x="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new yg("@firebase/firestore");function Ou(){return Nc.logLevel}function Vt(n,...t){if(Nc.logLevel<=_e.DEBUG){const e=t.map(hb);Nc.debug(`Firestore (${ah}): ${n}`,...e)}}function Eo(n,...t){if(Nc.logLevel<=_e.ERROR){const e=t.map(hb);Nc.error(`Firestore (${ah}): ${n}`,...e)}}function Ku(n,...t){if(Nc.logLevel<=_e.WARN){const e=t.map(hb);Nc.warn(`Firestore (${ah}): ${n}`,...e)}}function hb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,gC(n,i,e)}function gC(n,t,e){let i=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Eo(i),new Error(i)}function je(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||gC(t,s,i)}function oe(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends ir{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ai.UNAUTHENTICATED))}shutdown(){}}class ZM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class JM{constructor(t){this.t=t,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){je(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new Sl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Sl,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sl)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(je(typeof i.accessToken=="string",31837,{l:i}),new yC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string",2055,{h:t}),new Ai(t)}}class t2{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e2{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new t2(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){je(this.o===void 0,3512);const i=a=>{a.error!=null&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(je(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new vx(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=i2(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%62))}return i}}function ve(n,t){return n<t?-1:n>t?1:0}function _v(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const s=n.charAt(i),a=t.charAt(i);if(s!==a)return R_(s)===R_(a)?ve(s,a):R_(s)?1:-1}return ve(n.length,t.length)}const s2=55296,r2=57343;function R_(n){const t=n.charCodeAt(0);return t>=s2&&t<=r2}function Wu(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="__name__";class la{constructor(t,e,i){e===void 0?e=0:e>t.length&&Jt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Jt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return la.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof la?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=la.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return ve(t.length,e.length)}static compareSegments(t,e){const i=la.isNumericId(t),s=la.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?la.extractNumericId(t).compare(la.extractNumericId(e)):_v(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wl.fromString(t.substring(4,t.length-2))}}class en extends la{construct(t,e,i){return new en(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ft(bt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new en(e)}static emptyPath(){return new en([])}}const a2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends la{construct(t,e,i){return new pi(t,e,i)}static isValidIdentifier(t){return a2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bx}static keyField(){return new pi([bx])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Ft(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new Ft(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ft(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(a(),s++)}if(a(),l)throw new Ft(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pi(e)}static emptyPath(){return new pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.path=t}static fromPath(t){return new $t(en.fromString(t))}static fromName(t){return new $t(en.fromString(t).popFirst(5))}static empty(){return new $t(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&en.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return en.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $t(new en(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n,t,e){if(!e)throw new Ft(bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function o2(n,t,e,i){if(t===!0&&i===!0)throw new Ft(bt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ex(n){if(!$t.isDocumentKey(n))throw new Ft(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tx(n){if($t.isDocumentKey(n))throw new Ft(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Jt(12329,{type:typeof n})}function Dc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ft(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=fb(n);throw new Ft(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n,t){const e={typeString:n};return t&&(e.value=t),e}function wf(n,t){if(!vC(n))throw new Ft(bt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(s&&typeof l!==s){e=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new Ft(bt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=-62135596800,wx=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(t){return nn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*wx);return new nn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ft(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ft(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<xx)throw new Ft(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ft(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wx}_compareTo(t){return this.seconds===t.seconds?ve(this.nanoseconds,t.nanoseconds):ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wf(t,nn._jsonSchema))return new nn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:jn("string",nn._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(t){return new re(t)}static min(){return new re(new nn(0,0))}static max(){return new re(new nn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=-1;function l2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=re.fromTimestamp(i===1e9?new nn(e+1,0):new nn(e,i));return new Nl(s,$t.empty(),t)}function c2(n){return new Nl(n.readTime,n.key,nf)}class Nl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Nl(re.min(),$t.empty(),nf)}static max(){return new Nl(re.max(),$t.empty(),nf)}}function u2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=$t.comparator(n.documentKey,t.documentKey),e!==0?e:ve(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(n){if(n.code!==bt.FAILED_PRECONDITION||n.message!==h2)throw n;Vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new _t((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof _t?e:_t.resolve(e)}catch(e){return _t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):_t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):_t.reject(e)}static resolve(t){return new _t((e,i)=>{e(t)})}static reject(t){return new _t((e,i)=>{i(t)})}static waitFor(t){return new _t((e,i)=>{let s=0,a=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&e()},h=>i(h))}),l=!0,a===s&&e()})}static or(t){let e=_t.resolve(!1);for(const i of t)e=e.next(s=>s?_t.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}static mapArray(t,e){return new _t((i,s)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next(g=>{l[f]=g,++u,u===a&&i(l)},g=>s(g))}})}static doWhile(t,e){return new _t((i,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):i()};a()})}}function f2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function lh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=-1;function bg(n){return n==null}function Mp(n){return n===0&&1/n==-1/0}function m2(n){return typeof n=="number"&&Number.isInteger(n)&&!Mp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="";function p2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Sx(t)),t=g2(n.get(e),t);return Sx(t)}function g2(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="";break;case bC:e+="";break;default:e+=a}}return e}function Sx(n){return n+bC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function EC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,e){this.comparator=t,this.root=e||mi.EMPTY}insert(t,e){return new hn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(t){return new hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gm(this.root,t,this.comparator,!0)}}class Gm{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mi{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=i??mi.RED,this.left=s??mi.EMPTY,this.right=a??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new mi(t??this.key,e??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return mi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Jt(27949);return t+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1;mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt(57766)}get value(){throw Jt(16141)}get color(){throw Jt(16727)}get left(){throw Jt(29726)}get right(){throw Jt(36894)}copy(t,e,i,s,a){return this}insert(t,e,i){return new mi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.comparator=t,this.data=new hn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Cx(this.data.getIterator())}getIteratorFrom(t){return new Cx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yn(this.comparator);return e.data=t,e}}class Cx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.fields=t,t.sort(pi.comparator)}static empty(){return new ws([])}unionWith(t){let e=new Yn(pi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ws(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new TC("Invalid base64 string: "+a):a}}(t);return new gi(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new gi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(n){if(je(!!n,39018),typeof n=="string"){let t=0;const e=y2.exec(n);if(je(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:An(n.seconds),nanos:An(n.nanos)}}function An(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kl(n){return typeof n=="string"?gi.fromBase64String(n):gi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="server_timestamp",wC="__type__",SC="__previous_value__",AC="__local_write_time__";function pb(n){return(n?.mapValue?.fields||{})[wC]?.stringValue===xC}function Eg(n){const t=n.mapValue.fields[SC];return pb(t)?Eg(t):t}function sf(n){const t=Dl(n.mapValue.fields[AC].timestampValue);return new nn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e,i,s,a,l,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Pp="(default)";class rf{constructor(t,e){this.projectId=t,this.database=e||Pp}static empty(){return new rf("","")}get isDefaultDatabase(){return this.database===Pp}isEqual(t){return t instanceof rf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__type__",v2="__max__",Km={mapValue:{}},RC="__vector__",jp="value";function Ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pb(n)?4:E2(n)?9007199254740991:b2(n)?10:11:Jt(28295,{value:n})}function ya(n,t){if(n===t)return!0;const e=Ol(n);if(e!==Ol(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return sf(n).isEqual(sf(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Dl(s.timestampValue),u=Dl(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,a){return kl(s.bytesValue).isEqual(kl(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,a){return An(s.geoPointValue.latitude)===An(a.geoPointValue.latitude)&&An(s.geoPointValue.longitude)===An(a.geoPointValue.longitude)}(n,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return An(s.integerValue)===An(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=An(s.doubleValue),u=An(a.doubleValue);return l===u?Mp(l)===Mp(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Wu(n.arrayValue.values||[],t.arrayValue.values||[],ya);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(Ax(l)!==Ax(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ya(l[h],u[h])))return!1;return!0}(n,t);default:return Jt(52216,{left:n})}}function af(n,t){return(n.values||[]).find(e=>ya(e,t))!==void 0}function Yu(n,t){if(n===t)return 0;const e=Ol(n),i=Ol(t);if(e!==i)return ve(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,t.booleanValue);case 2:return function(a,l){const u=An(a.integerValue||a.doubleValue),h=An(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return Rx(n.timestampValue,t.timestampValue);case 4:return Rx(sf(n),sf(t));case 5:return _v(n.stringValue,t.stringValue);case 6:return function(a,l){const u=kl(a),h=kl(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=ve(u[f],h[f]);if(g!==0)return g}return ve(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const u=ve(An(a.latitude),An(l.latitude));return u!==0?u:ve(An(a.longitude),An(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Ix(n.arrayValue,t.arrayValue);case 10:return function(a,l){const u=a.fields||{},h=l.fields||{},f=u[jp]?.arrayValue,g=h[jp]?.arrayValue,b=ve(f?.values?.length||0,g?.values?.length||0);return b!==0?b:Ix(f,g)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===Km.mapValue&&l===Km.mapValue)return 0;if(a===Km.mapValue)return 1;if(l===Km.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const E=_v(h[b],g[b]);if(E!==0)return E;const w=Yu(u[h[b]],f[g[b]]);if(w!==0)return w}return ve(h.length,g.length)}(n.mapValue,t.mapValue);default:throw Jt(23264,{he:e})}}function Rx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ve(n,t);const e=Dl(n),i=Dl(t),s=ve(e.seconds,i.seconds);return s!==0?s:ve(e.nanos,i.nanos)}function Ix(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const a=Yu(e[s],i[s]);if(a)return a}return ve(e.length,i.length)}function Xu(n){return vv(n)}function vv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Dl(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return kl(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return $t.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const a of e.values||[])s?s=!1:i+=",",i+=vv(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${vv(e.fields[l])}`;return s+"}"}(n.mapValue):Jt(61005,{value:n})}function vp(n){switch(Ol(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Eg(n);return t?16+vp(t):16;case 5:return 2*n.stringValue.length;case 6:return kl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+vp(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Fl(i.fields,(a,l)=>{s+=a.length+vp(l)}),s}(n.mapValue);default:throw Jt(13486,{value:n})}}function bv(n){return!!n&&"integerValue"in n}function gb(n){return!!n&&"arrayValue"in n}function Nx(n){return!!n&&"nullValue"in n}function Dx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bp(n){return!!n&&"mapValue"in n}function b2(n){return(n?.mapValue?.fields||{})[CC]?.stringValue===RC}function $d(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Fl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=$d(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$d(n.arrayValue.values[e]);return t}return{...n}}function E2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===v2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!bp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$d(e)}setAll(t){let e=pi.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=$d(l):s.push(u.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());bp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ya(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];bp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Fl(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new es($d(this.value))}}function IC(n){const t=[];return Fl(n.fields,(e,i)=>{const s=new pi([e]);if(bp(i)){const a=IC(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new ws(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,e,i,s,a,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Ci(t,0,re.min(),re.min(),re.min(),es.empty(),0)}static newFoundDocument(t,e,i,s){return new Ci(t,1,e,re.min(),i,s,0)}static newNoDocument(t,e){return new Ci(t,2,e,re.min(),re.min(),es.empty(),0)}static newUnknownDocument(t,e){return new Ci(t,3,e,re.min(),re.min(),es.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,e){this.position=t,this.inclusive=e}}function kx(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],l=n.position[s];if(a.field.isKeyField()?i=$t.comparator($t.fromName(l.referenceValue),e.key):i=Yu(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ox(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ya(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,e="asc"){this.field=t,this.dir=e}}function T2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class Kn extends NC{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new w2(t,e,i):e==="array-contains"?new C2(t,i):e==="in"?new R2(t,i):e==="not-in"?new I2(t,i):e==="array-contains-any"?new N2(t,i):new Kn(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new S2(t,i):new A2(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yu(e,this.value)):e!==null&&Ol(this.value)===Ol(e)&&this.matchesComparison(Yu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends NC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new _a(t,e)}matches(t){return DC(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DC(n){return n.op==="and"}function kC(n){return x2(n)&&DC(n)}function x2(n){for(const t of n.filters)if(t instanceof _a)return!1;return!0}function Ev(n){if(n instanceof Kn)return n.field.canonicalString()+n.op.toString()+Xu(n.value);if(kC(n))return n.filters.map(t=>Ev(t)).join(",");{const t=n.filters.map(e=>Ev(e)).join(",");return`${n.op}(${t})`}}function OC(n,t){return n instanceof Kn?function(i,s){return s instanceof Kn&&i.op===s.op&&i.field.isEqual(s.field)&&ya(i.value,s.value)}(n,t):n instanceof _a?function(i,s){return s instanceof _a&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,u)=>a&&OC(l,s.filters[u]),!0):!1}(n,t):void Jt(19439)}function MC(n){return n instanceof Kn?function(e){return`${e.field.canonicalString()} ${e.op} ${Xu(e.value)}`}(n):n instanceof _a?function(e){return e.op.toString()+" {"+e.getFilters().map(MC).join(" ,")+"}"}(n):"Filter"}class w2 extends Kn{constructor(t,e,i){super(t,e,i),this.key=$t.fromName(i.referenceValue)}matches(t){const e=$t.comparator(t.key,this.key);return this.matchesComparison(e)}}class S2 extends Kn{constructor(t,e){super(t,"in",e),this.keys=PC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class A2 extends Kn{constructor(t,e){super(t,"not-in",e),this.keys=PC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function PC(n,t){return(t.arrayValue?.values||[]).map(e=>$t.fromName(e.referenceValue))}class C2 extends Kn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gb(e)&&af(e.arrayValue,this.value)}}class R2 extends Kn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&af(this.value.arrayValue,e)}}class I2 extends Kn{constructor(t,e){super(t,"not-in",e)}matches(t){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!af(this.value.arrayValue,e)}}class N2 extends Kn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>af(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,e=null,i=[],s=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Mx(n,t=null,e=[],i=[],s=null,a=null,l=null){return new D2(n,t,e,i,s,a,l)}function yb(n){const t=oe(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Ev(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),bg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Xu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Xu(i)).join(",")),t.Te=e}return t.Te}function _b(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!T2(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!OC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ox(n.startAt,t.startAt)&&Ox(n.endAt,t.endAt)}function Tv(n){return $t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,e=null,i=[],s=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k2(n,t,e,i,s,a,l,u){return new Tg(n,t,e,i,s,a,l,u)}function jC(n){return new Tg(n)}function Px(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O2(n){return n.collectionGroup!==null}function qd(n){const t=oe(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Yn(pi.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Vp(a,i))}),e.has(pi.keyField().canonicalString())||t.Ie.push(new Vp(pi.keyField(),i))}return t.Ie}function ua(n){const t=oe(n);return t.Ee||(t.Ee=M2(t,qd(n))),t.Ee}function M2(n,t){if(n.limitType==="F")return Mx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Vp(s.field,a)});const e=n.endAt?new Lp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lp(n.startAt.position,n.startAt.inclusive):null;return Mx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function xv(n,t,e){return new Tg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function xg(n,t){return _b(ua(n),ua(t))&&n.limitType===t.limitType}function LC(n){return`${yb(ua(n))}|lt:${n.limitType}`}function Mu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>MC(s)).join(", ")}]`),bg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Xu(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Xu(s)).join(",")),`Target(${i})`}(ua(n))}; limitType=${n.limitType})`}function wg(n,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):$t.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,s){for(const a of qd(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,h){const f=kx(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,qd(i),s)||i.endAt&&!function(l,u,h){const f=kx(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,qd(i),s))}(n,t)}function P2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VC(n){return(t,e)=>{let i=!1;for(const s of qd(n)){const a=j2(s,t,e);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function j2(n,t,e){const i=n.field.isKeyField()?$t.comparator(t.key,e.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Yu(h,f):Jt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Jt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Fl(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new hn($t.comparator);function To(){return L2}const UC=new hn($t.comparator);function Ld(...n){let t=UC;for(const e of n)t=t.insert(e.key,e);return t}function FC(n){let t=UC;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ac(){return Gd()}function BC(){return Gd()}function Gd(){return new Bc(n=>n.toString(),(n,t)=>n.isEqual(t))}const V2=new hn($t.comparator),U2=new Yn($t.comparator);function be(...n){let t=U2;for(const e of n)t=t.add(e);return t}const F2=new Yn(ve);function B2(){return F2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(t)?"-0":t}}function zC(n){return{integerValue:""+n}}function z2(n,t){return m2(t)?zC(t):vb(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this._=void 0}}function H2(n,t,e){return n instanceof Up?function(s,a){const l={fields:{[wC]:{stringValue:xC},[AC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&pb(a)&&(a=Eg(a)),a&&(l.fields[SC]=a),{mapValue:l}}(e,t):n instanceof of?$C(n,t):n instanceof lf?qC(n,t):function(s,a){const l=HC(s,a),u=jx(l)+jx(s.Ae);return bv(l)&&bv(s.Ae)?zC(u):vb(s.serializer,u)}(n,t)}function $2(n,t,e){return n instanceof of?$C(n,t):n instanceof lf?qC(n,t):e}function HC(n,t){return n instanceof Fp?function(i){return bv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Up extends Sg{}class of extends Sg{constructor(t){super(),this.elements=t}}function $C(n,t){const e=GC(t);for(const i of n.elements)e.some(s=>ya(s,i))||e.push(i);return{arrayValue:{values:e}}}class lf extends Sg{constructor(t){super(),this.elements=t}}function qC(n,t){let e=GC(t);for(const i of n.elements)e=e.filter(s=>!ya(s,i));return{arrayValue:{values:e}}}class Fp extends Sg{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function jx(n){return An(n.integerValue||n.doubleValue)}function GC(n){return gb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function q2(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof of&&s instanceof of||i instanceof lf&&s instanceof lf?Wu(i.elements,s.elements,ya):i instanceof Fp&&s instanceof Fp?ya(i.Ae,s.Ae):i instanceof Up&&s instanceof Up}(n.transform,t.transform)}class G2{constructor(t,e){this.version=t,this.transformResults=e}}class Ar{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ar}static exists(t){return new Ar(void 0,t)}static updateTime(t){return new Ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ep(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ag{}function KC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new bb(n.key,Ar.none()):new Sf(n.key,n.data,Ar.none());{const e=n.data,i=es.empty();let s=new Yn(pi.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Bl(n.key,i,new ws(s.toArray()),Ar.none())}}function K2(n,t,e){n instanceof Sf?function(s,a,l){const u=s.value.clone(),h=Vx(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Bl?function(s,a,l){if(!Ep(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Vx(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(WC(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Kd(n,t,e,i){return n instanceof Sf?function(a,l,u,h){if(!Ep(a.precondition,l))return u;const f=a.value.clone(),g=Ux(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Bl?function(a,l,u,h){if(!Ep(a.precondition,l))return u;const f=Ux(a.fieldTransforms,h,l),g=l.data;return g.setAll(WC(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(b=>b.field))}(n,t,e,i):function(a,l,u){return Ep(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function W2(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=HC(i.transform,s||null);a!=null&&(e===null&&(e=es.empty()),e.set(i.field,a))}return e||null}function Lx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Wu(i,s,(a,l)=>q2(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Sf extends Ag{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bl extends Ag{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Vx(n,t,e){const i=new Map;je(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const a=n[s],l=a.transform,u=t.data.field(a.field);i.set(a.field,$2(l,u,e[s]))}return i}function Ux(n,t,e){const i=new Map;for(const s of n){const a=s.transform,l=e.data.field(s.field);i.set(s.field,H2(a,l,t))}return i}class bb extends Ag{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends Ag{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&K2(a,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Kd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Kd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=BC();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(s.key)?null:u;const h=KC(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(re.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),be())}isEqual(t){return this.batchId===t.batchId&&Wu(this.mutations,t.mutations,(e,i)=>Lx(e,i))&&Wu(this.baseMutations,t.baseMutations,(e,i)=>Lx(e,i))}}class Eb{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){je(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return V2}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Eb(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,Ae;function J2(n){switch(n){case bt.OK:return Jt(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return Jt(15467,{code:n})}}function YC(n){if(n===void 0)return Eo("GRPC error has no .code"),bt.UNKNOWN;switch(n){case Mn.OK:return bt.OK;case Mn.CANCELLED:return bt.CANCELLED;case Mn.UNKNOWN:return bt.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return bt.INTERNAL;case Mn.UNAVAILABLE:return bt.UNAVAILABLE;case Mn.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Mn.NOT_FOUND:return bt.NOT_FOUND;case Mn.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Mn.ABORTED:return bt.ABORTED;case Mn.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Mn.DATA_LOSS:return bt.DATA_LOSS;default:return Jt(39323,{code:n})}}(Ae=Mn||(Mn={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new wl([4294967295,4294967295],0);function Fx(n){const t=tP().encode(n),e=new uC;return e.update(t),new Uint8Array(e.digest())}function Bx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new wl([e,i],0),new wl([s,a],0)]}class Tb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Vd(`Invalid padding: ${e}`);if(i<0)throw new Vd(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Vd(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Vd(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=wl.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(wl.fromNumber(i)));return s.compare(eP)===1&&(s=new wl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Fx(t),[i,s]=Bx(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new Tb(a,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=Fx(t),[i,s]=Bx(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Af.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cg(re.min(),s,new hn(ve),To(),be())}}class Af{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Af(i,e,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class XC{constructor(t,e){this.targetId=t,this.Ce=e}}class QC{constructor(t,e,i=gi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class zx{constructor(){this.ve=0,this.Fe=Hx(),this.Me=gi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=be(),e=be(),i=be();return this.Fe.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Jt(38017,{changeType:a})}}),new Af(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Hx()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nP{constructor(t){this.Ge=t,this.ze=new Map,this.je=To(),this.Je=Wm(),this.He=Wm(),this.Ye=new hn(ve)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Jt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,s)=>{this.rt(s)&&e(s)})}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const a=s.target;if(Tv(a))if(i===0){const l=new $t(a.path);this.et(e,l,Ci.newNoDocument(l,re.min()))}else je(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=e;let l,u;try{l=kl(i).toUint8Array()}catch(h){if(h instanceof TC)return Ku("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Tb(l,s,a)}catch(h){return Ku(h instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.et(e,a,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Tv(u.target)){const h=new $t(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Ci.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let i=be();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const s=new Cg(t,e,this.Ye,this.je,i);return this.je=To(),this.Je=Wm(),this.He=Wm(),this.Ye=new hn(ve),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new zx,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Yn(ve),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Yn(ve),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zx),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Wm(){return new hn($t.comparator)}function Hx(){return new hn($t.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},sP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rP={and:"AND",or:"OR"};class aP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function wv(n,t){return n.useProto3Json||bg(t)?t:{value:t}}function Bp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function oP(n,t){return Bp(n,t.toTimestamp())}function ha(n){return je(!!n,49232),re.fromTimestamp(function(e){const i=Dl(e);return new nn(i.seconds,i.nanos)}(n))}function xb(n,t){return Sv(n,t).canonicalString()}function Sv(n,t){const e=function(s){return new en(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function JC(n){const t=en.fromString(n);return je(sR(t),10190,{key:t.toString()}),t}function Av(n,t){return xb(n.databaseId,t.path)}function I_(n,t){const e=JC(t);if(e.get(1)!==n.databaseId.projectId)throw new Ft(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ft(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $t(eR(e))}function tR(n,t){return xb(n.databaseId,t)}function lP(n){const t=JC(n);return t.length===4?en.emptyPath():eR(t)}function Cv(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eR(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $x(n,t,e){return{name:Av(n,t),fields:e.value.mapValue.fields}}function cP(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Jt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,g){return f.useProto3Json?(je(g===void 0||typeof g=="string",58123),gi.fromBase64String(g||"")):(je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),gi.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const g=f.code===void 0?bt.UNKNOWN:YC(f.code);return new Ft(g,f.message||"")}(l);e=new QC(i,s,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=I_(n,i.document.name),a=ha(i.document.updateTime),l=i.document.createTime?ha(i.document.createTime):re.min(),u=new es({mapValue:{fields:i.document.fields}}),h=Ci.newFoundDocument(s,a,l,u),f=i.targetIds||[],g=i.removedTargetIds||[];e=new Tp(f,g,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=I_(n,i.document),a=i.readTime?ha(i.readTime):re.min(),l=Ci.newNoDocument(s,a),u=i.removedTargetIds||[];e=new Tp([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=I_(n,i.document),a=i.removedTargetIds||[];e=new Tp([],a,s,null)}else{if(!("filter"in t))return Jt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new Z2(s,a),u=i.targetId;e=new XC(u,l)}}return e}function uP(n,t){let e;if(t instanceof Sf)e={update:$x(n,t.key,t.value)};else if(t instanceof bb)e={delete:Av(n,t.key)};else if(t instanceof Bl)e={update:$x(n,t.key,t.data),updateMask:vP(t.fieldMask)};else{if(!(t instanceof Y2))return Jt(16599,{Vt:t.type});e={verify:Av(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Up)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof of)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Jt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:oP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Jt(27497)}(n,t.precondition)),e}function hP(n,t){return n&&n.length>0?(je(t!==void 0,14353),n.map(e=>function(s,a){let l=s.updateTime?ha(s.updateTime):ha(a);return l.isEqual(re.min())&&(l=ha(a)),new G2(l,s.transformResults||[])}(e,t))):[]}function dP(n,t){return{documents:[tR(n,t.path)]}}function fP(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=tR(n,s);const a=function(f){if(f.length!==0)return iR(_a.create(f,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(g=>function(E){return{field:Pu(E.field),direction:gP(E.dir)}}(g))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=wv(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:s}}function mP(n){let t=lP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){je(i===1,65062);const g=e.from[0];g.allDescendants?s=g.collectionId:t=t.child(g.collectionId)}let a=[];e.where&&(a=function(b){const E=nR(b);return E instanceof _a&&kC(E)?E.getFilters():[E]}(e.where));let l=[];e.orderBy&&(l=function(b){return b.map(E=>function(C){return new Vp(ju(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(e.orderBy));let u=null;e.limit&&(u=function(b){let E;return E=typeof b=="object"?b.value:b,bg(E)?null:E}(e.limit));let h=null;e.startAt&&(h=function(b){const E=!!b.before,w=b.values||[];return new Lp(w,E)}(e.startAt));let f=null;return e.endAt&&(f=function(b){const E=!b.before,w=b.values||[];return new Lp(w,E)}(e.endAt)),k2(t,s,l,a,u,"F",h,f)}function pP(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function nR(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ju(e.unaryFilter.field);return Kn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ju(e.unaryFilter.field);return Kn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ju(e.unaryFilter.field);return Kn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ju(e.unaryFilter.field);return Kn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Jt(61313);default:return Jt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Kn.create(ju(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Jt(58110);default:return Jt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return _a.create(e.compositeFilter.filters.map(i=>nR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Jt(1026)}}(e.compositeFilter.op))}(n):Jt(30097,{filter:n})}function gP(n){return iP[n]}function yP(n){return sP[n]}function _P(n){return rP[n]}function Pu(n){return{fieldPath:n.canonicalString()}}function ju(n){return pi.fromServerFormat(n.fieldPath)}function iR(n){return n instanceof Kn?function(e){if(e.op==="=="){if(Dx(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NAN"}};if(Nx(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Dx(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NOT_NAN"}};if(Nx(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(e.field),op:yP(e.op),value:e.value}}}(n):n instanceof _a?function(e){const i=e.getFilters().map(s=>iR(s));return i.length===1?i[0]:{compositeFilter:{op:_P(e.op),filters:i}}}(n):Jt(54877,{filter:n})}function vP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function sR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,e,i,s,a=re.min(),l=re.min(),u=gi.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new vl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t){this.yt=t}}function EP(n){const t=mP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.Cn=new xP}addToCollectionParentIndex(t,e){return this.Cn.add(e),_t.resolve()}getCollectionParents(t,e){return _t.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return _t.resolve()}deleteFieldIndex(t,e){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,e){return _t.resolve()}getDocumentsMatchingTarget(t,e){return _t.resolve(null)}getIndexType(t,e){return _t.resolve(0)}getFieldIndexes(t,e){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,e){return _t.resolve(Nl.min())}getMinOffsetFromCollectionGroup(t,e){return _t.resolve(Nl.min())}updateCollectionGroup(t,e,i){return _t.resolve()}updateIndexEntries(t,e){return _t.resolve()}}class xP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Yn(en.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Yn(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rR=41943040;class ts{static withCacheSize(t){return new ts(t,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(rR,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Qu(0)}static cr(){return new Qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="LruGarbageCollector",wP=1048576;function Kx([n,t],[e,i]){const s=ve(n,e);return s===0?ve(t,i):s}class SP{constructor(t){this.Ir=t,this.buffer=new Yn(Kx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Kx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class AP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Vt(Gx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){lh(e)?Vt(Gx,"Ignoring IndexedDB error during garbage collection: ",e):await oh(e)}await this.Vr(3e5)})}}class CP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return _t.resolve(vg.ce);const i=new SP(e);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(qx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qx):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,a,l,u,h,f;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,l=Date.now(),this.nthSequenceNumber(t,s))).next(b=>(i=b,u=Date.now(),this.removeTargets(t,i,e))).next(b=>(a=b,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(f=Date.now(),Ou()<=_e.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${b} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:b})))}}function RP(n,t){return new CP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.changes=new Bc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ci.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?_t.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Kd(i.mutation,s,ws.empty(),nn.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,be()).next(()=>i))}getLocalViewOfDocuments(t,e,i=be()){const s=Ac();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(a=>{let l=Ld();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Ac();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,be()))}populateOverlays(t,e,i){const s=[];return i.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let a=To();const l=Gd(),u=function(){return Gd()}();return e.forEach((h,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof Bl)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Kd(g.mutation,f,g.mutation.getFieldMask(),nn.now())):l.set(f.key,ws.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,g)=>l.set(f,g)),e.forEach((f,g)=>u.set(f,new NP(g,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const i=Gd();let s=new hn((l,u)=>l-u),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let g=i.get(h)||ws.empty();g=u.applyToLocalView(f,g),i.set(h,g);const b=(s.get(u.batchId)||be()).add(h);s=s.insert(u.batchId,b)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,b=BC();g.forEach(E=>{if(!a.has(E)){const w=KC(e.get(E),i.get(E));w!==null&&b.set(E,w),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,b))}return _t.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return $t.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):O2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-a.size):_t.resolve(Ac());let u=nf,h=a;return l.next(f=>_t.forEach(f,(g,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),a.get(g)?_t.resolve():this.remoteDocumentCache.getEntry(t,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,be())).next(g=>({batchId:u,changes:FC(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new $t(e)).next(i=>{let s=Ld();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const a=e.collectionGroup;let l=Ld();return this.indexManager.getCollectionParents(t,a).next(u=>_t.forEach(u,h=>{const f=function(b,E){return new Tg(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(g=>{g.forEach((b,E)=>{l=l.insert(b,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,s))).next(l=>{a.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Ci.newInvalidDocument(g)))});let u=Ld();return l.forEach((h,f)=>{const g=a.get(h);g!==void 0&&Kd(g.mutation,f,ws.empty(),nn.now()),wg(e,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return _t.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:ha(s.createTime)}}(e)),_t.resolve()}getNamedQuery(t,e){return _t.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(s){return{name:s.name,query:EP(s.bundledQuery),readTime:ha(s.readTime)}}(e)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new hn($t.comparator),this.qr=new Map}getOverlay(t,e){return _t.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ac();return _t.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,a)=>{this.St(t,e,a)}),_t.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),_t.resolve()}getOverlaysForCollection(t,e,i){const s=Ac(),a=e.length+1,l=new $t(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return _t.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let a=new hn((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let g=a.get(f.largestBatchId);g===null&&(g=Ac(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Ac(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=s)););return _t.resolve(u)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Q2(e,i));let a=this.qr.get(e);a===void 0&&(a=be(),this.qr.set(e,a)),this.qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.sessionToken=gi.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.Qr=new Yn(ni.$r),this.Ur=new Yn(ni.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new ni(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new ni(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new $t(new en([])),i=new ni(e,t),s=new ni(e,t+1),a=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new $t(new en([])),i=new ni(e,t),s=new ni(e,t+1);let a=be();return this.Ur.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new ni(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class ni{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return $t.comparator(t.key,e.key)||ve(t.Yr,e.Yr)}static Kr(t,e){return ve(t.Yr,e.Yr)||$t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Yn(ni.$r)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new X2(a,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new ni(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return _t.resolve(l)}lookupMutationBatch(t,e){return _t.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),a=s<0?0:s;return _t.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?mb:this.tr-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ni(e,0),s=new ni(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],l=>{const u=this.Xr(l.Yr);a.push(u)}),_t.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(ve);return e.forEach(s=>{const a=new ni(s,0),l=new ni(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{i=i.add(u.Yr)})}),_t.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;$t.isDocumentKey(a)||(a=a.child(""));const l=new ni(new $t(a),0);let u=new Yn(ve);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Yr)),!0)},l),_t.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){je(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return _t.forEach(e.mutations,s=>{const a=new ni(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new ni(e,0),s=this.Zr.firstAfterOrEqual(i);return _t.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t){this.ri=t,this.docs=function(){return new hn($t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return _t.resolve(i?i.document.mutableCopy():Ci.newInvalidDocument(e))}getEntries(t,e){let i=To();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Ci.newInvalidDocument(s))}),_t.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let a=To();const l=e.path,u=new $t(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||u2(c2(g),i)<=0||(s.has(g.key)||wg(e,g))&&(a=a.insert(g.key,g.mutableCopy()))}return _t.resolve(a)}getAllFromCollectionGroup(t,e,i,s){Jt(9500)}ii(t,e){return _t.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new LP(this)}getSize(t){return _t.resolve(this.size)}}class LP extends IP{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),_t.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.persistence=t,this.si=new Bc(e=>yb(e),_b),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new wb,this.targetCount=0,this.ai=Qu.ur()}forEachTarget(t,e){return this.si.forEach((i,s)=>e(s)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),_t.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Qu(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,_t.resolve()}updateTargetData(t,e){return this.Pr(e),_t.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),_t.waitFor(a).next(()=>s)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return _t.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),_t.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),_t.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),_t.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return _t.resolve(i)}containsKey(t,e){return _t.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,e){this.ui={},this.overlays={},this.ci=new vg(0),this.li=!1,this.li=!0,this.hi=new MP,this.referenceDelegate=t(this),this.Pi=new VP(this),this.indexManager=new TP,this.remoteDocumentCache=function(s){return new jP(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new bP(e),this.Ii=new kP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new OP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new PP(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){Vt("MemoryPersistence","Starting transaction:",t);const s=new UP(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(t,e){return _t.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class UP extends d2{constructor(t){super(),this.currentSequenceNumber=t}}class Sb{constructor(t){this.persistence=t,this.Ri=new wb,this.Vi=null}static mi(t){return new Sb(t)}get fi(){if(this.Vi)return this.Vi;throw Jt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),_t.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),_t.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.fi,i=>{const s=$t.fromPath(i);return this.gi(t,s).next(a=>{a||e.removeEntry(s,re.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return _t.or([()=>_t.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class zp{constructor(t,e){this.persistence=t,this.pi=new Bc(i=>p2(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=RP(this,e)}static mi(t,e){return new zp(t,e)}Ei(){}di(t){return _t.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return _t.forEach(this.pi,(i,s)=>this.br(t,i,s).next(a=>a?_t.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,a.removeEntry(l,re.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),_t.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),_t.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=vp(t.data.value)),e}br(t,e,i){return _t.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return _t.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=be(),s=be();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ab(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return DO()?8:f2(Ni())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new FP;return this.Ss(t,e,l).next(u=>{if(a.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>a.result)}bs(t,e,i,s){return i.documentReadCount<this.fs?(Ou()<=_e.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",Mu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_t.resolve()):(Ou()<=_e.DEBUG&&Vt("QueryEngine","Query:",Mu(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Ou()<=_e.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",Mu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ua(e))):_t.resolve())}ys(t,e){if(Px(e))return _t.resolve(null);let i=ua(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=xv(e,null,"F"),i=ua(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=be(...a);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(e,u);return this.Cs(e,f,l,h.readTime)?this.ys(t,xv(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,i,s){return Px(e)||s.isEqual(re.min())?_t.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,i,s)?_t.resolve(null):(Ou()<=_e.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mu(e)),this.vs(t,l,e,l2(s,nf)).next(u=>u))})}Ds(t,e){let i=new Yn(VC(t));return e.forEach((s,a)=>{wg(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,i){return Ou()<=_e.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Mu(e)),this.ps.getDocumentsMatchingQuery(t,e,Nl.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="LocalStore",zP=3e8;class HP{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new hn(ve),this.xs=new Bc(a=>yb(a),_b),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function $P(n,t,e,i){return new HP(n,t,e,i)}async function oR(n,t){const e=oe(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=be();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function qP(n,t){const e=oe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,g){const b=f.batch,E=b.keys();let w=_t.resolve();return E.forEach(C=>{w=w.next(()=>g.getEntry(h,C)).next(N=>{const R=f.docVersions.get(C);je(R!==null,48541),N.version.compareTo(R)<0&&(b.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),g.addEntry(N)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,b))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=be();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function lR(n){const t=oe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function GP(n,t){const e=oe(n),i=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const u=[];t.targetChanges.forEach((g,b)=>{const E=s.get(b);if(!E)return;u.push(e.Pi.removeMatchingKeys(a,g.removedDocuments,b).next(()=>e.Pi.addMatchingKeys(a,g.addedDocuments,b)));let w=E.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(b)!==null?w=w.withResumeToken(gi.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,i)),s=s.insert(b,w),function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=zP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,w,g)&&u.push(e.Pi.updateTargetData(a,w))});let h=To(),f=be();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(KP(a,l,t.documentUpdates).next(g=>{h=g.ks,f=g.qs})),!i.isEqual(re.min())){const g=e.Pi.getLastRemoteSnapshotVersion(a).next(b=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(g)}return _t.waitFor(u).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(e.Ms=s,a))}function KP(n,t,e){let i=be(),s=be();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=To();return e.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(re.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):Vt(Cb,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function WP(n,t){const e=oe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=mb),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function YP(n,t){const e=oe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Pi.getTargetData(i,t).next(a=>a?(s=a,_t.resolve(s)):e.Pi.allocateTargetId(i).next(l=>(s=new vl(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Rv(n,t,e){const i=oe(n),s=i.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!lh(l))throw l;Vt(Cb,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function Wx(n,t,e){const i=oe(n);let s=re.min(),a=be();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const b=oe(h),E=b.xs.get(g);return E!==void 0?_t.resolve(b.Ms.get(E)):b.Pi.getTargetData(f,g)}(i,l,ua(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?s:re.min(),e?a:be())).next(u=>(XP(i,P2(t),u),{documents:u,Qs:a})))}function XP(n,t,e){let i=n.Os.get(t)||re.min();e.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(t,i)}class Yx{constructor(){this.activeTargetIds=B2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QP{constructor(){this.Mo=new Yx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Yx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="ConnectivityMonitor";class Qx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Vt(Xx,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Vt(Xx,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym=null;function Iv(){return Ym===null?Ym=function(){return 268435456+Math.round(2147483648*Math.random())}():Ym++,"0x"+Ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="RestConnection",JP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tj{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Pp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,a){const l=Iv(),u=this.zo(t,e.toUriEncodedString());Vt(N_,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(u),g=Vc(f);return this.Jo(t,u,h,i,g).then(b=>(Vt(N_,`Received RPC '${t}' ${l}: `,b),b),b=>{throw Ku(N_,`RPC '${t}' ${l} failed with error: `,b,"url: ",u,"request:",i),b})}Ho(t,e,i,s,a,l){return this.Go(t,e,i,s,a)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ah}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}zo(t,e){const i=JP[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="WebChannelConnection";class nj extends tj{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,a){const l=Iv();return new Promise((u,h)=>{const f=new hC;f.setWithCredentials(!0),f.listenOnce(dC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _p.NO_ERROR:const b=f.getResponseJson();Vt(wi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(b)),u(b);break;case _p.TIMEOUT:Vt(wi,`RPC '${t}' ${l} timed out`),h(new Ft(bt.DEADLINE_EXCEEDED,"Request time out"));break;case _p.HTTP_ERROR:const E=f.getStatus();if(Vt(wi,`RPC '${t}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const N=function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf($)>=0?$:bt.UNKNOWN}(C.status);h(new Ft(N,C.message))}else h(new Ft(bt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ft(bt.UNAVAILABLE,"Connection failed."));break;default:Jt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Vt(wi,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(s);Vt(wi,`RPC '${t}' ${l} sending request:`,s),f.send(e,"POST",g,i,15)})}T_(t,e,i){const s=Iv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=pC(),u=mC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=a.join("");Vt(wi,`Creating RPC '${t}' stream ${s}: ${g}`,h);const b=l.createWebChannel(g,h);this.I_(b);let E=!1,w=!1;const C=new ej({Yo:R=>{w?Vt(wi,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(E||(Vt(wi,`Opening RPC '${t}' stream ${s} transport.`),b.open(),E=!0),Vt(wi,`RPC '${t}' stream ${s} sending:`,R),b.send(R))},Zo:()=>b.close()}),N=(R,L,$)=>{R.listen(L,G=>{try{$(G)}catch(Q){setTimeout(()=>{throw Q},0)}})};return N(b,jd.EventType.OPEN,()=>{w||(Vt(wi,`RPC '${t}' stream ${s} transport opened.`),C.o_())}),N(b,jd.EventType.CLOSE,()=>{w||(w=!0,Vt(wi,`RPC '${t}' stream ${s} transport closed`),C.a_(),this.E_(b))}),N(b,jd.EventType.ERROR,R=>{w||(w=!0,Ku(wi,`RPC '${t}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new Ft(bt.UNAVAILABLE,"The operation could not be completed")))}),N(b,jd.EventType.MESSAGE,R=>{if(!w){const L=R.data[0];je(!!L,16349);const $=L,G=$?.error||$[0]?.error;if(G){Vt(wi,`RPC '${t}' stream ${s} received error:`,G);const Q=G.status;let Y=function(D){const M=Mn[D];if(M!==void 0)return YC(M)}(Q),K=G.message;Y===void 0&&(Y=bt.INTERNAL,K="Unknown error status: "+Q+" with message "+G.message),w=!0,C.a_(new Ft(Y,K)),b.close()}else Vt(wi,`RPC '${t}' stream ${s} received:`,L),C.u_(L)}}),N(u,fC.STAT_EVENT,R=>{R.stat===yv.PROXY?Vt(wi,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===yv.NOPROXY&&Vt(wi,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function D_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n){return new aP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,e,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&Vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="PersistentStream";class uR{constructor(t,e,i,s,a,l,u,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cR(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===bt.RESOURCE_EXHAUSTED?(Eo(e.toString()),Eo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===e&&this.G_(i,s)},i=>{t(()=>{const s=new Ft(bt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Vt(Zx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Vt(Zx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ij extends uR{constructor(t,e,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=cP(this.serializer,t),i=function(a){if(!("targetChange"in a))return re.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?re.min():l.readTime?ha(l.readTime):re.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Cv(this.serializer),e.addTarget=function(a,l){let u;const h=l.target;if(u=Tv(h)?{documents:dP(a,h)}:{query:fP(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=ZC(a,l.resumeToken);const f=wv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(re.min())>0){u.readTime=Bp(a,l.snapshotVersion.toTimestamp());const f=wv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=pP(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Cv(this.serializer),e.removeTarget=t,this.q_(e)}}class sj extends uR{constructor(t,e,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return je(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,je(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){je(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=hP(t.writeResults,t.commitTime),i=ha(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Cv(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>uP(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{}class aj extends rj{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ft(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,Sv(e,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ft(bt.UNKNOWN,a.toString())})}Ho(t,e,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,Sv(e,i),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ft(bt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class oj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Eo(e),this.aa=!1):Vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="RemoteStore";class lj{constructor(t,e,i,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{zc(this)&&(Vt(kc,"Restarting streams for network reachability change."),await async function(h){const f=oe(h);f.Ea.add(4),await Cf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Ig(f)}(this))})}),this.Ra=new oj(i,s)}}async function Ig(n){if(zc(n))for(const t of n.da)await t(!0)}async function Cf(n){for(const t of n.da)await t(!1)}function hR(n,t){const e=oe(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Db(e)?Nb(e):ch(e).O_()&&Ib(e,t))}function Rb(n,t){const e=oe(n),i=ch(e);e.Ia.delete(t),i.O_()&&dR(e,t),e.Ia.size===0&&(i.O_()?i.L_():zc(e)&&e.Ra.set("Unknown"))}function Ib(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ch(n).Y_(t)}function dR(n,t){n.Va.Ue(t),ch(n).Z_(t)}function Nb(n){n.Va=new nP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ch(n).start(),n.Ra.ua()}function Db(n){return zc(n)&&!ch(n).x_()&&n.Ia.size>0}function zc(n){return oe(n).Ea.size===0}function fR(n){n.Va=void 0}async function cj(n){n.Ra.set("Online")}async function uj(n){n.Ia.forEach((t,e)=>{Ib(n,t)})}async function hj(n,t){fR(n),Db(n)?(n.Ra.ha(t),Nb(n)):n.Ra.set("Unknown")}async function dj(n,t,e){if(n.Ra.set("Online"),t instanceof QC&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))}(n,t)}catch(i){Vt(kc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Hp(n,i)}else if(t instanceof Tp?n.Va.Ze(t):t instanceof XC?n.Va.st(t):n.Va.tt(t),!e.isEqual(re.min()))try{const i=await lR(n.localStore);e.compareTo(i)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(gi.EMPTY_BYTE_STRING,g.snapshotVersion)),dR(a,h);const b=new vl(g.target,h,f,g.sequenceNumber);Ib(a,b)}),a.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){Vt(kc,"Failed to raise snapshot:",i),await Hp(n,i)}}async function Hp(n,t,e){if(!lh(t))throw t;n.Ea.add(1),await Cf(n),n.Ra.set("Offline"),e||(e=()=>lR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Vt(kc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ig(n)})}function mR(n,t){return t().catch(e=>Hp(n,e,t))}async function Ng(n){const t=oe(n),e=Ml(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mb;for(;fj(t);)try{const s=await WP(t.localStore,i);if(s===null){t.Ta.length===0&&e.L_();break}i=s.batchId,mj(t,s)}catch(s){await Hp(t,s)}pR(t)&&gR(t)}function fj(n){return zc(n)&&n.Ta.length<10}function mj(n,t){n.Ta.push(t);const e=Ml(n);e.O_()&&e.X_&&e.ea(t.mutations)}function pR(n){return zc(n)&&!Ml(n).x_()&&n.Ta.length>0}function gR(n){Ml(n).start()}async function pj(n){Ml(n).ra()}async function gj(n){const t=Ml(n);for(const e of n.Ta)t.ea(e.mutations)}async function yj(n,t,e){const i=n.Ta.shift(),s=Eb.from(i,t,e);await mR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Ng(n)}async function _j(n,t){t&&Ml(n).X_&&await async function(i,s){if(function(l){return J2(l)&&l!==bt.ABORTED}(s.code)){const a=i.Ta.shift();Ml(i).B_(),await mR(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Ng(i)}}(n,t),pR(n)&&gR(n)}async function Jx(n,t){const e=oe(n);e.asyncQueue.verifyOperationInProgress(),Vt(kc,"RemoteStore received new credentials");const i=zc(e);e.Ea.add(3),await Cf(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ig(e)}async function vj(n,t){const e=oe(n);t?(e.Ea.delete(2),await Ig(e)):t||(e.Ea.add(2),await Cf(e),e.Ra.set("Unknown"))}function ch(n){return n.ma||(n.ma=function(e,i,s){const a=oe(e);return a.sa(),new ij(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:cj.bind(null,n),t_:uj.bind(null,n),r_:hj.bind(null,n),H_:dj.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Db(n)?Nb(n):n.Ra.set("Unknown")):(await n.ma.stop(),fR(n))})),n.ma}function Ml(n){return n.fa||(n.fa=function(e,i,s){const a=oe(e);return a.sa(),new sj(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:pj.bind(null,n),r_:_j.bind(null,n),ta:gj.bind(null,n),na:yj.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Ng(n)):(await n.fa.stop(),n.Ta.length>0&&(Vt(kc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Sl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,a){const l=Date.now()+i,u=new kb(t,e,l,s,a);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ft(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ob(n,t){if(Eo("AsyncQueue",`${t}: ${n}`),lh(n))return new Ft(bt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static emptySet(t){return new Uu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||$t.comparator(e.key,i.key):(e,i)=>$t.comparator(e.key,i.key),this.keyedMap=Ld(),this.sortedSet=new hn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Uu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.ga=new hn($t.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Jt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class Zu{constructor(t,e,i,s,a,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,s,a){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Zu(t,e,Uu.emptySet(e),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Ej{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=oe(e),a=s.queries;s.queries=ew(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new Ft(bt.ABORTED,"Firestore shutting down"))}}function ew(){return new Bc(n=>LC(n),xg)}async function Tj(n,t){const e=oe(n);let i=3;const s=t.query;let a=e.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new bj,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await e.onListen(s,!0);break;case 1:a.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=Ob(l,`Initialization of query '${Mu(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&Mb(e)}async function xj(n,t){const e=oe(n),i=t.query;let s=3;const a=e.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function wj(n,t){const e=oe(n);let i=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(i=!0);l.wa=s}}i&&Mb(e)}function Sj(n,t,e){const i=oe(n),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);i.queries.delete(t)}function Mb(n){n.Ca.forEach(t=>{t.next()})}var Nv,nw;(nw=Nv||(Nv={})).Ma="default",nw.Cache="cache";class Aj{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Zu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Zu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.key=t}}class _R{constructor(t){this.key=t}}class Cj{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=VC(t),this.tu=new Uu(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new tw,s=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((g,b)=>{const E=s.get(g),w=wg(this.query,b)?b:null,C=!!E&&this.mutatedKeys.has(E.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;E&&w?E.data.isEqual(w.data)?C!==N&&(i.track({type:3,doc:w}),R=!0):this.su(E,w)||(i.track({type:2,doc:w}),R=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(u=!0)):!E&&w?(i.track({type:0,doc:w}),R=!0):E&&!w&&(i.track({type:1,doc:E}),R=!0,(h||f)&&(u=!0)),R&&(w?(l=l.add(w),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Cs:u,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((g,b)=>function(w,C){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt(20277,{Rt:R})}};return N(w)-N(C)}(g.type,b.type)||this.eu(g.doc,b.doc)),this.ou(i),s=s??!1;const u=e&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Zu(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=be(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new _R(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new yR(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=be();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Zu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pb="SyncEngine";class Rj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Ij{constructor(t){this.key=t,this.hu=!1}}class Nj{constructor(t,e,i,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Bc(u=>LC(u),xg),this.Iu=new Map,this.Eu=new Set,this.du=new hn($t.comparator),this.Au=new Map,this.Ru=new wb,this.Vu={},this.mu=new Map,this.fu=Qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Dj(n,t,e=!0){const i=wR(n);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await vR(i,t,e,!0),s}async function kj(n,t){const e=wR(n);await vR(e,t,!0,!1)}async function vR(n,t,e,i){const s=await YP(n.localStore,ua(t)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return i&&(u=await Oj(n,t,a,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&hR(n.remoteStore,s),u}async function Oj(n,t,e,i,s){n.pu=(b,E,w)=>async function(N,R,L,$){let G=R.view.ru(L);G.Cs&&(G=await Wx(N.localStore,R.query,!1).then(({documents:B})=>R.view.ru(B,G)));const Q=$&&$.targetChanges.get(R.targetId),Y=$&&$.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges(G,N.isPrimaryClient,Q,Y);return sw(N,R.targetId,K.au),K.snapshot}(n,b,E,w);const a=await Wx(n.localStore,t,!0),l=new Cj(t,a.Qs),u=l.ru(a.documents),h=Af.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),f=l.applyChanges(u,n.isPrimaryClient,h);sw(n,e,f.au);const g=new Rj(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function Mj(n,t,e){const i=oe(n),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter(l=>!xg(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Rv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Rb(i.remoteStore,s.targetId),Dv(i,s.targetId)}).catch(oh)):(Dv(i,s.targetId),await Rv(i.localStore,s.targetId,!0))}async function Pj(n,t){const e=oe(n),i=e.Tu.get(t),s=e.Iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Rb(e.remoteStore,i.targetId))}async function jj(n,t,e){const i=Hj(n);try{const s=await function(l,u){const h=oe(l),f=nn.now(),g=u.reduce((w,C)=>w.add(C.key),be());let b,E;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=To(),N=be();return h.Ns.getEntries(w,g).next(R=>{C=R,C.forEach((L,$)=>{$.isValidDocument()||(N=N.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,C)).next(R=>{b=R;const L=[];for(const $ of u){const G=W2($,b.get($.key).overlayedDocument);G!=null&&L.push(new Bl($.key,G,IC(G.value.mapValue),Ar.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,L,u)}).next(R=>{E=R;const L=R.applyToLocalDocumentSet(b,N);return h.documentOverlayCache.saveOverlays(w,R.batchId,L)})}).then(()=>({batchId:E.batchId,changes:FC(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new hn(ve)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,e),await Rf(i,s.changes),await Ng(i.remoteStore)}catch(s){const a=Ob(s,"Failed to persist write");e.reject(a)}}async function bR(n,t){const e=oe(n);try{const i=await GP(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Au.get(a);l&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?je(l.hu,14607):s.removedDocuments.size>0&&(je(l.hu,42227),l.hu=!1))}),await Rf(e,i,t)}catch(i){await oh(i)}}function iw(n,t,e){const i=oe(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.Tu.forEach((a,l)=>{const u=l.view.va(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=oe(l);h.onlineState=u;let f=!1;h.queries.forEach((g,b)=>{for(const E of b.Sa)E.va(u)&&(f=!0)}),f&&Mb(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Lj(n,t,e){const i=oe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Au.get(t),a=s&&s.key;if(a){let l=new hn($t.comparator);l=l.insert(a,Ci.newNoDocument(a,re.min()));const u=be().add(a),h=new Cg(re.min(),new Map,new hn(ve),l,u);await bR(i,h),i.du=i.du.remove(a),i.Au.delete(t),jb(i)}else await Rv(i.localStore,t,!1).then(()=>Dv(i,t,e)).catch(oh)}async function Vj(n,t){const e=oe(n),i=t.batch.batchId;try{const s=await qP(e.localStore,t);TR(e,i,null),ER(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Rf(e,s)}catch(s){await oh(s)}}async function Uj(n,t,e){const i=oe(n);try{const s=await function(l,u){const h=oe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next(b=>(je(b!==null,37113),g=b.keys(),h.mutationQueue.removeMutationBatch(f,b))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(i.localStore,t);TR(i,t,e),ER(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Rf(i,s)}catch(s){await oh(s)}}function ER(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function TR(n,t,e){const i=oe(n);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function Dv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||xR(n,i)})}function xR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Rb(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),jb(n))}function sw(n,t,e){for(const i of e)i instanceof yR?(n.Ru.addReference(i.key,t),Fj(n,i)):i instanceof _R?(Vt(Pb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||xR(n,i.key)):Jt(19791,{wu:i})}function Fj(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(Vt(Pb,"New document in limbo: "+e),n.Eu.add(i),jb(n))}function jb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new $t(en.fromString(t)),i=n.fu.next();n.Au.set(i,new Ij(e)),n.du=n.du.insert(e,i),hR(n.remoteStore,new vl(ua(jC(e.path)),i,"TargetPurposeLimboResolution",vg.ce))}}async function Rf(n,t,e){const i=oe(n),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient){const g=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){s.push(f);const g=Ab.As(h.targetId,f);a.push(g)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const g=oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>_t.forEach(f,E=>_t.forEach(E.Es,w=>g.persistence.referenceDelegate.addReference(b,E.targetId,w)).next(()=>_t.forEach(E.ds,w=>g.persistence.referenceDelegate.removeReference(b,E.targetId,w)))))}catch(b){if(!lh(b))throw b;Vt(Cb,"Failed to update sequence numbers: "+b)}for(const b of f){const E=b.targetId;if(!b.fromCache){const w=g.Ms.get(E),C=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(E,N)}}}(i.localStore,a))}async function Bj(n,t){const e=oe(n);if(!e.currentUser.isEqual(t)){Vt(Pb,"User change. New user:",t.toKey());const i=await oR(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new Ft(bt.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Rf(e,i.Ls)}}function zj(n,t){const e=oe(n),i=e.Au.get(t);if(i&&i.hu)return be().add(i.key);{let s=be();const a=e.Iu.get(t);if(!a)return s;for(const l of a){const u=e.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function wR(n){const t=oe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lj.bind(null,t),t.Pu.H_=wj.bind(null,t.eventManager),t.Pu.yu=Sj.bind(null,t.eventManager),t}function Hj(n){const t=oe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uj.bind(null,t),t}class $p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return $P(this.persistence,new BP,t.initialUser,this.serializer)}Cu(t){return new aR(Sb.mi,this.serializer)}Du(t){return new QP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$p.provider={build:()=>new $p};class $j extends $p{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){je(this.persistence.referenceDelegate instanceof zp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AP(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new aR(i=>zp.mi(i,e),this.serializer)}}class kv{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bj.bind(null,this.syncEngine),await vj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ej}()}createDatastore(t){const e=Rg(t.databaseInfo.databaseId),i=function(a){return new nj(a)}(t.databaseInfo);return function(a,l,u,h){return new aj(a,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,a,l,u){return new lj(i,s,a,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>iw(this.syncEngine,e,0),function(){return Qx.v()?new Qx:new ZP}())}createSyncEngine(t,e){return function(s,a,l,u,h,f,g){const b=new Nj(s,a,l,u,h,f);return g&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=oe(e);Vt(kc,"RemoteStore shutting down."),i.Ea.add(5),await Cf(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kv.provider={build:()=>new kv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Eo("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="FirestoreClient";class Gj{constructor(t,e,i,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Ai.UNAUTHENTICATED,this.clientId=db.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{Vt(Pl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Vt(Pl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Ob(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function k_(n,t){n.asyncQueue.verifyOperationInProgress(),Vt(Pl,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await oR(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function rw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Kj(n);Vt(Pl,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>Jx(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Jx(t.remoteStore,s)),n._onlineComponents=t}async function Kj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Vt(Pl,"Using user provided OfflineComponentProvider");try{await k_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===bt.FAILED_PRECONDITION||s.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Ku("Error using user provided cache. Falling back to memory cache: "+e),await k_(n,new $p)}}else Vt(Pl,"Using default OfflineComponentProvider"),await k_(n,new $j(void 0));return n._offlineComponents}async function SR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Vt(Pl,"Using user provided OnlineComponentProvider"),await rw(n,n._uninitializedComponentsProvider._online)):(Vt(Pl,"Using default OnlineComponentProvider"),await rw(n,new kv))),n._onlineComponents}function Wj(n){return SR(n).then(t=>t.syncEngine)}async function Yj(n){const t=await SR(n),e=t.eventManager;return e.onListen=Dj.bind(null,t.syncEngine),e.onUnlisten=Mj.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=kj.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Pj.bind(null,t.syncEngine),e}function Xj(n,t,e={}){const i=new Sl;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const g=new qj({next:E=>{g.Nu(),l.enqueueAndForget(()=>xj(a,b)),E.fromCache&&h.source==="server"?f.reject(new Ft(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),b=new Aj(u,g,{includeMetadataChanges:!0,qa:!0});return Tj(a,b)}(await Yj(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firestore.googleapis.com",ow=!0;class lw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ft(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CR,this.ssl=ow}else this.host=t.host,this.ssl=t.ssl??ow;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wP)throw new Ft(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}o2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ft(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ft(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ft(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dg{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ft(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ft(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new QM;switch(i.type){case"firstParty":return new e2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ft(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=aw.get(e);i&&(Vt("ComponentProvider","Removing Datastore"),aw.delete(e),i.terminate())}(this),Promise.resolve()}}function Qj(n,t,e,i={}){n=Dc(n,Dg);const s=Vc(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;s&&(lb(`https://${u}`),cb("Firestore",!0)),a.host!==CR&&a.host!==u&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:i};if(!Il(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=Ai.MOCK_USER;else{f=tC(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Ft(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ai(b)}n._authCredentials=new ZM(new yC(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new kg(this.firestore,t,this._query)}}class ii{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Al(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ii(this.firestore,t,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(wf(e,ii._jsonSchema))return new ii(t,i||null,new $t(en.fromString(e.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:jn("string",ii._jsonSchemaVersion),referencePath:jn("string")};class Al extends kg{constructor(t,e,i){super(t,e,jC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ii(this.firestore,null,new $t(t))}withConverter(t){return new Al(this.firestore,t,this._path)}}function cn(n,t,...e){if(n=Ln(n),_C("collection","path",t),n instanceof Dg){const i=en.fromString(t,...e);return Tx(i),new Al(n,null,i)}{if(!(n instanceof ii||n instanceof Al))throw new Ft(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(t,...e));return Tx(i),new Al(n.firestore,null,i)}}function va(n,t,...e){if(n=Ln(n),arguments.length===1&&(t=db.newId()),_C("doc","path",t),n instanceof Dg){const i=en.fromString(t,...e);return Ex(i),new ii(n,null,new $t(i))}{if(!(n instanceof ii||n instanceof Al))throw new Ft(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(t,...e));return Ex(i),new ii(n.firestore,n instanceof Al?n.converter:null,new $t(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="AsyncQueue";class uw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cR(this,"async_queue_retry"),this._c=()=>{const i=D_();i&&Vt(cw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=D_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=D_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Sl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lh(t))throw t;Vt(cw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Eo("INTERNAL UNHANDLED ERROR: ",hw(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=kb.createAndSchedule(this,t,e,i,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Jt(47125,{Pc:hw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function hw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class If extends Dg{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new uw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uw(t),this._firestoreClient=void 0,await t}}}function Zj(n,t){const e=typeof n=="object"?n:_g(),i=typeof n=="string"?n:Pp,s=Ul(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=QA("firestore");a&&Qj(s,...a)}return s}function RR(n){if(n._terminated)throw new Ft(bt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jj(n),n._firestoreClient}function Jj(n){const t=n._freezeSettings(),e=function(s,a,l,u){return new _2(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Gj(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Js(gi.fromBase64String(t))}catch(e){throw new Ft(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Js(gi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wf(t,Js._jsonSchema))return Js.fromBase64String(t.bytes)}}Js._jsonSchemaVersion="firestore/bytes/1.0",Js._jsonSchema={type:jn("string",Js._jsonSchemaVersion),bytes:jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ft(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ft(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ft(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ve(this._lat,t._lat)||ve(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:da._jsonSchemaVersion}}static fromJSON(t){if(wf(t,da._jsonSchema))return new da(t.latitude,t.longitude)}}da._jsonSchemaVersion="firestore/geoPoint/1.0",da._jsonSchema={type:jn("string",da._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wf(t,fa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new fa(t.vectorValues);throw new Ft(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fa._jsonSchemaVersion="firestore/vectorValue/1.0",fa._jsonSchema={type:jn("string",fa._jsonSchemaVersion),vectorValues:jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=/^__.*__$/;class eL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Bl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sf(t,this.data,e,this.fieldTransforms)}}class IR{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Bl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function NR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt(40011,{Ac:n})}}class Vb{constructor(t,e,i,s,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NR(this.Ac)&&tL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Rg(t)}Cc(t,e,i,s=!1){return new Vb({Ac:t,methodName:e,Dc:i,path:pi.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DR(n){const t=n._freezeSettings(),e=Rg(n._databaseId);return new nL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function iL(n,t,e,i,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,s);Ub("Data must be an object, but it was:",l,i);const u=kR(i,l);let h,f;if(a.merge)h=new ws(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const b of a.mergeFields){const E=Ov(t,b,e);if(!l.contains(E))throw new Ft(bt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);MR(g,E)||g.push(E)}h=new ws(g),f=l.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,f=l.fieldTransforms;return new eL(new es(u),h,f)}class Mg extends Lb{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mg}}function sL(n,t,e,i){const s=n.Cc(1,t,e);Ub("Data must be an object, but it was:",s,i);const a=[],l=es.empty();Fl(i,(h,f)=>{const g=Fb(t,h,e);f=Ln(f);const b=s.yc(g);if(f instanceof Mg)a.push(g);else{const E=Pg(f,b);E!=null&&(a.push(g),l.set(g,E))}});const u=new ws(a);return new IR(l,u,s.fieldTransforms)}function rL(n,t,e,i,s,a){const l=n.Cc(1,t,e),u=[Ov(t,i,e)],h=[s];if(a.length%2!=0)throw new Ft(bt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)u.push(Ov(t,a[E])),h.push(a[E+1]);const f=[],g=es.empty();for(let E=u.length-1;E>=0;--E)if(!MR(f,u[E])){const w=u[E];let C=h[E];C=Ln(C);const N=l.yc(w);if(C instanceof Mg)f.push(w);else{const R=Pg(C,N);R!=null&&(f.push(w),g.set(w,R))}}const b=new ws(f);return new IR(g,b,l.fieldTransforms)}function Pg(n,t){if(OR(n=Ln(n)))return Ub("Unsupported field value:",t,n),kR(n,t);if(n instanceof Lb)return function(i,s){if(!NR(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const u of i){let h=Pg(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,s){if((i=Ln(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return z2(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=nn.fromDate(i);return{timestampValue:Bp(s.serializer,a)}}if(i instanceof nn){const a=new nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bp(s.serializer,a)}}if(i instanceof da)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Js)return{bytesValue:ZC(s.serializer,i._byteString)};if(i instanceof ii){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof fa)return function(l,u){return{mapValue:{fields:{[CC]:{stringValue:RC},[jp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return vb(u.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${fb(i)}`)}(n,t)}function kR(n,t){const e={};return EC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fl(n,(i,s)=>{const a=Pg(s,t.mc(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function OR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof da||n instanceof Js||n instanceof ii||n instanceof Lb||n instanceof fa)}function Ub(n,t,e){if(!OR(e)||!vC(e)){const i=fb(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Ov(n,t,e){if((t=Ln(t))instanceof Og)return t._internalPath;if(typeof t=="string")return Fb(n,t);throw qp("Field path arguments must be of type string or ",n,!1,void 0,e)}const aL=new RegExp("[~\\*/\\[\\]]");function Fb(n,t,e){if(t.search(aL)>=0)throw qp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Og(...t.split("."))._internalPath}catch{throw qp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qp(n,t,e,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Ft(bt.INVALID_ARGUMENT,u+n+h)}function MR(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jR("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class oL extends PR{data(){return super.data()}}function jR(n,t){return typeof t=="string"?Fb(n,t):t instanceof Og?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ft(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cL{convertValue(t,e="none"){switch(Ol(t)){case 0:return null;case 1:return t.booleanValue;case 2:return An(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(kl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Jt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Fl(t,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertVectorValue(t){const e=t.fields?.[jp].arrayValue?.values?.map(i=>An(i.doubleValue));return new fa(e)}convertGeoPoint(t){return new da(An(t.latitude),An(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Eg(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(sf(t));default:return null}}convertTimestamp(t){const e=Dl(t);return new nn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=en.fromString(t);je(sR(i),9688,{name:t});const s=new rf(i.get(1),i.get(3)),a=new $t(i.popFirst(5));return s.isEqual(e)||Eo(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Xm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fu extends PR{constructor(t,e,i,s,a,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(jR("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Fu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Fu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fu._jsonSchema={type:jn("string",Fu._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class xp extends Fu{data(t={}){return super.data(t)}}class Bu{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Xm(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new xp(this._firestore,this._userDataWriter,i.key,i,new Xm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ft(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new xp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Xm(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new xp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Xm(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:hL(u.type),doc:h,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=db.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt(61501,{type:n})}}Bu._jsonSchemaVersion="firestore/querySnapshot/1.0",Bu._jsonSchema={type:jn("string",Bu._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class dL extends cL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Js(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ii(this.firestore,null,e)}}function si(n){n=Dc(n,kg);const t=Dc(n.firestore,If),e=RR(t),i=new dL(t);return lL(n._query),Xj(e,n._query).then(s=>new Bu(t,i,n,s))}function Nf(n,t,e,...i){n=Dc(n,ii);const s=Dc(n.firestore,If),a=DR(s);let l;return l=typeof(t=Ln(t))=="string"||t instanceof Og?rL(a,"updateDoc",n._key,t,e,i):sL(a,"updateDoc",n._key,t),Bb(s,[l.toMutation(n._key,Ar.exists(!0))])}function jg(n){return Bb(Dc(n.firestore,If),[new bb(n._key,Ar.none())])}function Df(n,t){const e=Dc(n.firestore,If),i=va(n),s=uL(n.converter,t);return Bb(e,[iL(DR(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ar.exists(!1))]).then(()=>i)}function Bb(n,t){return function(i,s){const a=new Sl;return i.asyncQueue.enqueueAndForget(async()=>jj(await Wj(i),s,a)),a.promise}(RR(n),t)}(function(t,e=!0){(function(s){ah=s})(Fc),Rr(new er("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new If(new JM(i.getProvider("auth-internal")),new n2(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ft(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rf(f.options.projectId,g)}(l,s),l);return a={useFetchStreams:e,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),is(yx,_x,t),is(yx,_x,"esm2020")})();var fL="firebase",mL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(fL,mL,"app");const LR="@firebase/installations",zb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1e4,UR=`w:${zb}`,FR="FIS_v2",pL="https://firebaseinstallations.googleapis.com/v1",gL=3600*1e3,yL="installations",_L="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oc=new Uc(yL,_L,vL);function BR(n){return n instanceof ir&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR({projectId:n}){return`${pL}/projects/${n}/installations`}function HR(n){return{token:n.token,requestStatus:2,expiresIn:EL(n.expiresIn),creationTime:Date.now()}}async function $R(n,t){const i=(await t.json()).error;return Oc.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function qR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function bL(n,{refreshToken:t}){const e=qR(n);return e.append("Authorization",TL(t)),e}async function GR(n){const t=await n();return t.status>=500&&t.status<600?n():t}function EL(n){return Number(n.replace("s","000"))}function TL(n){return`${FR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=zR(n),s=qR(n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:e,authVersion:FR,appId:n.appId,sdkVersion:UR},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await GR(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||e,registrationStatus:2,refreshToken:f.refreshToken,authToken:HR(f.authToken)}}else throw await $R("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^[cdef][\w-]{21}$/,Mv="";function AL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=CL(n);return SL.test(e)?e:Mv}catch{return Mv}}function CL(n){return wL(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Map;function YR(n,t){const e=Lg(n);XR(e,t),RL(e,t)}function XR(n,t){const e=WR.get(n);if(e)for(const i of e)i(t)}function RL(n,t){const e=IL();e&&e.postMessage({key:n,fid:t}),NL()}let Cc=null;function IL(){return!Cc&&"BroadcastChannel"in self&&(Cc=new BroadcastChannel("[Firebase] FID Change"),Cc.onmessage=n=>{XR(n.data.key,n.data.fid)}),Cc}function NL(){WR.size===0&&Cc&&(Cc.close(),Cc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-installations-database",kL=1,Mc="firebase-installations-store";let O_=null;function Hb(){return O_||(O_=aC(DL,kL,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Mc)}}})),O_}async function Gp(n,t){const e=Lg(n),s=(await Hb()).transaction(Mc,"readwrite"),a=s.objectStore(Mc),l=await a.get(e);return await a.put(t,e),await s.done,(!l||l.fid!==t.fid)&&YR(n,t.fid),t}async function QR(n){const t=Lg(n),i=(await Hb()).transaction(Mc,"readwrite");await i.objectStore(Mc).delete(t),await i.done}async function Vg(n,t){const e=Lg(n),s=(await Hb()).transaction(Mc,"readwrite"),a=s.objectStore(Mc),l=await a.get(e),u=t(l);return u===void 0?await a.delete(e):await a.put(u,e),await s.done,u&&(!l||l.fid!==u.fid)&&YR(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(n){let t;const e=await Vg(n.appConfig,i=>{const s=OL(i),a=ML(n,s);return t=a.registrationPromise,a.installationEntry});return e.fid===Mv?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function OL(n){const t=n||{fid:AL(),registrationStatus:0};return ZR(t)}function ML(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Oc.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=PL(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:jL(n)}:{installationEntry:t}}async function PL(n,t){try{const e=await xL(n,t);return Gp(n.appConfig,e)}catch(e){throw BR(e)&&e.customData.serverCode===409?await QR(n.appConfig):await Gp(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function jL(n){let t=await dw(n.appConfig);for(;t.registrationStatus===1;)await KR(100),t=await dw(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await $b(n);return i||e}return t}function dw(n){return Vg(n,t=>{if(!t)throw Oc.create("installation-not-found");return ZR(t)})}function ZR(n){return LL(n)?{fid:n.fid,registrationStatus:0}:n}function LL(n){return n.registrationStatus===1&&n.registrationTime+VR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL({appConfig:n,heartbeatServiceProvider:t},e){const i=UL(n,e),s=bL(n,e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:UR,appId:n.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await GR(()=>fetch(i,u));if(h.ok){const f=await h.json();return HR(f)}else throw await $R("Generate Auth Token",h)}function UL(n,{fid:t}){return`${zR(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(n,t=!1){let e;const i=await Vg(n.appConfig,a=>{if(!JR(a))throw Oc.create("not-registered");const l=a.authToken;if(!t&&zL(l))return a;if(l.requestStatus===1)return e=FL(n,t),a;{if(!navigator.onLine)throw Oc.create("app-offline");const u=$L(a);return e=BL(n,u),u}});return e?await e:i.authToken}async function FL(n,t){let e=await fw(n.appConfig);for(;e.authToken.requestStatus===1;)await KR(100),e=await fw(n.appConfig);const i=e.authToken;return i.requestStatus===0?qb(n,t):i}function fw(n){return Vg(n,t=>{if(!JR(t))throw Oc.create("not-registered");const e=t.authToken;return qL(e)?{...t,authToken:{requestStatus:0}}:t})}async function BL(n,t){try{const e=await VL(n,t),i={...t,authToken:e};return await Gp(n.appConfig,i),e}catch(e){if(BR(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await QR(n.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Gp(n.appConfig,i)}throw e}}function JR(n){return n!==void 0&&n.registrationStatus===2}function zL(n){return n.requestStatus===2&&!HL(n)}function HL(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+gL}function $L(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function qL(n){return n.requestStatus===1&&n.requestTime+VR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n){const t=n,{installationEntry:e,registrationPromise:i}=await $b(t);return i?i.catch(console.error):qb(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,t=!1){const e=n;return await WL(e),(await qb(e,t)).token}async function WL(n){const{registrationPromise:t}=await $b(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n){if(!n||!n.options)throw M_("App Configuration");if(!n.name)throw M_("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw M_(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function M_(n){return Oc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="installations",XL="installations-internal",QL=n=>{const t=n.getProvider("app").getImmediate(),e=YL(t),i=Ul(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},ZL=n=>{const t=n.getProvider("app").getImmediate(),e=Ul(t,t1).getImmediate();return{getId:()=>GL(e),getToken:s=>KL(e,s)}};function JL(){Rr(new er(t1,QL,"PUBLIC")),Rr(new er(XL,ZL,"PRIVATE"))}JL();is(LR,zb);is(LR,zb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="analytics",tV="firebase_id",eV="origin",nV=60*1e3,iV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new yg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ss=new Uc("analytics","Analytics",sV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n){if(!n.startsWith(Gb)){const t=Ss.create("invalid-gtag-resource",{gtagURL:n});return ss.warn(t.message),""}return n}function e1(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function aV(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function oV(n,t){const e=aV("firebase-js-sdk-policy",{createScriptURL:rV}),i=document.createElement("script"),s=`${Gb}?l=${n}&id=${t}`;i.src=e?e?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function lV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function cV(n,t,e,i,s,a){const l=i[s];try{if(l)await t[l];else{const h=(await e1(e)).find(f=>f.measurementId===s);h&&await t[h.appId]}}catch(u){ss.error(u)}n("config",s,a)}async function uV(n,t,e,i,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await e1(e);for(const h of l){const f=u.find(b=>b.measurementId===h),g=f&&t[f.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),n("event",i,s||{})}catch(a){ss.error(a)}}function hV(n,t,e,i){async function s(a,...l){try{if(a==="event"){const[u,h]=l;await uV(n,t,e,u,h)}else if(a==="config"){const[u,h]=l;await cV(n,t,e,i,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){ss.error(u)}}return s}function dV(n,t,e,i,s){let a=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=hV(a,n,t,e),{gtagCore:a,wrappedGtag:window[s]}}function fV(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Gb)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=30,pV=1e3;class gV{constructor(t={},e=pV){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const n1=new gV;function yV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function _V(n){const{appId:t,apiKey:e}=n,i={method:"GET",headers:yV(e)},s=iV.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw Ss.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function vV(n,t=n1,e){const{appId:i,apiKey:s,measurementId:a}=n.options;if(!i)throw Ss.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw Ss.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new TV;return setTimeout(async()=>{u.abort()},nV),i1({appId:i,apiKey:s,measurementId:a},l,u,t)}async function i1(n,{throttleEndTimeMillis:t,backoffCount:e},i,s=n1){const{appId:a,measurementId:l}=n;try{await bV(i,t)}catch(u){if(l)return ss.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await _V(n);return s.deleteThrottleMetadata(a),u}catch(u){const h=u;if(!EV(h)){if(s.deleteThrottleMetadata(a),l)return ss.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw u}const f=Number(h?.customData?.httpStatus)===503?ox(e,s.intervalMillis,mV):ox(e,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:e+1};return s.setThrottleMetadata(a,g),ss.debug(`Calling attemptFetch again in ${f} millis`),i1(n,g,i,s)}}function bV(n,t){return new Promise((e,i)=>{const s=Math.max(t-Date.now(),0),a=setTimeout(e,s);n.addEventListener(()=>{clearTimeout(a),i(Ss.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function EV(n){if(!(n instanceof ir)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class TV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function xV(n,t,e,i,s){if(s&&s.global){n("event",e,i);return}else{const a=await t,l={...i,send_to:a};n("event",e,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(){if(nC())try{await iC()}catch(n){return ss.warn(Ss.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ss.warn(Ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SV(n,t,e,i,s,a,l){const u=vV(n);u.then(E=>{e[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&ss.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ss.error(E)),t.push(u);const h=wV().then(E=>{if(E)return i.getId()}),[f,g]=await Promise.all([u,h]);fV(a)||oV(a,f.measurementId),s("js",new Date);const b=l?.config??{};return b[eV]="firebase",b.update=!0,g!=null&&(b[tV]=g),s("config",f.measurementId,b),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(t){this.app=t}_delete(){return delete Wd[this.app.options.appId],Promise.resolve()}}let Wd={},mw=[];const pw={};let P_="dataLayer",CV="gtag",gw,s1,yw=!1;function RV(){const n=[];if(eC()&&n.push("This is a browser extension environment."),kO()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),e=Ss.create("invalid-analytics-context",{errorInfo:t});ss.warn(e.message)}}function IV(n,t,e){RV();const i=n.options.appId;if(!i)throw Ss.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ss.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ss.create("no-api-key");if(Wd[i]!=null)throw Ss.create("already-exists",{id:i});if(!yw){lV(P_);const{wrappedGtag:a,gtagCore:l}=dV(Wd,mw,pw,P_,CV);s1=a,gw=l,yw=!0}return Wd[i]=SV(n,mw,pw,t,gw,P_,e),new AV(n)}function NV(n=_g()){n=Ln(n);const t=Ul(n,Kp);return t.isInitialized()?t.getImmediate():DV(n)}function DV(n,t={}){const e=Ul(n,Kp);if(e.isInitialized()){const s=e.getImmediate();if(Il(t,e.getOptions()))return s;throw Ss.create("already-initialized")}return e.initialize({options:t})}function kV(n,t,e,i){n=Ln(n),xV(s1,Wd[n.app.options.appId],t,e,i).catch(s=>ss.error(s))}const _w="@firebase/analytics",vw="0.10.18";function OV(){Rr(new er(Kp,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return IV(i,s,e)},"PUBLIC")),Rr(new er("analytics-internal",n,"PRIVATE")),is(_w,vw),is(_w,vw,"esm2020");function n(t){try{const e=t.getProvider(Kp).getImmediate();return{logEvent:(i,s,a)=>kV(e,i,s,a)}}catch(e){throw Ss.create("interop-component-reg-failed",{reason:e})}}}OV();function r1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MV=r1,a1=new Uc("auth","Firebase",r1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new yg("@firebase/auth");function PV(n,...t){Wp.logLevel<=_e.WARN&&Wp.warn(`Auth (${Fc}): ${n}`,...t)}function wp(n,...t){Wp.logLevel<=_e.ERROR&&Wp.error(`Auth (${Fc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,...t){throw Kb(n,...t)}function ma(n,...t){return Kb(n,...t)}function o1(n,t,e){const i={...MV(),[t]:e};return new Uc("auth","Firebase",i).create(t,{appName:n.name})}function Cl(n){return o1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kb(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return a1.create(n,...t)}function Zt(n,t,...e){if(!n)throw Kb(t,...e)}function fo(n){const t="INTERNAL ASSERTION FAILED: "+n;throw wp(t),new Error(t)}function xo(n,t){n||fo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){return typeof self<"u"&&self.location?.href||""}function jV(){return bw()==="http:"||bw()==="https:"}function bw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jV()||eC()||"connection"in navigator)?navigator.onLine:!0}function VV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e){this.shortDelay=t,this.longDelay=e,xo(e>t,"Short delay should be less than long delay!"),this.isMobile=AO()||IO()}get(){return LV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n,t){xo(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BV=new kf(3e4,6e4);function Hc(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function zl(n,t,e,i,s={}){return c1(n,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const u=xf({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:h,...a};return RO()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Vc(n.emulatorConfig.host)&&(f.credentials="include"),l1.fetch()(await u1(n,n.config.apiHost,e,u),f)})}async function c1(n,t,e){n._canInitEmulator=!1;const i={...UV,...t};try{const s=new HV(n),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Qm(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qm(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Qm(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Qm(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw o1(n,g,f);Ir(n,g)}}catch(s){if(s instanceof ir)throw s;Ir(n,"network-request-failed",{message:String(s)})}}async function Ug(n,t,e,i,s={}){const a=await zl(n,t,e,i,s);return"mfaPendingCredential"in a&&Ir(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function u1(n,t,e,i){const s=`${t}${e}?${i}`,a=n,l=a.config.emulator?Wb(n.config,s):`${n.config.apiScheme}://${s}`;return FV.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function zV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ma(this.auth,"network-request-failed")),BV.get())})}}function Qm(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=ma(n,t,i);return s.customData._tokenResponse=e,s}function Ew(n){return n!==void 0&&n.enterprise!==void 0}class $V{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return zV(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qV(n,t){return zl(n,"GET","/v2/recaptchaConfig",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(n,t){return zl(n,"POST","/v1/accounts:delete",t)}async function Yp(n,t){return zl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KV(n,t=!1){const e=Ln(n),i=await e.getIdToken(t),s=Yb(i);Zt(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:i,authTime:Yd(j_(s.auth_time)),issuedAtTime:Yd(j_(s.iat)),expirationTime:Yd(j_(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function j_(n){return Number(n)*1e3}function Yb(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const s=YA(e);return s?JSON.parse(s):(wp("Failed to decode base64 JWT payload"),null)}catch(s){return wp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Tw(n){const t=Yb(n);return Zt(t,"internal-error"),Zt(typeof t.exp<"u","internal-error"),Zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ir&&WV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function WV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(n){const t=n.auth,e=await n.getIdToken(),i=await cf(n,Yp(t,{idToken:e}));Zt(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?h1(s.providerUserInfo):[],l=QV(n.providerData,a),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,f=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new jv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function XV(n){const t=Ln(n);await Xp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QV(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function h1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(n,t){const e=await c1(n,{},async()=>{const i=xf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await u1(n,s,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&Vc(n.emulatorConfig.host)&&(h.credentials="include"),l1.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function JV(n,t){return zl(n,"POST","/v2/accounts:revokeToken",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Zt(t.idToken,"internal-error"),Zt(typeof t.idToken<"u","internal-error"),Zt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Zt(t.length!==0,"internal-error");const e=Tw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:a}=await ZV(t,e);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:a}=e,l=new zu;return i&&(Zt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Zt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Zt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n,t){Zt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class wr{constructor({uid:t,auth:e,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new YV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await cf(this,this.stsTokenManager.getToken(this.auth,t));return Zt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return KV(this,t)}reload(){return XV(this)}_assign(t){this!==t&&(Zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new wr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Xp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zs(this.auth.app))return Promise.reject(Cl(this.auth));const t=await this.getIdToken();return await cf(this,GV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,s=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,h=e._redirectEventId??void 0,f=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:w,providerData:C,stsTokenManager:N}=e;Zt(b&&N,t,"internal-error");const R=zu.fromJSON(this.name,N);Zt(typeof b=="string",t,"internal-error"),dl(i,t.name),dl(s,t.name),Zt(typeof E=="boolean",t,"internal-error"),Zt(typeof w=="boolean",t,"internal-error"),dl(a,t.name),dl(l,t.name),dl(u,t.name),dl(h,t.name),dl(f,t.name),dl(g,t.name);const L=new wr({uid:b,auth:t,email:s,emailVerified:E,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:R,createdAt:f,lastLoginAt:g});return C&&Array.isArray(C)&&(L.providerData=C.map($=>({...$}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(t,e,i=!1){const s=new zu;s.updateFromServerResponse(e);const a=new wr({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Xp(a),a}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Zt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?h1(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new zu;u.updateFromIdToken(i);const h=new wr({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function mo(n){xo(n instanceof Function,"Expected a class definition");let t=xw.get(n);return t?(xo(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,xw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}d1.type="NONE";const ww=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,t,e){return`firebase:${n}:${t}:${e}`}class Hu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Sp(this.userKey,s.apiKey,a),this.fullPersistenceKey=Sp("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Yp(this.auth,{idToken:t}).catch(()=>{});return e?wr._fromGetAccountInfoResponse(this.auth,e,t):null}return wr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Hu(mo(ww),t,i);const s=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||mo(ww);const l=Sp(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const g=await f._get(l);if(g){let b;if(typeof g=="string"){const E=await Yp(t,{idToken:g}).catch(()=>{});if(!E)break;b=await wr._fromGetAccountInfoResponse(t,E,g)}else b=wr._fromJSON(t,g);f!==a&&(u=b),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Hu(a,t,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Hu(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(f1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_1(t))return"Blackberry";if(v1(t))return"Webos";if(m1(t))return"Safari";if((t.includes("chrome/")||p1(t))&&!t.includes("edge/"))return"Chrome";if(y1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function f1(n=Ni()){return/firefox\//i.test(n)}function m1(n=Ni()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p1(n=Ni()){return/crios\//i.test(n)}function g1(n=Ni()){return/iemobile/i.test(n)}function y1(n=Ni()){return/android/i.test(n)}function _1(n=Ni()){return/blackberry/i.test(n)}function v1(n=Ni()){return/webos/i.test(n)}function Xb(n=Ni()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function t4(n=Ni()){return Xb(n)&&!!window.navigator?.standalone}function e4(){return NO()&&document.documentMode===10}function b1(n=Ni()){return Xb(n)||y1(n)||v1(n)||_1(n)||/windows phone/i.test(n)||g1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,t=[]){let e;switch(n){case"Browser":e=Sw(Ni());break;case"Worker":e=`${Sw(Ni())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=a=>new Promise((l,u)=>{try{const h=t(a);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(n,t={}){return zl(n,"GET","/v2/passwordPolicy",Hc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=6;class r4{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??s4,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new n4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=mo(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Yp(this,{idToken:t}),i=await wr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Xp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zs(this.app))return Promise.reject(Cl(this));const e=t?Ln(t):null;return e&&Zt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zs(this.app)?Promise.reject(Cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zs(this.app)?Promise.reject(Cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await i4(this),e=new r4(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await JV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&mo(t)||this._popupRedirectResolver;Zt(e,this,"argument-error"),this.redirectPersistenceManager=await Hu.create(this,[mo(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zt(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&PV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uh(n){return Ln(n)}class Aw{constructor(t){this.auth=t,this.observer=null,this.addObserver=LO(e=>this.observer=e)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o4(n){Fg=n}function T1(n){return Fg.loadJS(n)}function l4(){return Fg.recaptchaEnterpriseScript}function c4(){return Fg.gapiScript}function u4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class h4{constructor(){this.enterprise=new d4}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class d4{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const f4="recaptcha-enterprise",x1="NO_RECAPTCHA";class m4{constructor(t){this.type=f4,this.auth=uh(t)}async verify(t="verify",e=!1){async function i(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{qV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new $V(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;Ew(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(x1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!e&&Ew(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=l4();h.length!==0&&(h+=u),T1(h).then(()=>{s(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Cw(n,t,e,i=!1,s=!1){const a=new m4(n);let l;if(s)l=x1;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Rw(n,t,e,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Cw(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Cw(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n,t){const e=Ul(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(Il(a,t??{}))return s;Ir(s,"already-initialized")}return e.initialize({options:t})}function g4(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(mo);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function y4(n,t,e){const i=uh(n);Zt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=w1(t),{host:l,port:u}=_4(t),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Zt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Zt(Il(f,i.config.emulator)&&Il(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Vc(l)?(lb(`${a}//${l}${h}`),cb("Auth",!0)):v4()}function w1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function _4(n){const t=w1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Iw(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Iw(l)}}}function Iw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function v4(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return fo("not implemented")}_getIdTokenResponse(t){return fo("not implemented")}_linkToIdToken(t,e){return fo("not implemented")}_getReauthenticationResolver(t){return fo("not implemented")}}async function b4(n,t){return zl(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(n,t){return Ug(n,"POST","/v1/accounts:signInWithPassword",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n,t){return Ug(n,"POST","/v1/accounts:signInWithEmailLink",Hc(n,t))}async function x4(n,t){return Ug(n,"POST","/v1/accounts:signInWithEmailLink",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends Qb{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new uf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new uf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rw(t,e,"signInWithPassword",E4);case"emailLink":return T4(t,{email:this._email,oobCode:this._password});default:Ir(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rw(t,i,"signUpPassword",b4);case"emailLink":return x4(t,{idToken:e,email:this._email,oobCode:this._password});default:Ir(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(n,t){return Ug(n,"POST","/v1/accounts:signInWithIdp",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="http://localhost";class Pc extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Pc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ir("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=e;if(!i||!s)return null;const l=new Pc(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return $u(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,$u(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,$u(t,e)}buildRequest(){const t={requestUri:w4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A4(n){const t=Md(Pd(n)).link,e=t?Md(Pd(t)).deep_link_id:null,i=Md(Pd(n)).deep_link_id;return(i?Md(Pd(i)).link:null)||i||e||t||n}class Zb{constructor(t){const e=Md(Pd(t)),i=e.apiKey??null,s=e.oobCode??null,a=S4(e.mode??null);Zt(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=A4(t);try{return new Zb(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this.providerId=hh.PROVIDER_ID}static credential(t,e){return uf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Zb.parseLink(e);return Zt(i,"argument-error"),uf._fromEmailAndCode(t,i.code,i.tenantId)}}hh.PROVIDER_ID="password";hh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends S1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Of{constructor(){super("facebook.com")}static credential(t){return Pc._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ml.credentialFromTaggedObject(t)}static credentialFromError(t){return ml.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ml.credential(t.oauthAccessToken)}catch{return null}}}ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Of{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Pc._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return pl.credentialFromTaggedObject(t)}static credentialFromError(t){return pl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return pl.credential(e,i)}catch{return null}}}pl.GOOGLE_SIGN_IN_METHOD="google.com";pl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Of{constructor(){super("github.com")}static credential(t){return Pc._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gl.credentialFromTaggedObject(t)}static credentialFromError(t){return gl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gl.credential(t.oauthAccessToken)}catch{return null}}}gl.GITHUB_SIGN_IN_METHOD="github.com";gl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Of{constructor(){super("twitter.com")}static credential(t,e){return Pc._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return yl.credentialFromTaggedObject(t)}static credentialFromError(t){return yl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return yl.credential(e,i)}catch{return null}}}yl.TWITTER_SIGN_IN_METHOD="twitter.com";yl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const a=await wr._fromIdTokenResponse(t,i,s),l=Nw(i);return new Ju({user:a,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=Nw(i);return new Ju({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function Nw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends ir{constructor(t,e,i,s){super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new Qp(t,e,i,s)}}function A1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(n,a,t,i):a})}async function C4(n,t,e=!1){const i=await cf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ju._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(n,t,e=!1){const{auth:i}=n;if(Zs(i.app))return Promise.reject(Cl(i));const s="reauthenticate";try{const a=await cf(n,A1(i,s,t,n),e);Zt(a.idToken,i,"internal-error");const l=Yb(a.idToken);Zt(l,i,"internal-error");const{sub:u}=l;return Zt(n.uid===u,i,"user-mismatch"),Ju._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ir(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(n,t,e=!1){if(Zs(n.app))return Promise.reject(Cl(n));const i="signIn",s=await A1(n,i,t),a=await Ju._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(a.user),a}async function I4(n,t){return C1(uh(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(n){const t=uh(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function D4(n,t,e){return Zs(n.app)?Promise.reject(Cl(n)):I4(Ln(n),hh.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&N4(n),i})}function k4(n,t,e,i){return Ln(n).onIdTokenChanged(t,e,i)}function O4(n,t,e){return Ln(n).beforeAuthStateChanged(t,e)}function M4(n,t,e,i){return Ln(n).onAuthStateChanged(t,e,i)}function P4(n){return Ln(n).signOut()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=1e3,L4=10;class I1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);e4()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,L4):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}I1.type="LOCAL";const V4=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}N1.type="SESSION";const D1=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Bg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async f=>f(e.origin,a)),h=await U4(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=Jb("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(b){const E=b;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(E.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(){return window}function B4(n){pa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof pa().WorkerGlobalScope<"u"&&typeof pa().importScripts=="function"}async function z4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H4(){return navigator?.serviceWorker?.controller||null}function $4(){return k1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebaseLocalStorageDb",q4=1,Jp="firebaseLocalStorage",M1="fbase_key";class Mf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function zg(n,t){return n.transaction([Jp],t?"readwrite":"readonly").objectStore(Jp)}function G4(){const n=indexedDB.deleteDatabase(O1);return new Mf(n).toPromise()}function Lv(){const n=indexedDB.open(O1,q4);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jp,{keyPath:M1})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jp)?t(i):(i.close(),await G4(),t(await Lv()))})})}async function Dw(n,t,e){const i=zg(n,!0).put({[M1]:t,value:e});return new Mf(i).toPromise()}async function K4(n,t){const e=zg(n,!1).get(t),i=await new Mf(e).toPromise();return i===void 0?null:i.value}function kw(n,t){const e=zg(n,!0).delete(t);return new Mf(e).toPromise()}const W4=800,Y4=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lv(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Y4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance($4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await z4(),!this.activeServiceWorker)return;this.sender=new F4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||H4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lv();return await Dw(t,Zp,"1"),await kw(t,Zp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>K4(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>kw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=zg(s,!1).getAll();return new Mf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const X4=P1;new kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n,t){return t?mo(t):(Zt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Qb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $u(t,this._buildIdpRequest())}_linkToIdToken(t,e){return $u(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return $u(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Z4(n){return C1(n.auth,new t0(n),n.bypassAuthState)}function J4(n){const{auth:t,user:e}=n;return Zt(e,t,"internal-error"),R4(e,new t0(n),n.bypassAuthState)}async function t6(n){const{auth:t,user:e}=n;return Zt(e,t,"internal-error"),C4(e,new t0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,e,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:a,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Z4;case"linkViaPopup":case"linkViaRedirect":return t6;case"reauthViaPopup":case"reauthViaRedirect":return J4;default:Ir(this.auth,"internal-error")}}resolve(t){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new kf(2e3,1e4);class Vu extends j1{constructor(t,e,i,s,a){super(t,e,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Zt(t,this.auth,"internal-error"),t}async onExecution(){xo(this.filter.length===1,"Popup operations only handle one event");const t=Jb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,e6.get())};t()}}Vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="pendingRedirect",Ap=new Map;class i6 extends j1{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Ap.get(this.auth._key());if(!t){try{const i=await s6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Ap.set(this.auth._key(),t)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s6(n,t){const e=o6(t),i=a6(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function r6(n,t){Ap.set(n._key(),t)}function a6(n){return mo(n._redirectPersistence)}function o6(n){return Sp(n6,n.config.apiKey,n.name)}async function l6(n,t,e=!1){if(Zs(n.app))return Promise.reject(Cl(n));const i=uh(n),s=Q4(i,t),l=await new i6(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=600*1e3;class u6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!h6(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!L1(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ma(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ow(t))}saveEventToCache(t){this.cachedEventUids.add(Ow(t)),this.lastProcessedEventTime=Date.now()}}function Ow(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function L1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function h6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(n,t={}){return zl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m6=/^https?/;async function p6(n){if(n.config.emulator)return;const{authorizedDomains:t}=await d6(n);for(const e of t)try{if(g6(e))return}catch{}Ir(n,"unauthorized-domain")}function g6(n){const t=Pv(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!m6.test(e))return!1;if(f6.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new kf(3e4,6e4);function Mw(){const n=pa().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function _6(n){return new Promise((t,e)=>{function i(){Mw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mw(),e(ma(n,"network-request-failed"))},timeout:y6.get()})}if(pa().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(pa().gapi?.load)i();else{const s=u4("iframefcb");return pa()[s]=()=>{gapi.load?i():e(ma(n,"network-request-failed"))},T1(`${c4()}?onload=${s}`).catch(a=>e(a))}}).catch(t=>{throw Cp=null,t})}let Cp=null;function v6(n){return Cp=Cp||_6(n),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new kf(5e3,15e3),E6="__/auth/iframe",T6="emulator/auth/iframe",x6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S6(n){const t=n.config;Zt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Wb(t,T6):`https://${n.config.authDomain}/${E6}`,i={apiKey:t.apiKey,appName:n.name,v:Fc},s=w6.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${e}?${xf(i).slice(1)}`}async function A6(n){const t=await v6(n),e=pa().gapi;return Zt(e,n,"internal-error"),t.open({where:document.body,url:S6(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x6,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=ma(n,"network-request-failed"),u=pa().setTimeout(()=>{a(l)},b6.get());function h(){pa().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R6=500,I6=600,N6="_blank",D6="http://localhost";class Pw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(n,t,e,i=R6,s=I6){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...C6,width:i.toString(),height:s.toString(),top:a,left:l},f=Ni().toLowerCase();e&&(u=p1(f)?N6:e),f1(f)&&(t=t||D6,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[w,C])=>`${E}${w}=${C},`,"");if(t4(f)&&u!=="_self")return O6(t||"",u),new Pw(null);const b=window.open(t||"",u,g);Zt(b,n,"popup-blocked");try{b.focus()}catch{}return new Pw(b)}function O6(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="__/auth/handler",P6="emulator/auth/handler",j6=encodeURIComponent("fac");async function jw(n,t,e,i,s,a){Zt(n.config.authDomain,n,"auth-domain-config-required"),Zt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Fc,eventId:s};if(t instanceof S1){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",jO(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,b]of Object.entries({}))l[g]=b}if(t instanceof Of){const g=t.getScopes().filter(b=>b!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),f=h?`#${j6}=${encodeURIComponent(h)}`:"";return`${L6(n)}?${xf(u).slice(1)}${f}`}function L6({config:n}){return n.emulator?Wb(n,P6):`https://${n.authDomain}/${M6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="webStorageSupport";class V6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=l6,this._overrideRedirectResult=r6}async _openPopup(t,e,i,s){xo(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await jw(t,e,i,Pv(),s);return k6(t,a,Jb())}async _openRedirect(t,e,i,s){await this._originValidation(t);const a=await jw(t,e,i,Pv(),s);return B4(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(xo(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await A6(t),i=new u6(t);return e.register("authEvent",s=>(Zt(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(L_,{type:L_},s=>{const a=s?.[0]?.[L_];a!==void 0&&e(!!a),Ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=p6(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return b1()||m1()||Xb()}}const U6=V6;var Lw="@firebase/auth",Vw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z6(n){Rr(new er("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Zt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(n)},f=new a4(i,s,a,h);return g4(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Rr(new er("auth-internal",t=>{const e=uh(t.getProvider("auth").getImmediate());return(i=>new F6(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Lw,Vw,B6(n)),is(Lw,Vw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=300,$6=JA("authIdTokenMaxAge")||H6;let Uw=null;const q6=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>$6)return;const s=e?.token;Uw!==s&&(Uw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function G6(n=_g()){const t=Ul(n,"auth");if(t.isInitialized())return t.getImmediate();const e=p4(n,{popupRedirectResolver:U6,persistence:[X4,V4,D1]}),i=JA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=q6(a.toString());O4(e,l,()=>l(e.currentUser)),k4(e,u=>l(u))}}const s=XA("auth");return s&&y4(e,`http://${s}`),e}function K6(){return document.getElementsByTagName("head")?.[0]??document}o4({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const a=ma("internal-error");a.customData=s,e(a)},i.type="text/javascript",i.charset="UTF-8",K6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebasestorage.googleapis.com",W6="storageBucket",Y6=120*1e3,X6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends ir{constructor(t,e,i=0){super(V_(t),`Firebase Storage: ${e} (${V_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ta.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return V_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ba;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ba||(ba={}));function V_(n){return"storage/"+n}function Q6(){const n="An unknown error occurred, please check the error payload for server response.";return new Ta(ba.UNKNOWN,n)}function Z6(){return new Ta(ba.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J6(){return new Ta(ba.CANCELED,"User canceled the upload/download.")}function tU(n){return new Ta(ba.INVALID_URL,"Invalid URL '"+n+"'.")}function eU(n){return new Ta(ba.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Fw(n){return new Ta(ba.INVALID_ARGUMENT,n)}function U1(){return new Ta(ba.APP_DELETED,"The Firebase app was deleted.")}function nU(n){return new Ta(ba.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Sr.makeFromUrl(t,e)}catch{return new Sr(t,"")}if(i.path==="")return i;throw eU(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(Q){Q.path_=decodeURIComponent(Q.path)}const g="v[A-Za-z0-9_]+",b=e.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${g}/b/${s}/o${E}`,"i"),C={bucket:1,path:3},N=e===V1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,R="([^?#]*)",L=new RegExp(`^https?://${N}/${s}/${R}`,"i"),G=[{regex:u,indices:h,postModify:a},{regex:w,indices:C,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let Q=0;Q<G.length;Q++){const Y=G[Q],K=Y.regex.exec(t);if(K){const B=K[Y.indices.bucket];let D=K[Y.indices.path];D||(D=""),i=new Sr(B,D),Y.postModify(i);break}}if(i==null)throw tU(t);return i}}class iU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n,t,e){let i=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let f=!1;function g(...R){f||(f=!0,t.apply(null,R))}function b(R){s=setTimeout(()=>{s=null,n(w,h())},R)}function E(){a&&clearTimeout(a)}function w(R,...L){if(f){E();return}if(R){E(),g.call(null,R,...L);return}if(h()||l){E(),g.call(null,R,...L);return}i<64&&(i*=2);let G;u===1?(u=2,G=0):G=(i+Math.random())*1e3,b(G)}let C=!1;function N(R){C||(C=!0,E(),!f&&(s!==null?(R||(u=2),clearTimeout(s),b(0)):R||(u=1)))}return b(0),a=setTimeout(()=>{l=!0,N(!0)},e),N}function rU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(n){return n!==void 0}function Bw(n,t,e,i){if(i<t)throw Fw(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Fw(`Invalid value for '${n}'. Expected ${e} or less.`)}function oU(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const s=t(i)+"="+t(n[i]);e=e+s+"&"}return e=e.slice(0,-1),e}var tg;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(tg||(tg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(n,t){const e=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=t.indexOf(n)!==-1;return e||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(t,e,i,s,a,l,u,h,f,g,b,E=!0,w=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=b,this.retry=E,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new Zm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===tg.NO_ERROR,h=a.getStatus();if(!u||lU(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===tg.ABORT;i(!1,new Zm(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Zm(f,a))})},e=(i,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());aU(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=Q6();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?U1():J6();l(h)}else{const h=Z6();l(h)}};this.canceled_?e(!1,new Zm(!1,null,!0)):this.backoffId_=sU(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zm{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function uU(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function hU(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function dU(n,t){t&&(n["X-Firebase-GMPID"]=t)}function fU(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function mU(n,t,e,i,s,a,l=!0,u=!1){const h=oU(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return dU(g,t),uU(g,e),hU(g,a),fU(g,i),new cU(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function gU(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,e){this._service=t,e instanceof Sr?this._location=e:this._location=Sr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new eg(t,e)}get root(){const t=new Sr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gU(this._location.path)}get storage(){return this._service}get parent(){const t=pU(this._location.path);if(t===null)return null;const e=new Sr(this._location.bucket,t);return new eg(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw nU(t)}}function zw(n,t){const e=t?.[W6];return e==null?null:Sr.makeFromBucketSpec(e,n)}function yU(n,t,e,i={}){n.host=`${t}:${e}`;const s=Vc(t);s&&(lb(`https://${n.host}/b`),cb("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:tC(a,n.app.options.projectId))}class _U{constructor(t,e,i,s,a,l=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=V1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y6,this._maxUploadRetryTime=X6,this._requests=new Set,s!=null?this._bucket=Sr.makeFromBucketSpec(s,this._host):this._bucket=zw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,t):this._bucket=zw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new eg(this,t)}_makeRequest(t,e,i,s,a=!0){if(this._deleted)return new iU(U1());{const l=mU(t,this._appId,i,s,e,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,e){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,s).getPromise()}}const Hw="@firebase/storage",$w="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="storage";function vU(n=_g(),t){n=Ln(n);const i=Ul(n,F1).getImmediate({identifier:t}),s=QA("storage");return s&&bU(i,...s),i}function bU(n,t,e,i={}){yU(n,t,e,i)}function EU(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new _U(e,i,s,t,Fc)}function TU(){Rr(new er(F1,EU,"PUBLIC").setMultipleInstances(!0)),is(Hw,$w,""),is(Hw,$w,"esm2020")}TU();const xU={apiKey:"AIzaSyBj3yBju4j5BNyCsngprs1l7XpeuLlzxAU",authDomain:"kombuchaapp.firebaseapp.com",projectId:"kombuchaapp",storageBucket:"kombuchaapp.firebasestorage.app",messagingSenderId:"267416022207",appId:"1:267416022207:web:1407cd0c5f9f6f445e2a0a",measurementId:"G-BG580BH7XJ"},Hg=oC(xU);NV(Hg);const Vv=G6(Hg),Ne=Zj(Hg);vU(Hg);const jl="America/Mexico_City",th=()=>new Date().toLocaleDateString("en-CA",{timeZone:jl}),ng=()=>{const n=new Date;return new Date(n.toLocaleString("en-US",{timeZone:jl})).toISOString()},B1=()=>new Date().toLocaleDateString("en-CA",{timeZone:jl,year:"numeric",month:"2-digit"}).replace("/","-"),_l=n=>new Date(n).toLocaleDateString("es-ES",{timeZone:jl}),wU=(n=0)=>{const t=new Date;return t.setDate(t.getDate()+n),t.toLocaleDateString("en-CA",{timeZone:jl})},U_=n=>n?new Date(n+"-01").toLocaleDateString("es-ES",{month:"long",year:"numeric",timeZone:jl}):"este mes",SU=n=>{const t=new Date(n+"T00:00:00"),e=new Date,i=new Date(t.toLocaleString("en-US",{timeZone:jl})),s=new Date(e.toLocaleString("en-US",{timeZone:jl}));i.setHours(0,0,0,0),s.setHours(0,0,0,0);const a=Math.abs(s-i),l=Math.ceil(a/(1e3*60*60*24));return l===0?"Hoy":l===1?"Ayer":l<=7?`Hace ${l} días`:_l(n)},AU=n=>{if(!n||!n.fecha||!n.items)return null;const t=n.items.reduce((b,E)=>b+(parseInt(E.cantidad)||0),0);if(t===0)return null;const e=t,i=new Date(n.fecha+"T00:00:00"),s=new Date(i);s.setDate(i.getDate()+e);const a=s.toISOString().split("T")[0],l=th(),u=a<=l,h=new Date(l+"T00:00:00"),f=new Date(a+"T00:00:00"),g=Math.floor((h-f)/(1e3*60*60*24));return{customerId:n.cliente,lastSaleId:n.id,lastSaleDate:n.fecha,totalKombuchas:t,daysToWait:e,reminderDate:a,isDue:u,daysOverdue:u?Math.abs(g):0,daysUntilDue:u?0:Math.abs(g),status:"pending"}},e0=(n,t)=>{const e=[],i={};return n.forEach(s=>{i[s.cliente]||(i[s.cliente]=[]),i[s.cliente].push(s)}),Object.keys(i).forEach(s=>{const l=i[s].sort((h,f)=>new Date(f.fecha)-new Date(h.fecha))[0],u=AU(l);if(u){const h=t.find(f=>f.id===s);h&&e.push({...u,customerName:h.nombre,customerPhone:h.telefono,customerAddress:h.direccion,notificationId:`${s}_${l.id}_${u.reminderDate}`})}}),e.sort((s,a)=>s.isDue&&!a.isDue?-1:!s.isDue&&a.isDue?1:s.isDue&&a.isDue?a.daysOverdue-s.daysOverdue:s.daysUntilDue-a.daysUntilDue)},ig=n=>{const t=n.filter(s=>s.status==="pending"),e=t.filter(s=>s.isDue),i=t.filter(s=>!s.isDue);return{total:n.length,pending:t.length,overdue:e.length,upcoming:i.length,contacted:n.filter(s=>s.status==="contacted").length,dismissed:n.filter(s=>s.status==="dismissed").length}},z1=n=>{const{customerName:t,totalKombuchas:e,isDue:i,daysOverdue:s,daysUntilDue:a}=n;return i?s===0?`¡Hoy es el día! Contacta a ${t} - compró ${e} kombuchas`:s===1?`¡Ayer era el día! Contacta a ${t} - compró ${e} kombuchas`:`¡${s} días de retraso! Contacta a ${t} - compró ${e} kombuchas`:a===1?`Mañana contacta a ${t} - compró ${e} kombuchas`:`En ${a} días contacta a ${t} - compró ${e} kombuchas`},Rp=n=>n.isDue?n.daysOverdue>=7?"high":n.daysOverdue>=3?"medium":"low":"low";/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pf(n){return n+.5|0}const bl=(n,t,e)=>Math.max(Math.min(n,e),t);function Ud(n){return bl(Pf(n*2.55),0,255)}function Rl(n){return bl(Pf(n*255),0,255)}function co(n){return bl(Pf(n/2.55)/100,0,1)}function qw(n){return bl(Pf(n*100),0,100)}const Ys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Uv=[..."0123456789ABCDEF"],CU=n=>Uv[n&15],RU=n=>Uv[(n&240)>>4]+Uv[n&15],Jm=n=>(n&240)>>4===(n&15),IU=n=>Jm(n.r)&&Jm(n.g)&&Jm(n.b)&&Jm(n.a);function NU(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ys[n[1]]*17,g:255&Ys[n[2]]*17,b:255&Ys[n[3]]*17,a:t===5?Ys[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ys[n[1]]<<4|Ys[n[2]],g:Ys[n[3]]<<4|Ys[n[4]],b:Ys[n[5]]<<4|Ys[n[6]],a:t===9?Ys[n[7]]<<4|Ys[n[8]]:255})),e}const DU=(n,t)=>n<255?t(n):"";function kU(n){var t=IU(n)?CU:RU;return n?"#"+t(n.r)+t(n.g)+t(n.b)+DU(n.a,t):void 0}const OU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function H1(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function MU(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function PU(n,t,e){const i=H1(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function jU(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function n0(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),u=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),h=jU(e,i,s,g,a),h=h*60+.5),[h|0,f||0,u]}function i0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Rl)}function s0(n,t,e){return i0(H1,n,t,e)}function LU(n,t,e){return i0(PU,n,t,e)}function VU(n,t,e){return i0(MU,n,t,e)}function $1(n){return(n%360+360)%360}function UU(n){const t=OU.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ud(+t[5]):Rl(+t[5]));const s=$1(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=LU(s,a,l):t[1]==="hsv"?i=VU(s,a,l):i=s0(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function FU(n,t){var e=n0(n);e[0]=$1(e[0]+t),e=s0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function BU(n){if(!n)return;const t=n0(n),e=t[0],i=qw(t[1]),s=qw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${co(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Gw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zU(){const n={},t=Object.keys(Kw),e=Object.keys(Gw);let i,s,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)a=e[s],u=u.replace(a,Gw[a]);a=parseInt(Kw[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let tp;function HU(n){tp||(tp=zU(),tp.transparent=[0,0,0,0]);const t=tp[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const $U=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qU(n){const t=$U.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Ud(l):bl(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Ud(i):bl(i,0,255)),s=255&(t[4]?Ud(s):bl(s,0,255)),a=255&(t[6]?Ud(a):bl(a,0,255)),{r:i,g:s,b:a,a:e}}}function GU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${co(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const F_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Iu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function KU(n,t,e){const i=Iu(co(n.r)),s=Iu(co(n.g)),a=Iu(co(n.b));return{r:Rl(F_(i+e*(Iu(co(t.r))-i))),g:Rl(F_(s+e*(Iu(co(t.g))-s))),b:Rl(F_(a+e*(Iu(co(t.b))-a))),a:n.a+e*(t.a-n.a)}}function ep(n,t,e){if(n){let i=n0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=s0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function q1(n,t){return n&&Object.assign(t||{},n)}function Ww(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Rl(n[3]))):(t=q1(n,{r:0,g:0,b:0,a:1}),t.a=Rl(t.a)),t}function WU(n){return n.charAt(0)==="r"?qU(n):UU(n)}class hf{constructor(t){if(t instanceof hf)return t;const e=typeof t;let i;e==="object"?i=Ww(t):e==="string"&&(i=NU(t)||HU(t)||WU(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=q1(this._rgb);return t&&(t.a=co(t.a)),t}set rgb(t){this._rgb=Ww(t)}rgbString(){return this._valid?GU(this._rgb):void 0}hexString(){return this._valid?kU(this._rgb):void 0}hslString(){return this._valid?BU(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=i.a-s.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=KU(this._rgb,t._rgb,e)),this}clone(){return new hf(this.rgb)}alpha(t){return this._rgb.a=Rl(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Pf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ep(this._rgb,2,t),this}darken(t){return ep(this._rgb,2,-t),this}saturate(t){return ep(this._rgb,1,t),this}desaturate(t){return ep(this._rgb,1,-t),this}rotate(t){return FU(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ao(){}const YU=(()=>{let n=0;return()=>n++})();function Pe(n){return n==null}function Pn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ee(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Di(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function na(n,t){return Di(n)?n:t}function ue(n,t){return typeof n>"u"?t:n}const XU=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,G1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function tn(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Be(n,t,e,i){let s,a,l;if(Pn(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Ee(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function sg(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function rg(n){if(Pn(n))return n.map(rg);if(Ee(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=rg(n[e[s]]);return t}return n}function K1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function QU(n,t,e,i){if(!K1(n))return;const s=t[n],a=e[n];Ee(s)&&Ee(a)?df(s,a,i):t[n]=rg(a)}function df(n,t,e){const i=Pn(t)?t:[t],s=i.length;if(!Ee(n))return n;e=e||{};const a=e.merger||QU;let l;for(let u=0;u<s;++u){if(l=i[u],!Ee(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,e)}return n}function Xd(n,t){return df(n,t,{merger:ZU})}function ZU(n,t,e){if(!K1(n))return;const i=t[n],s=e[n];Ee(i)&&Ee(s)?Xd(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rg(s))}const Yw={"":n=>n,x:n=>n.x,y:n=>n.y};function JU(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function t3(n){const t=JU(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function jc(n,t){return(Yw[t]||(Yw[t]=t3(t)))(n)}function r0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ff=n=>typeof n<"u",Ll=n=>typeof n=="function",Xw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function e3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ze=Math.PI,un=2*ze,n3=un+ze,ag=Number.POSITIVE_INFINITY,i3=ze/180,Wn=ze/2,vc=ze/4,Qw=ze*2/3,W1=Math.log10,ga=Math.sign;function Qd(n,t,e){return Math.abs(n-t)<e}function Zw(n){const t=Math.round(n);n=Qd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(W1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function s3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function r3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function mf(n){return!r3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function a3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function o3(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function po(n){return n*(ze/180)}function l3(n){return n*(180/ze)}function Jw(n){if(!Di(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Y1(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*ze&&(a+=un),{angle:a,distance:s}}function Fv(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function c3(n,t){return(n-t+n3)%un-ze}function xs(n){return(n%un+un)%un}function pf(n,t,e,i){const s=xs(n),a=xs(t),l=xs(e),u=xs(a-s),h=xs(l-s),f=xs(s-a),g=xs(s-l);return s===a||s===l||i&&a===l||u>h&&f<g}function Ri(n,t,e){return Math.max(t,Math.min(e,n))}function u3(n){return Ri(n,-32768,32767)}function go(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function a0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const Rc=(n,t,e,i)=>a0(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),h3=(n,t,e)=>a0(n,e,i=>n[i][t]>=e);function d3(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const X1=["push","pop","shift","splice","unshift"];function f3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),X1.forEach(e=>{const i="_onData"+r0(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function tS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(X1.forEach(a=>{delete n[a]}),delete n._chartjs)}function Q1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Z1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function J1(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Z1.call(window,()=>{i=!1,n.apply(t,e)}))}}function m3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const o0=n=>n==="start"?"left":n==="end"?"right":"center",Si=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,p3=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function g3(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:b,max:E,minDefined:w,maxDefined:C}=l.getUserBounds();if(w){if(s=Math.min(Rc(h,g,b).lo,e?i:Rc(t,g,l.getPixelForValue(b)).lo),f){const N=h.slice(0,s+1).reverse().findIndex(R=>!Pe(R[u.axis]));s-=Math.max(0,N)}s=Ri(s,0,i-1)}if(C){let N=Math.max(Rc(h,l.axis,E,!0).hi+1,e?0:Rc(t,g,l.getPixelForValue(E),!0).hi+1);if(f){const R=h.slice(N-1).findIndex(L=>!Pe(L[u.axis]));N+=Math.max(0,R)}a=Ri(N,s,i)-s}else a=i-s}return{start:s,count:a}}function y3(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const np=n=>n===0||n===1,eS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*un/e)),nS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*un/e)+1,Zd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Wn)+1,easeOutSine:n=>Math.sin(n*Wn),easeInOutSine:n=>-.5*(Math.cos(ze*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>np(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>np(n)?n:eS(n,.075,.3),easeOutElastic:n=>np(n)?n:nS(n,.075,.3),easeInOutElastic(n){return np(n)?n:n<.5?.5*eS(n*2,.1125,.45):.5+.5*nS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Zd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Zd.easeInBounce(n*2)*.5:Zd.easeOutBounce(n*2-1)*.5+.5};function l0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function iS(n){return l0(n)?n:new hf(n)}function B_(n){return l0(n)?n:new hf(n).saturate(.5).darken(.1).hexString()}const _3=["x","y","borderWidth","radius","tension"],v3=["color","borderColor","backgroundColor"];function b3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:v3},numbers:{type:"number",properties:_3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function E3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const sS=new Map;function T3(n,t){t=t||{};const e=n+JSON.stringify(t);let i=sS.get(e);return i||(i=new Intl.NumberFormat(n,t),sS.set(e,i)),i}function c0(n,t,e){return T3(t,e).format(n)}const x3={values(n){return Pn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=w3(n,e)}const l=W1(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),c0(n,i,h)}};function w3(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var tI={formatters:x3};function S3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Lc=Object.create(null),Bv=Object.create(null);function Jd(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function z_(n,t,e){return typeof t=="string"?df(Jd(n,t),e):df(Jd(n,""),t)}class A3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>B_(s.backgroundColor),this.hoverBorderColor=(i,s)=>B_(s.borderColor),this.hoverColor=(i,s)=>B_(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return z_(this,t,e)}get(t){return Jd(this,t)}describe(t,e){return z_(Bv,t,e)}override(t,e){return z_(Lc,t,e)}route(t,e,i,s){const a=Jd(this,t),l=Jd(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[s];return Ee(h)?Object.assign({},f,h):ue(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var Cn=new A3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[b3,E3,S3]);function C3(n){return!n||Pe(n.size)||Pe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function rS(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function bc(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function aS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function zv(n,t,e,i){eI(n,t,e,i,null)}function eI(n,t,e,i,s){let a,l,u,h,f,g,b,E;const w=t.pointStyle,C=t.rotation,N=t.radius;let R=(C||0)*i3;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),w){default:s?n.ellipse(e,i,s/2,N,0,0,un):n.arc(e,i,N,0,un),n.closePath();break;case"triangle":g=s?s/2:N,n.moveTo(e+Math.sin(R)*g,i-Math.cos(R)*N),R+=Qw,n.lineTo(e+Math.sin(R)*g,i-Math.cos(R)*N),R+=Qw,n.lineTo(e+Math.sin(R)*g,i-Math.cos(R)*N),n.closePath();break;case"rectRounded":f=N*.516,h=N-f,l=Math.cos(R+vc)*h,b=Math.cos(R+vc)*(s?s/2-f:h),u=Math.sin(R+vc)*h,E=Math.sin(R+vc)*(s?s/2-f:h),n.arc(e-b,i-u,f,R-ze,R-Wn),n.arc(e+E,i-l,f,R-Wn,R),n.arc(e+b,i+u,f,R,R+Wn),n.arc(e-E,i+l,f,R+Wn,R+ze),n.closePath();break;case"rect":if(!C){h=Math.SQRT1_2*N,g=s?s/2:h,n.rect(e-g,i-h,2*g,2*h);break}R+=vc;case"rectRot":b=Math.cos(R)*(s?s/2:N),l=Math.cos(R)*N,u=Math.sin(R)*N,E=Math.sin(R)*(s?s/2:N),n.moveTo(e-b,i-u),n.lineTo(e+E,i-l),n.lineTo(e+b,i+u),n.lineTo(e-E,i+l),n.closePath();break;case"crossRot":R+=vc;case"cross":b=Math.cos(R)*(s?s/2:N),l=Math.cos(R)*N,u=Math.sin(R)*N,E=Math.sin(R)*(s?s/2:N),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l);break;case"star":b=Math.cos(R)*(s?s/2:N),l=Math.cos(R)*N,u=Math.sin(R)*N,E=Math.sin(R)*(s?s/2:N),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l),R+=vc,b=Math.cos(R)*(s?s/2:N),l=Math.cos(R)*N,u=Math.sin(R)*N,E=Math.sin(R)*(s?s/2:N),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l);break;case"line":l=s?s/2:Math.cos(R)*N,u=Math.sin(R)*N,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(s?s/2:N),i+Math.sin(R)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function gf(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function $g(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function qg(n){n.restore()}function R3(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function I3(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function N3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function D3(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,g=s.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function k3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function yf(n,t,e,i,s,a={}){const l=Pn(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=s.string,N3(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&k3(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Pe(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,i,a.maxWidth)),n.fillText(f,e,i,a.maxWidth),D3(n,e,i,f,a),i+=Number(s.lineHeight);n.restore()}function og(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ze,ze,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ze,Wn,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Wn,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Wn,!0),n.lineTo(e+l.topLeft,i)}const O3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,M3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function P3(n,t){const e=(""+n).match(O3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const j3=n=>+n||0;function u0(n,t){const e={},i=Ee(t),s=i?Object.keys(t):t,a=Ee(n)?i?l=>ue(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=j3(a(l));return e}function nI(n){return u0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function qu(n){return u0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function nr(n){const t=nI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ii(n,t){n=n||{},t=t||Cn.font;let e=ue(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ue(n.style,t.style);i&&!(""+i).match(M3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ue(n.family,t.family),lineHeight:P3(ue(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ue(n.weight,t.weight),string:""};return s.string=C3(s),s}function ip(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function L3(n,t,e){const{min:i,max:s}=n,a=G1(t,(s-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function $c(n,t){return Object.assign(Object.create(n),t)}function h0(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=aI("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>h0([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return sI(u,h,()=>q3(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return lS(u).includes(h)},ownKeys(u){return lS(u)},set(u,h,f){const g=u._storage||(u._storage=s());return u[h]=g[h]=f,delete u._keys,!0}})}function eh(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:iI(n,i),setContext:a=>eh(n,a,e,i),override:a=>eh(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return sI(a,l,()=>U3(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function iI(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Ll(e)?e:()=>e,isIndexable:Ll(i)?i:()=>i}}const V3=(n,t)=>n?n+r0(t):t,d0=(n,t)=>Ee(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sI(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function U3(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let u=i[t];return Ll(u)&&l.isScriptable(t)&&(u=F3(t,u,n,e)),Pn(u)&&u.length&&(u=B3(t,u,n,l.isIndexable)),d0(t,u)&&(u=eh(u,s,a&&a[t],l)),u}function F3(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||i);return u.delete(n),d0(n,h)&&(h=f0(s._scopes,s,n,h)),h}function B3(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Ee(t[0])){const h=t,f=s._scopes.filter(g=>g!==h);t=[];for(const g of h){const b=f0(f,s,n,g);t.push(eh(b,a,l&&l[n],u))}}return t}function rI(n,t,e){return Ll(n)?n(t,e):n}const z3=(n,t)=>n===!0?t:typeof n=="string"?jc(t,n):void 0;function H3(n,t,e,i,s){for(const a of t){const l=z3(e,a);if(l){n.add(l);const u=rI(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function f0(n,t,e,i){const s=t._rootScopes,a=rI(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let h=oS(u,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=oS(u,l,a,h,i),h===null)?!1:h0(Array.from(u),[""],s,a,()=>$3(t,e,i))}function oS(n,t,e,i,s){for(;e;)e=H3(n,t,e,i,s);return e}function $3(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Pn(s)&&Ee(e)?e:s||{}}function q3(n,t,e,i){let s;for(const a of t)if(s=aI(V3(a,n),e),typeof s<"u")return d0(n,s)?f0(e,i,n,s):s}function aI(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function lS(n){let t=n._keys;return t||(t=n._keys=G3(n._scopes)),t}function G3(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const K3=Number.EPSILON||1e-14,nh=(n,t)=>t<n.length&&!n[t].skip&&n[t],oI=n=>n==="x"?"y":"x";function W3(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,u=Fv(a,s),h=Fv(l,a);let f=u/(u+h),g=h/(u+h);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const b=i*f,E=i*g;return{previous:{x:a.x-b*(l.x-s.x),y:a.y-b*(l.y-s.y)},next:{x:a.x+E*(l.x-s.x),y:a.y+E*(l.y-s.y)}}}function Y3(n,t,e){const i=n.length;let s,a,l,u,h,f=nh(n,0);for(let g=0;g<i-1;++g)if(h=f,f=nh(n,g+1),!(!h||!f)){if(Qd(t[g],0,K3)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=s*l*t[g],e[g+1]=a*l*t[g])}}function X3(n,t,e="x"){const i=oI(e),s=n.length;let a,l,u,h=nh(n,0);for(let f=0;f<s;++f){if(l=u,u=h,h=nh(n,f+1),!u)continue;const g=u[e],b=u[i];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${i}`]=b-a*t[f]),h&&(a=(h[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${i}`]=b+a*t[f])}}function Q3(n,t="x"){const e=oI(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,u,h,f=nh(n,0);for(l=0;l<i;++l)if(u=h,h=f,f=nh(n,l+1),!!h){if(f){const g=f[t]-h[t];s[l]=g!==0?(f[e]-h[e])/g:0}a[l]=u?f?ga(s[l-1])!==ga(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}Y3(n,s,a),X3(n,a,t)}function sp(n,t,e){return Math.max(Math.min(n,e),t)}function Z3(n,t){let e,i,s,a,l,u=gf(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&gf(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=sp(s.cp1x,t.left,t.right),s.cp1y=sp(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=sp(s.cp2x,t.left,t.right),s.cp2y=sp(s.cp2y,t.top,t.bottom)))}function J3(n,t,e,i,s){let a,l,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Q3(n,s);else{let f=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=W3(f,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&Z3(n,e)}function m0(){return typeof window<"u"&&typeof document<"u"}function p0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Gg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function t5(n,t){return Gg(n).getPropertyValue(t)}const e5=["top","right","bottom","left"];function Ic(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=e5[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const n5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function i5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,u,h;if(n5(s,a,n.target))u=s,h=a;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function xc(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Gg(e),a=s.boxSizing==="border-box",l=Ic(s,"padding"),u=Ic(s,"border","width"),{x:h,y:f,box:g}=i5(n,e),b=l.left+(g&&u.left),E=l.top+(g&&u.top);let{width:w,height:C}=t;return a&&(w-=l.width+u.width,C-=l.height+u.height),{x:Math.round((h-b)/w*e.width/i),y:Math.round((f-E)/C*e.height/i)}}function s5(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&p0(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Gg(a),h=Ic(u,"border","width"),f=Ic(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,i=lg(u.maxWidth,a,"clientWidth"),s=lg(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||ag,maxHeight:s||ag}}const rp=n=>Math.round(n*10)/10;function r5(n,t,e,i){const s=Gg(n),a=Ic(s,"margin"),l=lg(s.maxWidth,n,"clientWidth")||ag,u=lg(s.maxHeight,n,"clientHeight")||ag,h=s5(n,t,e);let{width:f,height:g}=h;if(s.boxSizing==="content-box"){const E=Ic(s,"border","width"),w=Ic(s,"padding");f-=w.width+E.width,g-=w.height+E.height}return f=Math.max(0,f-a.width),g=Math.max(0,i?f/i:g-a.height),f=rp(Math.min(f,l,h.maxWidth)),g=rp(Math.min(g,u,h.maxHeight)),f&&!g&&(g=rp(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,f=rp(Math.floor(g*i))),{width:f,height:g}}function cS(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const a5=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};m0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function uS(n,t){const e=t5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function o5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function l5(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=wc(n,s,e),u=wc(s,a,e),h=wc(a,t,e),f=wc(l,u,e),g=wc(u,h,e);return wc(f,g,e)}const c5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},u5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Gu(n,t,e){return n?c5(t,e):u5()}function lI(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function cI(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function uI(n){return n==="angle"?{between:pf,compare:c3,normalize:xs}:{between:go,compare:(t,e)=>t-e,normalize:t=>t}}function hS({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function h5(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:u}=uI(i),h=t.length;let{start:f,end:g,loop:b}=n,E,w;if(b){for(f+=h,g+=h,E=0,w=h;E<w&&l(u(t[f%h][i]),s,a);++E)f--,g--;f%=h,g%=h}return g<f&&(g+=h),{start:f,end:g,loop:b,style:n.style}}function hI(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:u,between:h,normalize:f}=uI(i),{start:g,end:b,loop:E,style:w}=h5(n,t,e),C=[];let N=!1,R=null,L,$,G;const Q=()=>h(s,G,L)&&u(s,G)!==0,Y=()=>u(a,L)===0||h(a,G,L),K=()=>N||Q(),B=()=>!N||Y();for(let D=g,M=g;D<=b;++D)$=t[D%l],!$.skip&&(L=f($[i]),L!==G&&(N=h(L,s,a),R===null&&K()&&(R=u(L,s)===0?D:M),R!==null&&B()&&(C.push(hS({start:R,end:D,loop:E,count:l,style:w})),R=null),M=D,G=L));return R!==null&&C.push(hS({start:R,end:b,loop:E,count:l,style:w})),C}function dI(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=hI(i[s],n.points,t);a.length&&e.push(...a)}return e}function d5(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function f5(n,t,e,i){const s=n.length,a=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%s];f.skip||f.stop?u.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function m5(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:u}=d5(e,s,a,i);if(i===!0)return dS(n,[{start:l,end:u,loop:a}],e,t);const h=u<l?u+s:u,f=!!n._fullLoop&&l===0&&u===s-1;return dS(n,f5(e,l,h,f),e,t)}function dS(n,t,e,i){return!i||!i.setContext||!e?t:p5(n,t,e,i)}function p5(n,t,e,i){const s=n._chart.getContext(),a=fS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,f=[];let g=a,b=t[0].start,E=b;function w(C,N,R,L){const $=u?-1:1;if(C!==N){for(C+=h;e[C%h].skip;)C-=$;for(;e[N%h].skip;)N+=$;C%h!==N%h&&(f.push({start:C%h,end:N%h,loop:R,style:L}),g=L,b=N%h)}}for(const C of t){b=u?b:C.start;let N=e[b%h],R;for(E=b+1;E<=C.end;E++){const L=e[E%h];R=fS(i.setContext($c(s,{type:"segment",p0:N,p1:L,p0DataIndex:(E-1)%h,p1DataIndex:E%h,datasetIndex:l}))),g5(R,g)&&w(b,E-1,C.loop,g),N=L,g=R}b<E-1&&w(b,E-1,C.loop,g)}return f}function fS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function g5(n,t){if(!t)return!1;const e=[],i=function(s,a){return l0(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function ap(n,t,e){return n.options.clip?n[e]:t[e]}function y5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ap(e,t,"left"),right:ap(e,t,"right"),top:ap(i,t,"top"),bottom:ap(i,t,"bottom")}:t}function fI(n,t){const e=t._clip;if(e.disabled)return!1;const i=y5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Z1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var oo=new _5;const mS="transparent",v5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=iS(n||mS),s=i.valid&&iS(t||mS);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class b5{constructor(t,e,i,s){const a=e[i];s=ip([t.to,s,a,t.from]);const l=ip([t.from,a,s]);this._active=!0,this._fn=t.fn||v5[t.type||typeof l],this._easing=Zd[t.easing]||Zd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ip([t.to,e,s,t.from]),this._from=ip([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class mI{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ee(t))return;const e=Object.keys(Cn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Ee(a))return;const l={};for(const u of e)l[u]=a[u];(Pn(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=T5(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&E5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[f];let b=a[f];const E=i.get(f);if(b)if(E&&b.active()){b.update(E,g,u);continue}else b.cancel();if(!E||!E.duration){t[f]=g;continue}a[f]=b=new b5(E,t,f,g),s.push(b)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return oo.add(this._chart,i),!0}}function E5(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function T5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function pS(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function x5(n,t,e){if(e===!1)return!1;const i=pS(n,e),s=pS(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function w5(n){let t,e,i,s;return Ee(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function pI(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function gS(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,u,h,f;if(t===null)return;let g=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===e){if(g=!0,i.all)continue;break}f=n.values[h],Di(f)&&(a||t===0||ga(t)===ga(f))&&(t+=f)}return!g&&!i.all?0:t}function S5(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[s]:g,[a]:n[g]};return u}function H_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function A5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function C5(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function R5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function yS(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function _S(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,g=A5(a,l,i),b=t.length;let E;for(let w=0;w<b;++w){const C=t[w],{[h]:N,[f]:R}=C,L=C._stacks||(C._stacks={});E=L[f]=R5(s,g,N),E[u]=R,E._top=yS(E,l,!0,i.type),E._bottom=yS(E,l,!1,i.type);const $=E._visualValues||(E._visualValues={});$[u]=R}}function $_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function I5(n,t){return $c(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function N5(n,t,e){return $c(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Cd(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const q_=n=>n==="reset"||n==="none",vS=(n,t)=>t?n:Object.assign({},n),D5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:pI(e,!0),values:null};class Kg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=H_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Cd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(b,E,w,C)=>b==="x"?E:b==="r"?C:w,a=e.xAxisID=ue(i.xAxisID,$_(t,"x")),l=e.yAxisID=ue(i.yAxisID,$_(t,"y")),u=e.rAxisID=ue(i.rAxisID,$_(t,"r")),h=e.indexAxis,f=e.iAxisID=s(h,a,l,u),g=e.vAxisID=s(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&tS(this._data,this),t._stacked&&Cd(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ee(e)){const s=this._cachedMeta;this._data=S5(e,s)}else if(i!==e){if(i){tS(i,this);const s=this._cachedMeta;Cd(s),s._parsed=[]}e&&Object.isExtensible(e)&&f3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=H_(e.vScale,e),e.stack!==i.stack&&(s=!0,Cd(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(_S(this,e._parsed),e._stacked=H_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=t===0&&e===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],g,b,E;if(this._parsing===!1)i._parsed=s,i._sorted=!0,E=s;else{Pn(s[t])?E=this.parseArrayData(i,s,t,e):Ee(s[t])?E=this.parseObjectData(i,s,t,e):E=this.parsePrimitiveData(i,s,t,e);const w=()=>b[u]===null||f&&b[u]<f[u];for(g=0;g<e;++g)i._parsed[g+t]=b=E[g],h&&(w()&&(h=!1),f=b);i._sorted=h}l&&_S(this,E)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,f=a.getLabels(),g=a===l,b=new Array(s);let E,w,C;for(E=0,w=s;E<w;++E)C=E+i,b[E]={[u]:g||a.parse(f[C],C),[h]:l.parse(e[C],C)};return b}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,u=new Array(s);let h,f,g,b;for(h=0,f=s;h<f;++h)g=h+i,b=e[g],u[h]={x:a.parse(b[0],g),y:l.parse(b[1],g)};return u}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let g,b,E,w;for(g=0,b=s;g<b;++g)E=g+i,w=e[E],f[g]={x:a.parse(jc(w,u),E),y:l.parse(jc(w,h),E)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:pI(s,!0),values:e._stacks[t.axis]._visualValues};return gS(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=gS(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),h=D5(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:b}=C5(u);let E,w;function C(){w=s[E];const N=w[u.axis];return!Di(w[t.axis])||g>N||b<N}for(E=0;E<l&&!(!C()&&(this.updateRangeFromParsed(f,t,w,h),a));++E);if(a){for(E=l-1;E>=0;--E)if(!C()){this.updateRangeFromParsed(f,t,w,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],Di(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=w5(ue(this.options.clip,x5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,h),g=u;g<u+h;++g){const b=s[g];b.hidden||(b.active&&f?l.push(b):b.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=N5(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=I5(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&ff(i);if(u)return vS(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),b=s?[`${t}Hover`,"hover",t,""]:[t,""],E=f.getOptionScopes(this.getDataset(),g),w=Object.keys(Cn.elements[t]),C=()=>this.getContext(i,s,e),N=f.resolveNamedOptions(E,w,C,b);return N.$shared&&(N.$shared=h,a[l]=Object.freeze(vS(N,h))),N}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(s.options.animation!==!1){const g=this.chart.config,b=g.datasetAnimationScopeKeys(this._type,e),E=g.getOptionScopes(this.getDataset(),b);h=g.createResolver(E,this.getContext(t,i,e))}const f=new mI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||q_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){q_(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!q_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Cd(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function k5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=e.length;s<a;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Q1(i.sort((s,a)=>s-a))}return n._cache.$bar}function O5(n){const t=n.iScale,e=k5(t,n.type);let i=t._length,s,a,l,u;const h=()=>{l===32767||l===-32768||(ff(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,a=e.length;s<a;++s)l=t.getPixelForValue(e[s]),h();for(u=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function M5(n,t,e,i){const s=e.barThickness;let a,l;return Pe(s)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function P5(n,t,e,i){const s=t.pixels,a=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:f}}function j5(n,t,e,i){const s=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(s,a),u=Math.max(s,a);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),t[e.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:u}}function gI(n,t,e,i){return Pn(n)?j5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function bS(n,t,e,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),u=s===a,h=[];let f,g,b,E;for(f=e,g=e+i;f<g;++f)E=t[f],b={},b[s.axis]=u||s.parse(l[f],f),h.push(gI(E,b,a,f));return h}function G_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function L5(n,t,e){return n!==0?ga(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function V5(n){let t,e,i,s,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:i,reverse:t,top:s,bottom:a}}function U5(n,t,e,i){let s=t.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:g}=V5(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=f:(e._bottom||0)===i?s=g:(a[ES(g,l,u,h)]=!0,s=f)),a[ES(s,l,u,h)]=!0,n.borderSkipped=a}function ES(n,t,e,i){return i?(n=F5(n,t,e),n=TS(n,e,t)):n=TS(n,t,e),n}function F5(n,t,e){return n===t?e:n===e?t:n}function TS(n,t,e){return n==="start"?t:n==="end"?e:n}function B5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class z5 extends Kg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return bS(t,e,i,s)}parseArrayData(t,e,i,s){return bS(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?u:h,g=l.axis==="x"?u:h,b=[];let E,w,C,N;for(E=i,w=i+s;E<w;++E)N=e[E],C={},C[a.axis]=a.parse(jc(N,f),E),b.push(gI(jc(N,g),C,l,E));return b}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,a=this.getParsed(t),l=a._custom,u=G_(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),g=this._getRuler(),{sharedOptions:b,includeOptions:E}=this._getSharedOptions(e,s);for(let w=e;w<e+i;w++){const C=this.getParsed(w),N=a||Pe(C[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),R=this._calculateBarIndexPixels(w,g),L=(C._stacks||{})[u.axis],$={horizontal:f,base:N.base,enableBorderRadius:!L||G_(C._custom)||l===L._top||l===L._bottom,x:f?N.head:R.center,y:f?R.center:N.head,height:f?R.size:Math.abs(N.size),width:f?Math.abs(N.size):R.size};E&&($.options=b||this.resolveDataElementOptions(w,t[w].active?"active":s));const G=$.options||t[w].options;U5($,G,L,l),B5($,G,g.ratio),this.updateElement(t[w],w,$,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],f=g=>{const b=g._parsed.find(w=>w[i.axis]===h),E=b&&b[g.vScale.axis];if(Pe(E)||isNaN(E))return!0};for(const g of s)if(!(e!==void 0&&f(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[ue(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let a,l;for(a=0,l=e.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=t.barThickness;return{min:u||O5(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(t),f=h._custom,g=G_(f);let b=h[e.axis],E=0,w=i?this.applyStack(e,h,i):b,C,N;w!==b&&(E=w-b,w=b),g&&(b=f.barStart,w=f.barEnd-f.barStart,b!==0&&ga(b)!==ga(f.barEnd)&&(E=0),E+=b);const R=!Pe(a)&&!g?a:E;let L=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?C=e.getPixelForValue(E+w):C=L,N=C-L,Math.abs(N)<l){N=L5(N,e,u)*l,b===u&&(L-=N/2);const $=e.getPixelForDecimal(0),G=e.getPixelForDecimal(1),Q=Math.min($,G),Y=Math.max($,G);L=Math.max(Math.min(L,Y),Q),C=L+N,i&&!g&&(h._stacks[e.axis]._visualValues[s]=e.getValueForPixel(C)-e.getValueForPixel(L))}if(L===e.getPixelForValue(u)){const $=ga(N)*e.getLineWidthForValue(u)/2;L+=$,N-=$}return{size:N,base:L,head:C,center:C+N/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,a=s.skipNull,l=ue(s.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(e.grouped){const g=a?this._getStackCount(t):e.stackCount,b=s.barThickness==="flex"?P5(t,e,s,g*f):M5(t,e,s,g*f),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(ue(E,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+w;u=b.start+b.chunk*C+b.chunk/2,h=Math.min(l,b.chunk*b.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}function H5(n,t,e){let i=1,s=1,a=0,l=0;if(t<un){const u=n,h=u+t,f=Math.cos(u),g=Math.sin(u),b=Math.cos(h),E=Math.sin(h),w=(G,Q,Y)=>pf(G,u,h,!0)?1:Math.max(Q,Q*e,Y,Y*e),C=(G,Q,Y)=>pf(G,u,h,!0)?-1:Math.min(Q,Q*e,Y,Y*e),N=w(0,f,b),R=w(Wn,g,E),L=C(ze,f,b),$=C(ze+Wn,g,E);i=(N-L)/2,s=(R-$)/2,a=-(N+L)/2,l=-(R+$)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class $5 extends Kg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(Ee(i[t])){const{key:h="value"}=this._parsing;a=f=>+jc(i[f],h)}let l,u;for(l=t,u=t+e;l<u;++l)s._parsed[l]=a(l)}}_getRotation(){return po(this.options.rotation-90)}_getCircumference(){return po(this.options.circumference)}_getRotationExtents(){let t=un,e=-un;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(XU(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:b}=this._getRotationExtents(),{ratioX:E,ratioY:w,offsetX:C,offsetY:N}=H5(b,g,h),R=(i.width-l)/E,L=(i.height-l)/w,$=Math.max(Math.min(R,L)/2,0),G=G1(this.options.radius,$),Q=Math.max(G*h,0),Y=(G-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=C*G,this.offsetY=N*G,s.total=this.calculateTotal(),this.outerRadius=G-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/un)}updateElements(t,e,i,s){const a=s==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,b=(u.top+u.bottom)/2,E=a&&f.animateScale,w=E?0:this.innerRadius,C=E?0:this.outerRadius,{sharedOptions:N,includeOptions:R}=this._getSharedOptions(e,s);let L=this._getRotation(),$;for($=0;$<e;++$)L+=this._circumference($,a);for($=e;$<e+i;++$){const G=this._circumference($,a),Q=t[$],Y={x:g+this.offsetX,y:b+this.offsetY,startAngle:L,endAngle:L+G,circumference:G,outerRadius:C,innerRadius:w};R&&(Y.options=N||this.resolveDataElementOptions($,Q.active?"active":s)),L+=G,this.updateElement(Q,$,Y,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?un*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=c0(e._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,a,l,u,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,u=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=u.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(ue(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class q5 extends Kg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=g3(e,s,l);this._drawStart=u,this._drawCount=h,y3(e)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,u,h,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(e,s),E=l.axis,w=u.axis,{spanGaps:C,segment:N}=this.options,R=mf(C)?C:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||a||s==="none",$=e+i,G=t.length;let Q=e>0&&this.getParsed(e-1);for(let Y=0;Y<G;++Y){const K=t[Y],B=L?K:{};if(Y<e||Y>=$){B.skip=!0;continue}const D=this.getParsed(Y),M=Pe(D[w]),z=B[E]=l.getPixelForValue(D[E],Y),H=B[w]=a||M?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,D,h):D[w],Y);B.skip=isNaN(z)||isNaN(H)||M,B.stop=Y>0&&Math.abs(D[E]-Q[E])>R,N&&(B.parsed=D,B.raw=f.data[Y]),b&&(B.options=g||this.resolveDataElementOptions(Y,K.active?"active":s)),L||this.updateElement(K,Y,B,s),Q=D}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ec(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g0{static override(t){Object.assign(g0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ec()}parse(){return Ec()}format(){return Ec()}add(){return Ec()}diff(){return Ec()}startOf(){return Ec()}endOf(){return Ec()}}var G5={_date:g0};function K5(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const f=u._reversePixels?h3:Rc;if(i){if(s._sharedOptions){const g=a[0],b=typeof g.getRange=="function"&&g.getRange(t);if(b){const E=f(a,t,e-b),w=f(a,t,e+b);return{lo:E.lo,hi:w.hi}}}}else{const g=f(a,t,e);if(h){const{vScale:b}=s._cachedMeta,{_parsed:E}=n,w=E.slice(0,g.lo+1).reverse().findIndex(N=>!Pe(N[b.axis]));g.lo-=Math.max(0,w);const C=E.slice(g.hi).findIndex(N=>!Pe(N[b.axis]));g.hi+=Math.max(0,C)}return g}}return{lo:0,hi:a.length-1}}function Wg(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:f,data:g}=a[u],{lo:b,hi:E}=K5(a[u],t,l,s);for(let w=b;w<=E;++w){const C=g[w];C.skip||i(C,f,w)}}}function W5(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function K_(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||Wg(n,e,t,function(u,h,f){!s&&!gf(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function Y5(n,t,e,i){let s=[];function a(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:b}=Y1(l,{x:t.x,y:t.y});pf(b,f,g)&&s.push({element:l,datasetIndex:u,index:h})}return Wg(n,e,t,a),s}function X5(n,t,e,i,s,a){let l=[];const u=W5(e);let h=Number.POSITIVE_INFINITY;function f(g,b,E){const w=g.inRange(t.x,t.y,s);if(i&&!w)return;const C=g.getCenterPoint(s);if(!(!!a||n.isPointInArea(C))&&!w)return;const R=u(t,C);R<h?(l=[{element:g,datasetIndex:b,index:E}],h=R):R===h&&l.push({element:g,datasetIndex:b,index:E})}return Wg(n,e,t,f),l}function W_(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Y5(n,t,e,s):X5(n,t,e,i,s,a)}function xS(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Wg(n,e,t,(h,f,g)=>{h[l]&&h[l](t[e],s)&&(a.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(t.x,t.y,s))}),i&&!u?[]:a}var Q5={modes:{index(n,t,e,i){const s=xc(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?K_(n,s,a,i,l):W_(n,s,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,b=f.data[g];b&&!b.skip&&h.push({element:b,datasetIndex:f.index,index:g})}),h):[]},dataset(n,t,e,i){const s=xc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?K_(n,s,a,i,l):W_(n,s,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,t,e,i){const s=xc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return K_(n,s,a,i,l)},nearest(n,t,e,i){const s=xc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return W_(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=xc(t,n);return xS(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=xc(t,n);return xS(n,s,"y",e.intersect,i)}}};const yI=["left","top","right","bottom"];function Rd(n,t){return n.filter(e=>e.pos===t)}function wS(n,t){return n.filter(e=>yI.indexOf(e.pos)===-1&&e.box.axis===t)}function Id(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Z5(n){const t=[];let e,i,s,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return t}function J5(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!yI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function tF(n,t){const e=J5(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=e[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*i:h&&t.availableWidth,u.height=s):(u.width=i,u.height=g?g*s:h&&t.availableHeight)}return e}function eF(n){const t=Z5(n),e=Id(t.filter(f=>f.box.fullSize),!0),i=Id(Rd(t,"left"),!0),s=Id(Rd(t,"right")),a=Id(Rd(t,"top"),!0),l=Id(Rd(t,"bottom")),u=wS(t,"x"),h=wS(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Rd(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(u)}}function SS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function _I(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function nF(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Ee(s)){e.size&&(n[s]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?a.height:a.width),e.size=b.size/b.count,n[s]+=e.size}a.getPadding&&_I(l,a.getPadding());const u=Math.max(0,t.outerWidth-SS(l,n,"left","right")),h=Math.max(0,t.outerHeight-SS(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:g}:{same:g,other:f}}function iF(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function sF(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Fd(n,t,e,i){const s=[];let a,l,u,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,sF(u.horizontal,t));const{same:b,other:E}=nF(t,e,u,i);f|=b&&s.length,g=g||E,h.fullSize||s.push(u)}return f&&Fd(s,t,e,i)||g}function op(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function AS(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const b=t.w*g,E=f.size||h.height;ff(f.start)&&(l=f.start),h.fullSize?op(h,s.left,l,e.outerWidth-s.right-s.left,E):op(h,t.left+f.placed,l,b,E),f.start=l,f.placed+=b,l=h.bottom}else{const b=t.h*g,E=f.size||h.width;ff(f.start)&&(a=f.start),h.fullSize?op(h,a,s.top,E,e.outerHeight-s.bottom-s.top):op(h,a,t.top+f.placed,E,b),f.start=a,f.placed+=b,a=h.right}}t.x=a,t.y=l}var tr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=nr(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=eF(n.boxes),h=u.vertical,f=u.horizontal;Be(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const g=h.reduce((N,R)=>R.box.options&&R.box.options.display===!1?N:N+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),E=Object.assign({},s);_I(E,nr(i));const w=Object.assign({maxPadding:E,w:a,h:l,x:s.left,y:s.top},s),C=tF(h.concat(f),b);Fd(u.fullSize,w,b,C),Fd(h,w,b,C),Fd(f,w,b,C)&&Fd(h,w,b,C),iF(w),AS(u.leftAndTop,w,b,C),w.x+=w.w,w.y+=w.h,AS(u.rightAndBottom,w,b,C),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Be(u.chartArea,N=>{const R=N.box;Object.assign(R,n.chartArea),R.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class vI{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class rF extends vI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ip="$chartjs",aF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CS=n=>n===null||n==="";function oF(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Ip]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",CS(s)){const a=uS(n,"width");a!==void 0&&(n.width=a)}if(CS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=uS(n,"height");a!==void 0&&(n.height=a)}return n}const bI=a5?{passive:!0}:!1;function lF(n,t,e){n&&n.addEventListener(t,e,bI)}function cF(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,bI)}function uF(n,t){const e=aF[n.type]||n.type,{x:i,y:s}=xc(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function cg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function hF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||cg(u.addedNodes,i),l=l&&!cg(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function dF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||cg(u.removedNodes,i),l=l&&!cg(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const _f=new Map;let RS=0;function EI(){const n=window.devicePixelRatio;n!==RS&&(RS=n,_f.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function fF(n,t){_f.size||window.addEventListener("resize",EI),_f.set(n,t)}function mF(n){_f.delete(n),_f.size||window.removeEventListener("resize",EI)}function pF(n,t,e){const i=n.canvas,s=i&&p0(i);if(!s)return;const a=J1((u,h)=>{const f=s.clientWidth;e(u,h),f<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(s),fF(n,a),l}function Y_(n,t,e){e&&e.disconnect(),t==="resize"&&mF(n)}function gF(n,t,e){const i=n.canvas,s=J1(a=>{n.ctx!==null&&e(uF(a,n))},n);return lF(i,t,s),s}class yF extends vI{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(oF(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Ip])return!1;const i=e[Ip].initial;["height","width"].forEach(a=>{const l=i[a];Pe(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[Ip],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:hF,detach:dF,resize:pF}[e]||gF;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Y_,detach:Y_,resize:Y_}[e]||cF)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return r5(t,e,i,s)}isAttached(t){const e=t&&p0(t);return!!(e&&e.isConnected)}}function _F(n){return!m0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?rF:yF}let wo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return mf(this.x)&&mf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}};function vF(n,t){const e=n.options.ticks,i=bF(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?TF(t):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>s)return xF(t,f,a,l/s),f;const g=EF(a,t,s);if(l>0){let b,E;const w=l>1?Math.round((h-u)/(l-1)):null;for(lp(t,f,g,Pe(w)?0:u-w,u),b=0,E=l-1;b<E;b++)lp(t,f,g,a[b],a[b+1]);return lp(t,f,g,h,Pe(w)?t.length:h+w),f}return lp(t,f,g),f}function bF(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function EF(n,t,e){const i=wF(n),s=t.length/e;if(!i)return Math.max(s,1);const a=s3(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function TF(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function xF(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function lp(n,t,e,i,s){const a=ue(i,0),l=Math.min(ue(s,n.length),n.length);let u=0,h,f,g;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(f=Math.max(a,0);f<l;f++)f===g&&(t.push(n[f]),u++,g=Math.round(a+u*e))}function wF(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const SF=n=>n==="left"?"right":n==="right"?"left":n,IS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,NS=(n,t)=>Math.min(t||n,n);function DS(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function AF(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(s),f;if(!(e&&(i===1?f=Math.max(h-a,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-u||h>l+u)))return h}function CF(n,t){Be(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Nd(n){return n.drawTicks?n.tickLength:0}function kS(n,t){if(!n.display)return 0;const e=Ii(n.font,t),i=nr(n.padding);return(Pn(n.text)?n.text.length:1)*e.lineHeight+i.height}function RF(n,t){return $c(n,{scale:t,type:"scale"})}function IF(n,t,e){return $c(n,{tick:e,index:t,type:"tick"})}function NF(n,t,e){let i=o0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=SF(i)),i}function DF(n,t,e,i){const{top:s,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let b=0,E,w,C;const N=l-s,R=u-a;if(n.isHorizontal()){if(w=Si(i,a,u),Ee(e)){const L=Object.keys(e)[0],$=e[L];C=g[L].getPixelForValue($)+N-t}else e==="center"?C=(f.bottom+f.top)/2+N-t:C=IS(n,e,t);E=u-a}else{if(Ee(e)){const L=Object.keys(e)[0],$=e[L];w=g[L].getPixelForValue($)-R+t}else e==="center"?w=(f.left+f.right)/2-R+t:w=IS(n,e,t);C=Si(i,l,s),b=e==="left"?-Wn:Wn}return{titleX:w,titleY:C,maxWidth:E,rotation:b}}class dh extends wo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=na(t,Number.POSITIVE_INFINITY),e=na(e,Number.NEGATIVE_INFINITY),i=na(i,Number.POSITIVE_INFINITY),s=na(s,Number.NEGATIVE_INFINITY),{min:na(t,i),max:na(e,s),minDefined:Di(t),maxDefined:Di(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:na(e,na(i,e)),max:na(i,na(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=L3(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?DS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=vF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tn(this.options.afterUpdate,[this])}beforeSetDimensions(){tn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=tn(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){tn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=NS(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,u,h,f;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),b=g.widest.width,E=g.highest.height,w=Ri(this.chart.width-b,0,this.maxWidth);u=t.offset?this.maxWidth/i:w/(i-1),b+6>u&&(u=w/(i-(t.offset?.5:1)),h=this.maxHeight-Nd(t.grid)-e.padding-kS(t.title,this.chart.options.font),f=Math.sqrt(b*b+E*E),l=l3(Math.min(Math.asin(Ri((g.highest.height+6)/u,-1,1)),Math.asin(Ri(h/f,-1,1))-Math.asin(Ri(E/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){tn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=kS(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Nd(a)+h):(t.height=this.maxHeight,t.width=Nd(a)+h),i.display&&this.ticks.length){const{first:f,last:g,widest:b,highest:E}=this._getLabelSizes(),w=i.padding*2,C=po(this.labelRotation),N=Math.cos(C),R=Math.sin(C);if(u){const L=i.mirror?0:R*b.width+N*E.height;t.height=Math.min(this.maxHeight,t.height+L+w)}else{const L=i.mirror?0:N*b.width+R*E.height;t.width=Math.min(this.maxWidth,t.width+L+w)}this._calculatePadding(f,g,R,N)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,w=0;h?f?(E=s*t.width,w=i*e.height):(E=i*t.height,w=s*e.width):a==="start"?w=e.width:a==="end"?E=t.width:a!=="inner"&&(E=t.width/2,w=e.width/2),this.paddingLeft=Math.max((E-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-b+l)*this.width/(this.width-b),0)}else{let g=e.height/2,b=t.height/2;a==="start"?(g=0,b=t.height):a==="end"&&(g=e.height,b=0),this.paddingTop=g+l,this.paddingBottom=b+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Pe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=DS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/NS(e,i));let f=0,g=0,b,E,w,C,N,R,L,$,G,Q,Y;for(b=0;b<e;b+=h){if(C=t[b].label,N=this._resolveTickFontOptions(b),s.font=R=N.string,L=a[R]=a[R]||{data:{},gc:[]},$=N.lineHeight,G=Q=0,!Pe(C)&&!Pn(C))G=rS(s,L.data,L.gc,G,C),Q=$;else if(Pn(C))for(E=0,w=C.length;E<w;++E)Y=C[E],!Pe(Y)&&!Pn(Y)&&(G=rS(s,L.data,L.gc,G,Y),Q+=$);l.push(G),u.push(Q),f=Math.max(G,f),g=Math.max(Q,g)}CF(a,e);const K=l.indexOf(f),B=u.indexOf(g),D=M=>({width:l[M]||0,height:u[M]||0});return{first:D(0),last:D(e-1),widest:D(K),highest:D(B),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return u3(this._alignToPixels?bc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=IF(this.getContext(),t,i))}return this.$context||(this.$context=RF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=po(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,h=a.offset,f=this.isHorizontal(),b=this.ticks.length+(h?1:0),E=Nd(a),w=[],C=u.setContext(this.getContext()),N=C.display?C.width:0,R=N/2,L=function(W){return bc(i,W,N)};let $,G,Q,Y,K,B,D,M,z,H,V,U;if(l==="top")$=L(this.bottom),B=this.bottom-E,M=$-R,H=L(t.top)+R,U=t.bottom;else if(l==="bottom")$=L(this.top),H=t.top,U=L(t.bottom)-R,B=$+R,M=this.top+E;else if(l==="left")$=L(this.right),K=this.right-E,D=$-R,z=L(t.left)+R,V=t.right;else if(l==="right")$=L(this.left),z=t.left,V=L(t.right)-R,K=$+R,D=this.left+E;else if(e==="x"){if(l==="center")$=L((t.top+t.bottom)/2+.5);else if(Ee(l)){const W=Object.keys(l)[0],ot=l[W];$=L(this.chart.scales[W].getPixelForValue(ot))}H=t.top,U=t.bottom,B=$+R,M=B+E}else if(e==="y"){if(l==="center")$=L((t.left+t.right)/2);else if(Ee(l)){const W=Object.keys(l)[0],ot=l[W];$=L(this.chart.scales[W].getPixelForValue(ot))}K=$-R,D=K-E,z=t.left,V=t.right}const Rt=ue(s.ticks.maxTicksLimit,b),vt=Math.max(1,Math.ceil(b/Rt));for(G=0;G<b;G+=vt){const W=this.getContext(G),ot=a.setContext(W),Et=u.setContext(W),Lt=ot.lineWidth,P=ot.color,ut=Et.dash||[],Tt=Et.dashOffset,gt=ot.tickWidth,xt=ot.tickColor,wt=ot.tickBorderDash||[],It=ot.tickBorderDashOffset;Q=AF(this,G,h),Q!==void 0&&(Y=bc(i,Q,Lt),f?K=D=z=V=Y:B=M=H=U=Y,w.push({tx1:K,ty1:B,tx2:D,ty2:M,x1:z,y1:H,x2:V,y2:U,width:Lt,color:P,borderDash:ut,borderDashOffset:Tt,tickWidth:gt,tickColor:xt,tickBorderDash:wt,tickBorderDashOffset:It}))}return this._ticksLength=b,this._borderValue=$,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:b}=a,E=Nd(i.grid),w=E+g,C=b?-g:w,N=-po(this.labelRotation),R=[];let L,$,G,Q,Y,K,B,D,M,z,H,V,U="middle";if(s==="top")K=this.bottom-C,B=this._getXAxisLabelAlignment();else if(s==="bottom")K=this.top+C,B=this._getXAxisLabelAlignment();else if(s==="left"){const vt=this._getYAxisLabelAlignment(E);B=vt.textAlign,Y=vt.x}else if(s==="right"){const vt=this._getYAxisLabelAlignment(E);B=vt.textAlign,Y=vt.x}else if(e==="x"){if(s==="center")K=(t.top+t.bottom)/2+w;else if(Ee(s)){const vt=Object.keys(s)[0],W=s[vt];K=this.chart.scales[vt].getPixelForValue(W)+w}B=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")Y=(t.left+t.right)/2-w;else if(Ee(s)){const vt=Object.keys(s)[0],W=s[vt];Y=this.chart.scales[vt].getPixelForValue(W)}B=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(h==="start"?U="top":h==="end"&&(U="bottom"));const Rt=this._getLabelSizes();for(L=0,$=u.length;L<$;++L){G=u[L],Q=G.label;const vt=a.setContext(this.getContext(L));D=this.getPixelForTick(L)+a.labelOffset,M=this._resolveTickFontOptions(L),z=M.lineHeight,H=Pn(Q)?Q.length:1;const W=H/2,ot=vt.color,Et=vt.textStrokeColor,Lt=vt.textStrokeWidth;let P=B;l?(Y=D,B==="inner"&&(L===$-1?P=this.options.reverse?"left":"right":L===0?P=this.options.reverse?"right":"left":P="center"),s==="top"?f==="near"||N!==0?V=-H*z+z/2:f==="center"?V=-Rt.highest.height/2-W*z+z:V=-Rt.highest.height+z/2:f==="near"||N!==0?V=z/2:f==="center"?V=Rt.highest.height/2-W*z:V=Rt.highest.height-H*z,b&&(V*=-1),N!==0&&!vt.showLabelBackdrop&&(Y+=z/2*Math.sin(N))):(K=D,V=(1-H)*z/2);let ut;if(vt.showLabelBackdrop){const Tt=nr(vt.backdropPadding),gt=Rt.heights[L],xt=Rt.widths[L];let wt=V-Tt.top,It=0-Tt.left;switch(U){case"middle":wt-=gt/2;break;case"bottom":wt-=gt;break}switch(B){case"center":It-=xt/2;break;case"right":It-=xt;break;case"inner":L===$-1?It-=xt:L>0&&(It-=xt/2);break}ut={left:It,top:wt,width:xt+Tt.width,height:gt+Tt.height,color:vt.backdropColor}}R.push({label:Q,font:M,textOffset:V,options:{rotation:N,color:ot,strokeColor:Et,strokeWidth:Lt,textAlign:P,textBaseline:U,translation:[Y,K],backdrop:ut}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-po(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let f,g;return e==="left"?s?(g=this.right+a,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g=this.left)):e==="right"?s?(g=this.left+a,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const h=s[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,b,E;this.isHorizontal()?(f=bc(t,this.left,l)-l/2,g=bc(t,this.right,u)+u/2,b=E=h):(b=bc(t,this.top,l)-l/2,E=bc(t,this.bottom,u)+u/2,f=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,b),e.lineTo(g,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&$g(i,s);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,f=l.label,g=l.textOffset;yf(i,f,0,g,h,u)}s&&qg(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=Ii(i.font),l=nr(i.padding),u=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Ee(e)?(h+=l.bottom,Pn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:b,rotation:E}=DF(this,h,e,u);yf(t,i.text,0,0,a,{color:i.color,maxWidth:b,rotation:E,textAlign:NF(u,e,s),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ue(t.grid&&t.grid.z,-1),s=ue(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==dh.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ii(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class cp{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;MF(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,kF(t,l,i),this.override&&Cn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Cn[s]&&(delete Cn[s][i],this.override&&delete Lc[i])}}function kF(n,t,e){const i=df(Object.create(null),[e?Cn.get(e):{},Cn.get(t),n.defaults]);Cn.set(t,i),n.defaultRoutes&&OF(t,n.defaultRoutes),n.descriptors&&Cn.describe(t,n.descriptors)}function OF(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");Cn.route(a,s,h,u)})}function MF(n){return"id"in n&&"defaults"in n}class PF{constructor(){this.controllers=new cp(Kg,"datasets",!0),this.elements=new cp(wo,"elements"),this.plugins=new cp(Object,"plugins"),this.scales=new cp(dh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Be(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=r0(t);tn(i["before"+s],[],i),e[t](i),tn(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var oa=new PF;class jF{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,u=l[i],h=[e,s,a.options];if(tn(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=ue(i.options&&i.options.plugins,{}),a=LF(i);return s===!1&&!e?[]:UF(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function LF(n){const t={},e=[],i=Object.keys(oa.plugins.items);for(let a=0;a<i.length;a++)e.push(oa.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function VF(n,t){return!t&&n===!1?null:n===!0?{}:n}function UF(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const u of t){const h=u.id,f=VF(i[h],s);f!==null&&a.push({plugin:u,options:FF(n.config,{plugin:u,local:e[h]},f,l)})}return a}function FF(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hv(n,t){const e=Cn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function BF(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function zF(n,t){return n===t?"_index_":"_value_"}function OS(n){if(n==="x"||n==="y"||n==="r")return n}function HF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function $v(n,...t){if(OS(n))return n;for(const e of t){const i=e.axis||HF(e.position)||n.length>1&&OS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function MS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function $F(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return MS(n,"x",e[0])||MS(n,"y",e[0])}return{}}function qF(n,t){const e=Lc[n.type]||{scales:{}},i=t.scales||{},s=Hv(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ee(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=$v(l,u,$F(l,n),Cn.scales[u.type]),f=zF(h,s),g=e.scales||{};a[l]=Xd(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Hv(u,t),g=(Lc[u]||{}).scales||{};Object.keys(g).forEach(b=>{const E=BF(b,h),w=l[E+"AxisID"]||E;a[w]=a[w]||Object.create(null),Xd(a[w],[{axis:E},i[w],g[b]])})}),Object.keys(a).forEach(l=>{const u=a[l];Xd(u,[Cn.scales[u.type],Cn.scale])}),a}function TI(n){const t=n.options||(n.options={});t.plugins=ue(t.plugins,{}),t.scales=qF(n,t)}function xI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function GF(n){return n=n||{},n.data=xI(n.data),TI(n),n}const PS=new Map,wI=new Set;function up(n,t){let e=PS.get(n);return e||(e=t(),PS.set(n,e),wI.add(e)),e}const Dd=(n,t,e)=>{const i=jc(t,e);i!==void 0&&n.add(i)};class KF{constructor(t){this._config=GF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=xI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),TI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return up(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return up(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return up(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return up(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(b=>Dd(h,t,b))),g.forEach(b=>Dd(h,s,b)),g.forEach(b=>Dd(h,Lc[a]||{},b)),g.forEach(b=>Dd(h,Cn,b)),g.forEach(b=>Dd(h,Bv,b))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),wI.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Lc[e]||{},Cn.datasets[e]||{},{type:e},Cn,Bv]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=jS(this._resolverCache,t,s);let h=l;if(YF(l,e)){a.$shared=!1,i=Ll(i)?i():i;const f=this.createResolver(t,i,u);h=eh(l,i,f)}for(const f of e)a[f]=h[f];return a}createResolver(t,e,i=[""],s){const{resolver:a}=jS(this._resolverCache,t,i);return Ee(e)?eh(a,e,void 0,s):a}}function jS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:h0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const WF=n=>Ee(n)&&Object.getOwnPropertyNames(n).some(t=>Ll(n[t]));function YF(n,t){const{isScriptable:e,isIndexable:i}=iI(n);for(const s of t){const a=e(s),l=i(s),u=(l||a)&&n[s];if(a&&(Ll(u)||WF(u))||l&&Pn(u))return!0}return!1}var XF="4.5.0";const QF=["top","bottom","left","right","chartArea"];function LS(n,t){return n==="top"||n==="bottom"||QF.indexOf(n)===-1&&t==="x"}function VS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function US(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),tn(e&&e.onComplete,[n],t)}function ZF(n){const t=n.chart,e=t.options.animation;tn(e&&e.onProgress,[n],t)}function SI(n){return m0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Np={},FS=n=>{const t=SI(n);return Object.values(Np).filter(e=>e.canvas===t).pop()};function JF(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function tB(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Yg=class{static defaults=Cn;static instances=Np;static overrides=Lc;static registry=oa;static version=XF;static getChart=FS;static register(...t){oa.add(...t),BS()}static unregister(...t){oa.remove(...t),BS()}constructor(t,e){const i=this.config=new KF(e),s=SI(t),a=FS(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||_F(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=YU(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=m3(b=>this.update(b),l.resizeDelay||0),this._dataChanges=[],Np[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}oo.listen(this,"complete",US),oo.listen(this,"progress",ZF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return Pe(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return oa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aS(this.canvas,this.ctx),this}stop(){return oo.stop(this),this}resize(t,e){oo.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,cS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),tn(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Be(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=$v(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Be(a,l=>{const u=l.options,h=u.id,f=$v(h,u),g=ue(u.type,l.dtype);(u.position===void 0||LS(u.position,f)!==LS(l.dposition))&&(u.position=l.dposition),s[h]=!0;let b=null;if(h in i&&i[h].type===g)b=i[h];else{const E=oa.getScale(g);b=new E({id:h,type:g,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(u,t)}),Be(s,(l,u)=>{l||delete i[u]}),Be(i,l=>{tr.configure(this,l,l.options),tr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(VS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||Hv(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=oa.getController(u),{datasetElementType:f,dataElementType:g}=Cn.datasets[u];Object.assign(h,{dataElementType:oa.getElement(g),datasetElementType:f&&oa.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Be(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:b}=this.getDatasetMeta(f),E=!s&&a.indexOf(b)===-1;b.buildOrUpdateElements(E),l=Math.max(+b.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Be(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(VS("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Be(this.scales,t=>{tr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Xw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;JF(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!Xw(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Be(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ll(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oo.has(this)?this.attached&&!oo.running(this)&&oo.start(this):(this.draw(),US({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=fI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&$g(e,s),t.controller.draw(),s&&qg(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return gf(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=Q5.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=$c(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);ff(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),oo.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),aS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Np[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Be(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Be(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Be(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!sg(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(b=>g.datasetIndex===b.datasetIndex&&g.index===b.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,u=this._getActiveElements(t,s,i,l),h=e3(t),f=tB(t,this._lastEvent,i,h);i&&(this._lastEvent=null,tn(a.onHover,[t,u,this],this),h&&tn(a.onClick,[t,u,this],this));const g=!sg(u,s);return(g||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=f,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function BS(){return Be(Yg.instances,n=>n._plugins.invalidate())}function eB(n,t,e){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:u,options:h}=t,{borderWidth:f,borderJoinStyle:g}=h,b=Math.min(f/l,xs(i-e));if(n.beginPath(),n.arc(s,a,l-f/2,i+b/2,e-b/2),u>0){const E=Math.min(f/u,xs(i-e));n.arc(s,a,u+f/2,e-E/2,i+E/2,!0)}else{const E=Math.min(f/2,l*xs(i-e));if(g==="round")n.arc(s,a,E,e-ze/2,i+ze/2,!0);else if(g==="bevel"){const w=2*E*E,C=-w*Math.cos(e+ze/2)+s,N=-w*Math.sin(e+ze/2)+a,R=w*Math.cos(i+ze/2)+s,L=w*Math.sin(i+ze/2)+a;n.lineTo(C,N),n.lineTo(R,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function nB(n,t,e){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:h}=t;let f=s/u;n.beginPath(),n.arc(a,l,u,i-f,e+f),h>s?(f=s/h,n.arc(a,l,h,e+f,i-f,!0)):n.arc(a,l,s,e+Wn,i-Wn),n.closePath(),n.clip()}function iB(n){return u0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function sB(n,t,e,i){const s=iB(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,i*t/2),u=h=>{const f=(e-Math.min(a,h))*i/2;return Ri(h,0,Math.min(a,f))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Ri(s.innerStart,0,l),innerEnd:Ri(s.innerEnd,0,l)}}function Nu(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ug(n,t,e,i,s,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=t,b=Math.max(t.outerRadius+i+e-f,0),E=g>0?g+i+e+f:0;let w=0;const C=s-h;if(i){const vt=g>0?g-i:0,W=b>0?b-i:0,ot=(vt+W)/2,Et=ot!==0?C*ot/(ot+i):C;w=(C-Et)/2}const N=Math.max(.001,C*b-e/ze)/b,R=(C-N)/2,L=h+R+w,$=s-R-w,{outerStart:G,outerEnd:Q,innerStart:Y,innerEnd:K}=sB(t,E,b,$-L),B=b-G,D=b-Q,M=L+G/B,z=$-Q/D,H=E+Y,V=E+K,U=L+Y/H,Rt=$-K/V;if(n.beginPath(),a){const vt=(M+z)/2;if(n.arc(l,u,b,M,vt),n.arc(l,u,b,vt,z),Q>0){const Lt=Nu(D,z,l,u);n.arc(Lt.x,Lt.y,Q,z,$+Wn)}const W=Nu(V,$,l,u);if(n.lineTo(W.x,W.y),K>0){const Lt=Nu(V,Rt,l,u);n.arc(Lt.x,Lt.y,K,$+Wn,Rt+Math.PI)}const ot=($-K/E+(L+Y/E))/2;if(n.arc(l,u,E,$-K/E,ot,!0),n.arc(l,u,E,ot,L+Y/E,!0),Y>0){const Lt=Nu(H,U,l,u);n.arc(Lt.x,Lt.y,Y,U+Math.PI,L-Wn)}const Et=Nu(B,L,l,u);if(n.lineTo(Et.x,Et.y),G>0){const Lt=Nu(B,M,l,u);n.arc(Lt.x,Lt.y,G,L-Wn,M)}}else{n.moveTo(l,u);const vt=Math.cos(M)*b+l,W=Math.sin(M)*b+u;n.lineTo(vt,W);const ot=Math.cos(z)*b+l,Et=Math.sin(z)*b+u;n.lineTo(ot,Et)}n.closePath()}function rB(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:u}=t;let h=t.endAngle;if(a){ug(n,t,e,i,h,s);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%un||un))}return ug(n,t,e,i,h,s),n.fill(),h}function aB(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:u,options:h}=t,{borderWidth:f,borderJoinStyle:g,borderDash:b,borderDashOffset:E,borderRadius:w}=h,C=h.borderAlign==="inner";if(!f)return;n.setLineDash(b||[]),n.lineDashOffset=E,C?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let N=t.endAngle;if(a){ug(n,t,e,i,N,s);for(let R=0;R<a;++R)n.stroke();isNaN(u)||(N=l+(u%un||un))}C&&nB(n,t,N),h.selfJoin&&N-l>=ze&&w===0&&g!=="miter"&&eB(n,t,N),a||(ug(n,t,e,i,N,s),n.stroke())}class oB extends wo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=Y1(s,{x:t,y:e}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,w=ue(b,h-u),C=pf(a,u,h)&&u!==h,N=w>=un||C,R=go(l,f+E,g+E);return N&&R}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:f}=this.options,g=(s+a)/2,b=(l+u+f+h)/2;return{x:e+Math.cos(g)*b,y:i+Math.sin(g)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,a=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>un?Math.floor(i/un):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*s,Math.sin(u)*s);const h=1-Math.sin(Math.min(ze,i||0)),f=s*h;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,rB(t,this,f,a,l),aB(t,this,f,a,l),t.restore()}}function AI(n,t,e=t){n.lineCap=ue(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ue(e.borderDash,t.borderDash)),n.lineDashOffset=ue(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ue(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ue(e.borderWidth,t.borderWidth),n.strokeStyle=ue(e.borderColor,t.borderColor)}function lB(n,t,e){n.lineTo(e.x,e.y)}function cB(n){return n.stepped?R3:n.tension||n.cubicInterpolationMode==="monotone"?I3:lB}function CI(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:u}=t,h=Math.max(s,l),f=Math.min(a,u),g=s<l&&a<l||s>u&&a>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!g?i+f-h:f-h}}function uB(n,t,e,i){const{points:s,options:a}=t,{count:l,start:u,loop:h,ilen:f}=CI(s,e,i),g=cB(a);let{move:b=!0,reverse:E}=i||{},w,C,N;for(w=0;w<=f;++w)C=s[(u+(E?f-w:w))%l],!C.skip&&(b?(n.moveTo(C.x,C.y),b=!1):g(n,N,C,E,a.stepped),N=C);return h&&(C=s[(u+(E?f:0))%l],g(n,N,C,E,a.stepped)),!!h}function hB(n,t,e,i){const s=t.points,{count:a,start:l,ilen:u}=CI(s,e,i),{move:h=!0,reverse:f}=i||{};let g=0,b=0,E,w,C,N,R,L;const $=Q=>(l+(f?u-Q:Q))%a,G=()=>{N!==R&&(n.lineTo(g,R),n.lineTo(g,N),n.lineTo(g,L))};for(h&&(w=s[$(0)],n.moveTo(w.x,w.y)),E=0;E<=u;++E){if(w=s[$(E)],w.skip)continue;const Q=w.x,Y=w.y,K=Q|0;K===C?(Y<N?N=Y:Y>R&&(R=Y),g=(b*g+Q)/++b):(G(),n.lineTo(Q,Y),C=K,b=0,N=R=Y),L=Y}G()}function qv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?hB:uB}function dB(n){return n.stepped?o5:n.tension||n.cubicInterpolationMode==="monotone"?l5:wc}function fB(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),AI(n,t.options),n.stroke(s)}function mB(n,t,e,i){const{segments:s,options:a}=t,l=qv(t);for(const u of s)AI(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const pB=typeof Path2D=="function";function gB(n,t,e,i){pB&&!t.options.segment?fB(n,t,e,i):mB(n,t,e,i)}class Xg extends wo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;J3(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=m5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=dI(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],h=dB(i);let f,g;for(f=0,g=l.length;f<g;++f){const{start:b,end:E}=l[f],w=a[b],C=a[E];if(w===C){u.push(w);continue}const N=Math.abs((s-w[e])/(C[e]-w[e])),R=h(w,C,N,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return qv(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=qv(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),gB(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function zS(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class yB extends wo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return zS(this,t,"x",e)}inYRange(t,e){return zS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!gf(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,zv(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function RI(n,t){const{x:e,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,f,g,b;return n.horizontal?(b=l/2,u=Math.min(e,s),h=Math.max(e,s),f=i-b,g=i+b):(b=a/2,u=e-b,h=e+b,f=Math.min(i,s),g=Math.max(i,s)),{left:u,top:f,right:h,bottom:g}}function El(n,t,e,i){return n?0:Ri(t,e,i)}function _B(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,a=nI(i);return{t:El(s.top,a.top,0,e),r:El(s.right,a.right,0,t),b:El(s.bottom,a.bottom,0,e),l:El(s.left,a.left,0,t)}}function vB(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=qu(s),l=Math.min(t,e),u=n.borderSkipped,h=i||Ee(s);return{topLeft:El(!h||u.top||u.left,a.topLeft,0,l),topRight:El(!h||u.top||u.right,a.topRight,0,l),bottomLeft:El(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:El(!h||u.bottom||u.right,a.bottomRight,0,l)}}function bB(n){const t=RI(n),e=t.right-t.left,i=t.bottom-t.top,s=_B(n,e/2,i/2),a=vB(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function X_(n,t,e,i){const s=t===null,a=e===null,u=n&&!(s&&a)&&RI(n,i);return u&&(s||go(t,u.left,u.right))&&(a||go(e,u.top,u.bottom))}function EB(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function TB(n,t){n.rect(t.x,t.y,t.w,t.h)}function Q_(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class xB extends wo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=bB(this),u=EB(l.radius)?og:TB;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),u(t,Q_(l,e,a)),t.clip(),u(t,Q_(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Q_(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return X_(this,t,e,i)}inXRange(t,e){return X_(this,t,null,e)}inYRange(t,e){return X_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function wB(n,t,e){const i=n.segments,s=n.points,a=t.points,l=[];for(const u of i){let{start:h,end:f}=u;f=Qg(h,f,s);const g=Gv(e,s[h],s[f],u.loop);if(!t.segments){l.push({source:u,target:g,start:s[h],end:s[f]});continue}const b=dI(t,g);for(const E of b){const w=Gv(e,a[E.start],a[E.end],E.loop),C=hI(u,s,w);for(const N of C)l.push({source:N,target:E,start:{[e]:HS(g,w,"start",Math.max)},end:{[e]:HS(g,w,"end",Math.min)}})}}return l}function Gv(n,t,e,i){if(i)return;let s=t[n],a=e[n];return n==="angle"&&(s=xs(s),a=xs(a)),{property:n,start:s,end:a}}function SB(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:u})=>{u=Qg(l,u,s);const h=s[l],f=s[u];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:f.y}))}),a}function Qg(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function HS(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function II(n,t){let e=[],i=!1;return Pn(n)?(i=!0,e=n):e=SB(n,t),e.length?new Xg({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function $S(n){return n&&n.fill!==!1}function AB(n,t,e){let s=n[t].fill;const a=[t];let l;if(!e)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Di(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function CB(n,t,e){const i=DB(n);if(Ee(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Di(s)&&Math.floor(s)===s?RB(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function RB(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function IB(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ee(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function NB(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ee(n)?i=n.value:i=t.getBaseValue(),i}function DB(n){const t=n.options,e=t.fill;let i=ue(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function kB(n){const{scale:t,index:e,line:i}=n,s=[],a=i.segments,l=i.points,u=OB(t,e);u.push(II({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let g=f.start;g<=f.end;g++)MB(s,l[g],u)}return new Xg({points:s,options:{}})}function OB(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function MB(n,t,e){const i=[];for(let s=0;s<e.length;s++){const a=e[s],{first:l,last:u,point:h}=PB(a,t,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function PB(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],a=n.segments,l=n.points;let u=!1,h=!1;for(let f=0;f<a.length;f++){const g=a[f],b=l[g.start][e],E=l[g.end][e];if(go(s,b,E)){u=s===b,h=s===E;break}}return{first:u,last:h,point:i}}class NI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:a,radius:l}=this;return e=e||{start:0,end:un},t.arc(s,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,a=t.angle;return{x:e+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function jB(n){const{chart:t,fill:e,line:i}=n;if(Di(e))return LB(t,e);if(e==="stack")return kB(n);if(e==="shape")return!0;const s=VB(n);return s instanceof NI?s:II(s,i)}function LB(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function VB(n){return(n.scale||{}).getPointPositionForValue?FB(n):UB(n)}function UB(n){const{scale:t={},fill:e}=n,i=IB(e,t);if(Di(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function FB(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=NB(e,t,a),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new NI({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)u.push(t.getPointPositionForValue(h,l));return u}function Z_(n,t,e){const i=jB(t),{chart:s,index:a,line:l,scale:u,axis:h}=t,f=l.options,g=f.fill,b=f.backgroundColor,{above:E=b,below:w=b}=g||{},C=s.getDatasetMeta(a),N=fI(s,C);i&&l.points.length&&($g(n,e),BB(n,{line:l,target:i,above:E,below:w,area:e,scale:u,axis:h,clip:N}),qg(n))}function BB(n,t){const{line:e,target:i,above:s,below:a,area:l,scale:u,clip:h}=t,f=e._loop?"angle":t.axis;n.save();let g=a;a!==s&&(f==="x"?(qS(n,i,l.top),J_(n,{line:e,target:i,color:s,scale:u,property:f,clip:h}),n.restore(),n.save(),qS(n,i,l.bottom)):f==="y"&&(GS(n,i,l.left),J_(n,{line:e,target:i,color:a,scale:u,property:f,clip:h}),n.restore(),n.save(),GS(n,i,l.right),g=s)),J_(n,{line:e,target:i,color:g,scale:u,property:f,clip:h}),n.restore()}function qS(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,g=s[h],b=s[Qg(h,f,s)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function GS(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,g=s[h],b=s[Qg(h,f,s)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,b.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function J_(n,t){const{line:e,target:i,property:s,color:a,scale:l,clip:u}=t,h=wB(e,i,s);for(const{source:f,target:g,start:b,end:E}of h){const{style:{backgroundColor:w=a}={}}=f,C=i!==!0;n.save(),n.fillStyle=w,zB(n,l,u,C&&Gv(s,b,E)),n.beginPath();const N=!!e.pathSegment(n,f);let R;if(C){N?n.closePath():KS(n,i,E,s);const L=!!i.pathSegment(n,g,{move:N,reverse:!0});R=N&&L,R||KS(n,i,b,s)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function zB(n,t,e,i){const s=t.chart.chartArea,{property:a,start:l,end:u}=i||{};if(a==="x"||a==="y"){let h,f,g,b;a==="x"?(h=l,f=s.top,g=u,b=s.bottom):(h=s.left,f=l,g=s.right,b=u),n.beginPath(),e&&(h=Math.max(h,e.left),g=Math.min(g,e.right),f=Math.max(f,e.top),b=Math.min(b,e.bottom)),n.rect(h,f,g-h,b-f),n.clip()}}function KS(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var HB={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let a,l,u,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),u=a.dataset,h=null,u&&u.options&&u instanceof Xg&&(h={visible:n.isDatasetVisible(l),index:l,fill:CB(u,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=AB(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),i&&u.fill&&Z_(n.ctx,u,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;$S(a)&&Z_(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!$S(i)||e.drawTime!=="beforeDatasetDraw"||Z_(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const WS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},$B=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class YS extends wo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=tn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Ii(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=WS(i,a);let f,g;e.font=s.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,s,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=s+u;let b=t;a.textAlign="left",a.textBaseline="middle";let E=-1,w=-g;return this.legendItems.forEach((C,N)=>{const R=i+e/2+a.measureText(C.text).width;(N===0||f[f.length-1]+R+2*u>l)&&(b+=g,f[f.length-(N>0?0:1)]=0,w+=g,E++),h[N]={left:0,top:w,row:E,width:R,height:s},f[f.length-1]+=R+u}),b}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-t;let b=u,E=0,w=0,C=0,N=0;return this.legendItems.forEach((R,L)=>{const{itemWidth:$,itemHeight:G}=qB(i,e,a,R,s);L>0&&w+G+2*u>g&&(b+=E+u,f.push({width:E,height:w}),C+=E+u,N++,E=w=0),h[L]={left:C,top:w,col:N,width:$,height:G},E=Math.max(E,$),w+=G+u}),b+=E,f.push({width:E,height:w}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Gu(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Si(i,this.left+s,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=Si(i,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let u=0,h=Si(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=Si(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$g(t,this),this._draw(),qg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,u=Cn.color,h=Gu(t.rtl,this.left,this.width),f=Ii(l.font),{padding:g}=l,b=f.size,E=b/2;let w;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:C,boxHeight:N,itemHeight:R}=WS(l,b),L=function(K,B,D){if(isNaN(C)||C<=0||isNaN(N)||N<0)return;s.save();const M=ue(D.lineWidth,1);if(s.fillStyle=ue(D.fillStyle,u),s.lineCap=ue(D.lineCap,"butt"),s.lineDashOffset=ue(D.lineDashOffset,0),s.lineJoin=ue(D.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=ue(D.strokeStyle,u),s.setLineDash(ue(D.lineDash,[])),l.usePointStyle){const z={radius:N*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:M},H=h.xPlus(K,C/2),V=B+E;eI(s,z,H,V,l.pointStyleWidth&&C)}else{const z=B+Math.max((b-N)/2,0),H=h.leftForLtr(K,C),V=qu(D.borderRadius);s.beginPath(),Object.values(V).some(U=>U!==0)?og(s,{x:H,y:z,w:C,h:N,radius:V}):s.rect(H,z,C,N),s.fill(),M!==0&&s.stroke()}s.restore()},$=function(K,B,D){yf(s,D.text,K,B+R/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},G=this.isHorizontal(),Q=this._computeTitleHeight();G?w={x:Si(a,this.left+g,this.right-i[0]),y:this.top+g+Q,line:0}:w={x:this.left+g,y:Si(a,this.top+Q+g,this.bottom-e[0].height),line:0},lI(this.ctx,t.textDirection);const Y=R+g;this.legendItems.forEach((K,B)=>{s.strokeStyle=K.fontColor,s.fillStyle=K.fontColor;const D=s.measureText(K.text).width,M=h.textAlign(K.textAlign||(K.textAlign=l.textAlign)),z=C+E+D;let H=w.x,V=w.y;h.setWidth(this.width),G?B>0&&H+z+g>this.right&&(V=w.y+=Y,w.line++,H=w.x=Si(a,this.left+g,this.right-i[w.line])):B>0&&V+Y>this.bottom&&(H=w.x=H+e[w.line].width+g,w.line++,V=w.y=Si(a,this.top+Q+g,this.bottom-e[w.line].height));const U=h.x(H);if(L(U,V,K),H=p3(M,H+C+E,G?H+z:this.right,t.rtl),$(h.x(H),V,K),G)w.x+=z+g;else if(typeof K.text!="string"){const Rt=f.lineHeight;w.y+=DI(K,Rt)+g}else w.y+=Y}),cI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ii(e.font),s=nr(e.padding);if(!e.display)return;const a=Gu(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,f=s.top+h;let g,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),g=this.top+f,b=Si(t.align,b,this.right-E);else{const C=this.columnSizes.reduce((N,R)=>Math.max(N,R.height),0);g=f+Si(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const w=Si(u,b,b+E);l.textAlign=a.textAlign(o0(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,yf(l,e.text,w,g,i)}_computeTitleHeight(){const t=this.options.title,e=Ii(t.font),i=nr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(go(t,this.left,this.right)&&go(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],go(t,s.left,s.left+s.width)&&go(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!WB(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=$B(s,i);s&&!a&&tn(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&tn(e.onHover,[t,i,this],this)}else i&&tn(e.onClick,[t,i,this],this)}}function qB(n,t,e,i,s){const a=GB(i,n,t,e),l=KB(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function GB(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function KB(n,t,e){let i=n;return typeof t.text!="string"&&(i=DI(t,e)),i}function DI(n,t){const e=n.text?n.text.length:0;return t*e}function WB(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var YB={id:"legend",_element:YS,start(n,t,e){const i=n.legend=new YS({ctx:n.ctx,options:e,chart:n});tr.configure(n,i,e),tr.addBox(n,i)},stop(n){tr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;tr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),g=nr(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class kI extends wo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Pn(i.text)?i.text.length:1;this._padding=nr(i.padding);const a=s*Ii(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,u=l.align;let h=0,f,g,b;return this.isHorizontal()?(g=Si(u,i,a),b=e+t,f=a-i):(l.position==="left"?(g=i+t,b=Si(u,s,e),h=ze*-.5):(g=a-t,b=Si(u,e,s),h=ze*.5),f=s-e),{titleX:g,titleY:b,maxWidth:f,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ii(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(a);yf(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:f,textAlign:o0(e.align),textBaseline:"middle",translation:[l,u]})}}function XB(n,t){const e=new kI({ctx:n.ctx,options:t,chart:n});tr.configure(n,e,t),tr.addBox(n,e),n.titleBlock=e}var QB={id:"title",_element:kI,start(n,t,e){XB(n,e)},stop(n){const t=n.titleBlock;tr.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;tr.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bd={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=Fv(t,f);g<s&&(s=g,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function aa(n,t){return t&&(Pn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function lo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ZB(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function XS(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=Ii(t.bodyFont),f=Ii(t.titleFont),g=Ii(t.footerFont),b=a.length,E=s.length,w=i.length,C=nr(t.padding);let N=C.height,R=0,L=i.reduce((Q,Y)=>Q+Y.before.length+Y.lines.length+Y.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,b&&(N+=b*f.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),L){const Q=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;N+=w*Q+(L-w)*h.lineHeight+(L-1)*t.bodySpacing}E&&(N+=t.footerMarginTop+E*g.lineHeight+(E-1)*t.footerSpacing);let $=0;const G=function(Q){R=Math.max(R,e.measureText(Q).width+$)};return e.save(),e.font=f.string,Be(n.title,G),e.font=h.string,Be(n.beforeBody.concat(n.afterBody),G),$=t.displayColors?l+2+t.boxPadding:0,Be(i,Q=>{Be(Q.before,G),Be(Q.lines,G),Be(Q.after,G)}),$=0,e.font=g.string,Be(n.footer,G),e.restore(),R+=C.width,{width:R,height:N}}function JB(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function tz(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function ez(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=s<=(u+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),tz(f,n,t,e)&&(f="center"),f}function QS(n,t,e){const i=e.yAlign||t.yAlign||JB(n,e);return{xAlign:e.xAlign||t.xAlign||ez(n,t,e,i),yAlign:i}}function nz(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function iz(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function ZS(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=s+a,{topLeft:g,topRight:b,bottomLeft:E,bottomRight:w}=qu(l);let C=nz(t,u);const N=iz(t,h,f);return h==="center"?u==="left"?C+=f:u==="right"&&(C-=f):u==="left"?C-=Math.max(g,E)+s:u==="right"&&(C+=Math.max(b,w)+s),{x:Ri(C,0,i.width-t.width),y:Ri(N,0,i.height-t.height)}}function hp(n,t,e){const i=nr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function JS(n){return aa([],lo(n))}function sz(n,t,e){return $c(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function tA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const OI={beforeTitle:ao,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ao,beforeBody:ao,beforeLabel:ao,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ao,afterBody:ao,beforeFooter:ao,footer:ao,afterFooter:ao};function Ji(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?OI[t].call(e,i):s}class eA extends wo{static positioners=Bd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new mI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=sz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Ji(i,"beforeTitle",this,t),a=Ji(i,"title",this,t),l=Ji(i,"afterTitle",this,t);let u=[];return u=aa(u,lo(s)),u=aa(u,lo(a)),u=aa(u,lo(l)),u}getBeforeBody(t,e){return JS(Ji(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Be(t,a=>{const l={before:[],lines:[],after:[]},u=tA(i,a);aa(l.before,lo(Ji(u,"beforeLabel",this,a))),aa(l.lines,Ji(u,"label",this,a)),aa(l.after,lo(Ji(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return JS(Ji(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Ji(i,"beforeFooter",this,t),a=Ji(i,"footer",this,t),l=Ji(i,"afterFooter",this,t);let u=[];return u=aa(u,lo(s)),u=aa(u,lo(a)),u=aa(u,lo(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(ZB(this.chart,e[h]));return t.filter&&(u=u.filter((g,b,E)=>t.filter(g,b,E,i))),t.itemSort&&(u=u.sort((g,b)=>t.itemSort(g,b,i))),Be(u,g=>{const b=tA(t.callbacks,g);s.push(Ji(b,"labelColor",this,g)),a.push(Ji(b,"labelPointStyle",this,g)),l.push(Ji(b,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Bd[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=XS(this,i),f=Object.assign({},u,h),g=QS(this.chart,i,f),b=ZS(i,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:b.x,y:b.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:b}=qu(u),{x:E,y:w}=t,{width:C,height:N}=e;let R,L,$,G,Q,Y;return a==="center"?(Q=w+N/2,s==="left"?(R=E,L=R-l,G=Q+l,Y=Q-l):(R=E+C,L=R+l,G=Q-l,Y=Q+l),$=R):(s==="left"?L=E+Math.max(h,g)+l:s==="right"?L=E+C-Math.max(f,b)-l:L=this.caretX,a==="top"?(G=w,Q=G-l,R=L-l,$=L+l):(G=w+N,Q=G+l,R=L+l,$=L-l),Y=G),{x1:R,x2:L,x3:$,y1:G,y2:Q,y3:Y}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,u,h;if(a){const f=Gu(i.rtl,this.x,this.width);for(t.x=hp(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=Ii(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,g=Ii(a.bodyFont),b=hp(this,"left",a),E=s.x(b),w=h<g.lineHeight?(g.lineHeight-h)/2:0,C=e.y+w;if(a.usePointStyle){const N={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=s.leftForLtr(E,f)+f/2,L=C+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,zv(t,N,R,L),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,zv(t,N,R,L)}else{t.lineWidth=Ee(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const N=s.leftForLtr(E,f),R=s.leftForLtr(s.xPlus(E,1),f-2),L=qu(l.borderRadius);Object.values(L).some($=>$!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,og(t,{x:N,y:C,w:f,h,radius:L}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),og(t,{x:R,y:C+1,w:f-2,h:h-2,radius:L}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(N,C,f,h),t.strokeRect(N,C,f,h),t.fillStyle=l.backgroundColor,t.fillRect(R,C+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=i,b=Ii(i.bodyFont);let E=b.lineHeight,w=0;const C=Gu(i.rtl,this.x,this.width),N=function(D){e.fillText(D,C.x(t.x+w),t.y+E/2),t.y+=E+a},R=C.textAlign(l);let L,$,G,Q,Y,K,B;for(e.textAlign=l,e.textBaseline="middle",e.font=b.string,t.x=hp(this,R,i),e.fillStyle=i.bodyColor,Be(this.beforeBody,N),w=u&&R!=="right"?l==="center"?f/2+g:f+2+g:0,Q=0,K=s.length;Q<K;++Q){for(L=s[Q],$=this.labelTextColors[Q],e.fillStyle=$,Be(L.before,N),G=L.lines,u&&G.length&&(this._drawColorBox(e,t,Q,C,i),E=Math.max(b.lineHeight,h)),Y=0,B=G.length;Y<B;++Y)N(G[Y]),E=b.lineHeight;Be(L.after,N)}w=0,E=b.lineHeight,Be(this.afterBody,N),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,u;if(a){const h=Gu(i.rtl,this.x,this.width);for(t.x=hp(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=Ii(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(s[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:g}=i,{topLeft:b,topRight:E,bottomLeft:w,bottomRight:C}=qu(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+b,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+f-E,h),e.quadraticCurveTo(u+f,h,u+f,h+E),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+f,h+g-C),e.quadraticCurveTo(u+f,h+g,u+f-C,h+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+w,h+g),e.quadraticCurveTo(u,h+g,u,h+g-w),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,h+b),e.quadraticCurveTo(u,h,u+b,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Bd[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=XS(this,t),h=Object.assign({},l,this._size),f=QS(e,t,h),g=ZS(t,h,f,e);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=nr(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),lI(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),cI(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!sg(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),h=e||!sg(l,a)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Bd[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var rz={id:"tooltip",_element:eA,positioners:Bd,afterInit(n,t,e){e&&(n.tooltip=new eA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const az=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function oz(n,t,e,i){const s=n.indexOf(t);if(s===-1)return az(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const lz=(n,t)=>n===null?null:Ri(Math.round(n),0,t);function nA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class cz extends dh{static id="category";static defaults={ticks:{callback:nA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:oz(i,t,ue(e,t),this._addedLabels),lz(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return nA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function uz(n,t){const e=[],{bounds:s,step:a,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:b,includeBounds:E}=n,w=a||1,C=g-1,{min:N,max:R}=t,L=!Pe(l),$=!Pe(u),G=!Pe(f),Q=(R-N)/(b+1);let Y=Zw((R-N)/C/w)*w,K,B,D,M;if(Y<1e-14&&!L&&!$)return[{value:N},{value:R}];M=Math.ceil(R/Y)-Math.floor(N/Y),M>C&&(Y=Zw(M*Y/C/w)*w),Pe(h)||(K=Math.pow(10,h),Y=Math.ceil(Y*K)/K),s==="ticks"?(B=Math.floor(N/Y)*Y,D=Math.ceil(R/Y)*Y):(B=N,D=R),L&&$&&a&&a3((u-l)/a,Y/1e3)?(M=Math.round(Math.min((u-l)/Y,g)),Y=(u-l)/M,B=l,D=u):G?(B=L?l:B,D=$?u:D,M=f-1,Y=(D-B)/M):(M=(D-B)/Y,Qd(M,Math.round(M),Y/1e3)?M=Math.round(M):M=Math.ceil(M));const z=Math.max(Jw(Y),Jw(B));K=Math.pow(10,Pe(h)?z:h),B=Math.round(B*K)/K,D=Math.round(D*K)/K;let H=0;for(L&&(E&&B!==l?(e.push({value:l}),B<l&&H++,Qd(Math.round((B+H*Y)*K)/K,l,iA(l,Q,n))&&H++):B<l&&H++);H<M;++H){const V=Math.round((B+H*Y)*K)/K;if($&&V>u)break;e.push({value:V})}return $&&E&&D!==u?e.length&&Qd(e[e.length-1].value,u,iA(u,Q,n))?e[e.length-1].value=u:e.push({value:u}):(!$||D===u)&&e.push({value:D}),e}function iA(n,t,{horizontal:e,minRotation:i}){const s=po(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class hz extends dh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=e?s:h,u=h=>a=i?a:h;if(t){const h=ga(s),f=ga(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=uz(s,a);return t.bounds==="ticks"&&o3(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return c0(t,this.chart.options.locale,this.options.ticks.format)}}class dz extends hz{static id="linear";static defaults={ticks:{callback:tI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Di(t)?t:0,this.max=Di(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=po(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Zg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ns=Object.keys(Zg);function sA(n,t){return n-t}function rA(n,t){if(Pe(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Di(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(mf(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function aA(n,t,e,i){const s=ns.length;for(let a=ns.indexOf(n);a<s-1;++a){const l=Zg[ns[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return ns[a]}return ns[s-1]}function fz(n,t,e,i,s){for(let a=ns.length-1;a>=ns.indexOf(e);a--){const l=ns[a];if(Zg[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return ns[e?ns.indexOf(e):0]}function mz(n){for(let t=ns.indexOf(n)+1,e=ns.length;t<e;++t)if(Zg[ns[t]].common)return ns[t]}function oA(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=a0(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function pz(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+s.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function lA(n,t,e){const i=[],s={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return a===0||!e?i:pz(n,i,s,e)}class cA extends dh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new G5._date(t.adapters.date);s.init(e),Xd(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:rA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Di(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=Di(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=d3(s,a,l);return this._unit=e.unit||(i.autoSkip?aA(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):fz(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:mz(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),lA(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Ri(e,0,l),i=Ri(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||aA(a.minUnit,e,i,this._getLabelCapacity(e)),u=ue(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=mf(h)||h===!0,g={};let b=e,E,w;if(f&&(b=+t.startOf(b,"isoWeek",h)),b=+t.startOf(b,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const C=s.ticks.source==="data"&&this.getDataTimestamps();for(E=b,w=0;E<i;E=+t.add(E,u,l),w++)oA(g,E,C);return(E===i||s.bounds==="ticks"||w===1)&&oA(g,E,C),Object.keys(g).sort(sA).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return tn(l,[t,e,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],b=f&&u[f],E=i[e],w=f&&b&&E&&E.major;return this._adapter.format(t,s||(w?b:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=po(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,lA(this,[t],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(rA(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Q1(t.sort(sA))}}function dp(n,t,e){let i=0,s=n.length-1,a,l,u,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Rc(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Rc(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[s]);const f=l-a;return f?u+(h-u)*(t-a)/f:u}class IH extends cA{static id="timeseries";static defaults=cA.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=dp(e,this.min),this._tableRange=dp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,u,h,f,g;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&s.push(f);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)g=s[l+1],h=s[l-1],f=s[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(dp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return dp(this._table,i*this._tableRange+this._minPos,!0)}}const MI="label";function uA(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function gz(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function PI(n,t){n.labels=t}function jI(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MI;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function yz(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MI;const e={labels:[],datasets:[]};return PI(e,n.labels),jI(e,n.datasets,t),e}function _z(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:b,...E}=n,w=k.useRef(null),C=k.useRef(null),N=()=>{w.current&&(C.current=new Yg(w.current,{type:l,data:yz(u,a),options:h&&{...h},plugins:f}),uA(t,C.current))},R=()=>{uA(t,null),C.current&&(C.current.destroy(),C.current=null)};return k.useEffect(()=>{!s&&C.current&&h&&gz(C.current,h)},[s,h]),k.useEffect(()=>{!s&&C.current&&PI(C.current.config.data,u.labels)},[s,u.labels]),k.useEffect(()=>{!s&&C.current&&u.datasets&&jI(C.current.config.data,u.datasets,a)},[s,u.datasets]),k.useEffect(()=>{C.current&&(s?(R(),setTimeout(N)):C.current.update(b))},[s,h,u.labels,u.datasets,b]),k.useEffect(()=>{C.current&&(R(),setTimeout(N))},[l]),k.useEffect(()=>(N(),()=>R()),[]),xr.createElement("canvas",{ref:w,role:"img",height:e,width:i,...E},g)}const vz=k.forwardRef(_z);function y0(n,t){return Yg.register(t),k.forwardRef((e,i)=>xr.createElement(vz,{...e,ref:i,type:n}))}const hA=y0("line",q5),bz=y0("bar",z5),Ez=y0("doughnut",$5),Tz=({onNotificationClick:n})=>{const[t,e]=k.useState(0),[i,s]=k.useState(!0),[a,l]=k.useState(!1),[u,h]=k.useState([]),f=async()=>{try{s(!0);const[w,C]=await Promise.all([si(cn(Ne,"ventas")),si(cn(Ne,"clientes"))]),N=w.docs.map(Q=>({id:Q.id,...Q.data()})),R=C.docs.map(Q=>({id:Q.id,...Q.data()})),L=e0(N,R),$=ig(L),G=L.filter(Q=>Q.status==="pending").slice(0,5);e($.pending),h(G)}catch(w){console.error("Error fetching notifications:",w)}finally{s(!1)}};k.useEffect(()=>{f();const w=setInterval(f,300*1e3);return()=>clearInterval(w)},[]);const g=()=>{l(!a)},b=w=>{l(!1),n&&n(w)},E=w=>w.isDue&&w.daysOverdue>=7?"🔴":w.isDue?"🟡":"🟢";return i?_.jsx("div",{className:"notification-bell",children:_.jsx("div",{className:"bell-icon",children:"🔔"})}):_.jsxs("div",{className:"notification-bell-container",children:[_.jsxs("div",{className:`notification-bell ${t>0?"has-notifications":""}`,onClick:g,children:[_.jsx("div",{className:"bell-icon",children:"🔔"}),t>0&&_.jsx("div",{className:"notification-badge",children:t>99?"99+":t})]}),a&&_.jsxs("div",{className:"notification-dropdown",children:[_.jsxs("div",{className:"dropdown-header",children:[_.jsx("h3",{children:"Recordatorios de Clientes"}),_.jsxs("span",{className:"notification-count",children:[t," pendientes"]})]}),u.length===0?_.jsx("div",{className:"no-notifications",children:_.jsx("p",{children:"No hay recordatorios pendientes"})}):_.jsx("div",{className:"notification-list",children:u.map(w=>_.jsxs("div",{className:`notification-item ${w.isDue?"overdue":"upcoming"}`,onClick:()=>b(w),children:[_.jsx("div",{className:"notification-priority",children:E(w)}),_.jsxs("div",{className:"notification-content",children:[_.jsx("div",{className:"customer-name",children:w.customerName}),_.jsx("div",{className:"notification-message",children:w.isDue?`¡${w.daysOverdue} días de retraso!`:`En ${w.daysUntilDue} días`}),_.jsxs("div",{className:"kombucha-info",children:["Compró ",w.totalKombuchas," kombuchas"]})]})]},w.notificationId))}),_.jsx("div",{className:"dropdown-footer",children:_.jsx("button",{className:"view-all-btn",onClick:()=>{l(!1),n&&n({type:"view-all"})},children:"Ver todos los recordatorios"})})]})]})};Yg.register(cz,dz,yB,Xg,xB,oB,QB,rz,YB,HB);function dA(){const n=Ef(),[t,e]=k.useState({dailySales:0,monthlySales:0,monthlyKombuchasSold:0,dailyRevenue:0,monthlyRevenue:0}),[i,s]=k.useState(!0),[a,l]=k.useState([]),[u,h]=k.useState([]),[f,g]=k.useState([]),[b,E]=k.useState({salesTrend:{},topProducts:{},revenueGrowth:{},salesStatus:{}}),[w,C]=k.useState([]),[N,R]=k.useState({}),L=async()=>{try{s(!0);const B=(await si(cn(Ne,"ventas"))).docs.map(wt=>({id:wt.id,...wt.data()})),M=(await si(cn(Ne,"clientes"))).docs.map(wt=>({id:wt.id,...wt.data()}));h(M);const H=(await si(cn(Ne,"kombuchas"))).docs.map(wt=>({id:wt.id,...wt.data()}));g(H);const V=th(),U=B1(),Rt=B.filter(wt=>wt.fecha===V),vt=Rt.reduce((wt,It)=>wt+(parseFloat(It.total)||0),0),W=B.filter(wt=>(wt.fecha?wt.fecha.slice(0,7):"")===U),ot=W.reduce((wt,It)=>wt+(parseFloat(It.total)||0),0);let Et=0;W.forEach(wt=>{wt.items&&Array.isArray(wt.items)?wt.items.forEach(It=>{Et+=parseInt(It.cantidad)||0}):wt.cantidad&&(Et+=parseInt(wt.cantidad)||0)});const P=B.sort((wt,It)=>new Date(It.fecha)-new Date(wt.fecha)).slice(0,5),ut=$(B,H),Tt=e0(B,M),gt=ig(Tt),xt=Tt.filter(wt=>wt.status==="pending").slice(0,3);e({dailySales:Rt.length,monthlySales:W.length,monthlyKombuchasSold:Et,dailyRevenue:vt,monthlyRevenue:ot}),l(P),E(ut),C(xt),R(gt)}catch(K){console.error("Error fetching sales data:",K)}finally{s(!1)}},$=(K,B)=>{const D=[],M={};for(let W=29;W>=0;W--){const ot=wU(-W);D.push(ot),M[ot]=0}K.forEach(W=>{M.hasOwnProperty(W.fecha)&&M[W.fecha]++});const z={};K.forEach(W=>{if(W.items&&Array.isArray(W.items))W.items.forEach(ot=>{const Et=B.find(P=>P.id===ot.kombuchaId),Lt=Et?Et.nombre:"Producto desconocido";z[Lt]=(z[Lt]||0)+parseInt(ot.cantidad||0)});else if(W.kombucha){const ot=B.find(Lt=>Lt.id===W.kombucha),Et=ot?ot.nombre:"Producto desconocido";z[Et]=(z[Et]||0)+parseInt(W.cantidad||0)}});const H=Object.entries(z).sort(([,W],[,ot])=>ot-W).slice(0,5),V=K.sort((W,ot)=>new Date(W.fecha)-new Date(ot.fecha)),U=[];let Rt=0;V.forEach(W=>{Rt+=parseFloat(W.total||0),U.push(Rt)});const vt={};return K.forEach(W=>{const ot=W.estado||"pendiente";vt[ot]=(vt[ot]||0)+1}),{salesTrend:{labels:D.map(W=>_l(W)),datasets:[{label:"Ventas",data:D.map(W=>M[W]),borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",tension:.4,fill:!0}]},topProducts:{labels:H.map(([W])=>W),datasets:[{label:"Cantidad Vendida",data:H.map(([,W])=>W),backgroundColor:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe"],borderRadius:8}]},revenueGrowth:{labels:V.map((W,ot)=>`Venta ${ot+1}`),datasets:[{label:"Ingresos Acumulados",data:U,borderColor:"#38a169",backgroundColor:"rgba(56, 161, 105, 0.1)",fill:!0,tension:.4}]},salesStatus:{labels:Object.keys(vt).map(W=>W==="completada"?"Completadas":"Pendientes"),datasets:[{data:Object.values(vt),backgroundColor:["#38a169","#d69e2e"],borderWidth:0}]}}};k.useEffect(()=>{L()},[]);const G=K=>{const B=u.find(D=>D.id===K);return B?B.nombre:"Cliente no encontrado"},Q=K=>SU(K),Y=K=>{K.type,n("/recordatorios")};return i?_.jsx("div",{className:"dashboard",children:_.jsx("div",{className:"loading",children:"Cargando dashboard..."})}):_.jsxs("div",{className:"dashboard",children:[_.jsxs("div",{className:"dashboard-header",children:[_.jsx("h1",{children:"Dashboard"}),_.jsx(Tz,{onNotificationClick:Y})]}),_.jsxs("div",{className:"stats",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("h3",{children:"Ventas del día"}),_.jsx("p",{className:"stat-number",children:t.dailySales}),_.jsxs("p",{className:"stat-subtitle",children:["$",t.dailyRevenue.toFixed(2)]})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("h3",{children:"Ventas del mes"}),_.jsx("p",{className:"stat-number",children:t.monthlySales}),_.jsxs("p",{className:"stat-subtitle",children:["$",t.monthlyRevenue.toFixed(2)]})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("h3",{children:"Kombuchas vendidas"}),_.jsx("p",{className:"stat-number",children:t.monthlyKombuchasSold}),_.jsx("p",{className:"stat-subtitle",children:"Este mes"})]}),_.jsxs("div",{className:"stat-card notification-stat",children:[_.jsx("h3",{children:"Recordatorios"}),_.jsx("p",{className:"stat-number",children:N.pending}),_.jsx("p",{className:"stat-subtitle",children:N.overdue>0?`${N.overdue} vencidos`:"Al día"})]})]}),_.jsxs("div",{className:"charts-section",children:[_.jsxs("div",{className:"chart-row",children:[_.jsxs("div",{className:"chart-card",children:[_.jsx("h3",{children:"Tendencia de Ventas (Últimos 30 días)"}),_.jsx("div",{style:{height:"200px",width:"100%"},children:_.jsx(hA,{data:b.salesTrend,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}},x:{ticks:{maxTicksLimit:10}}},elements:{point:{radius:2}}}})})]}),_.jsxs("div",{className:"chart-card",children:[_.jsx("h3",{children:"Productos Más Vendidos"}),_.jsx("div",{style:{height:"200px",width:"100%"},children:_.jsx(bz,{data:b.topProducts,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0}}}})})]})]}),_.jsxs("div",{className:"chart-row",children:[_.jsxs("div",{className:"chart-card",children:[_.jsx("h3",{children:"Crecimiento de Ingresos"}),_.jsx("div",{style:{height:"200px",width:"100%"},children:_.jsx(hA,{data:b.revenueGrowth,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0},x:{ticks:{maxTicksLimit:8}}},elements:{point:{radius:2}}}})})]}),_.jsxs("div",{className:"chart-card",children:[_.jsx("h3",{children:"Estado de Ventas"}),_.jsx("div",{style:{height:"200px",width:"100%"},children:_.jsx(Ez,{data:b.salesStatus,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:750},plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0}},tooltip:{enabled:!0}}}})})]})]})]}),w.length>0&&_.jsxs("div",{className:"notifications-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h2",{children:"Recordatorios Urgentes"}),_.jsx("button",{onClick:()=>n("/recordatorios"),className:"view-all-link",children:"Ver todos"})]}),_.jsx("div",{className:"notifications-list",children:w.map(K=>_.jsxs("div",{className:`notification-item ${K.isDue?"overdue":"upcoming"}`,children:[_.jsxs("div",{className:"notification-content",children:[_.jsx("div",{className:"customer-name",children:K.customerName}),_.jsx("div",{className:"notification-message",children:z1(K)}),_.jsxs("div",{className:"notification-details",children:[_.jsxs("span",{children:["Compró ",K.totalKombuchas," kombuchas"]}),_.jsx("span",{children:"•"}),_.jsx("span",{children:_l(K.lastSaleDate)})]})]}),_.jsx("div",{className:"notification-actions",children:_.jsx("button",{onClick:()=>n("/recordatorios"),className:"action-link",children:"Ver detalles"})})]},K.notificationId))})]}),_.jsxs("div",{className:"recent-batches",children:[_.jsx("h2",{children:"Ventas recientes"}),_.jsx("div",{className:"batch-list",children:a.length===0?_.jsx("div",{className:"empty-state",children:_.jsx("p",{children:"No hay ventas recientes"})}):a.map(K=>_.jsxs("div",{className:"batch-item",children:[_.jsxs("div",{className:"batch-info",children:[_.jsxs("h4",{children:["Venta #",K.id.slice(-6)]}),_.jsxs("p",{children:["Fecha: ",Q(K.fecha)]}),_.jsxs("p",{children:["Cliente: ",G(K.cliente)]}),_.jsxs("p",{children:["Total: $",parseFloat(K.total||0).toFixed(2)]})]}),_.jsx("div",{className:`batch-status ${K.estado==="completada"?"completed":"active"}`,children:K.estado==="completada"?"Completada":"Pendiente"})]},K.id))})]})]})}var tv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fA;function xz(){return fA||(fA=1,function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=s(a,i(u)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=s(l,u));return l}function s(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()}(tv)),tv.exports}var wz=xz();const Oe=fg(wz),Sz=["xxl","xl","lg","md","sm","xs"],Az="xs",LI=k.createContext({prefixes:{},breakpoints:Sz,minBreakpoint:Az}),{Consumer:NH,Provider:DH}=LI;function Ye(n,t){const{prefixes:e}=k.useContext(LI);return n||e[t]||t}const VI=k.forwardRef(({bsPrefix:n,fluid:t=!1,as:e="div",className:i,...s},a)=>{const l=Ye(n,"container"),u=typeof t=="string"?`-${t}`:"-fluid";return _.jsx(e,{ref:a,...s,className:Oe(i,t?`${l}${u}`:l)})});VI.displayName="Container";function Kv(){return Kv=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Kv.apply(null,arguments)}function UI(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function mA(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function Cz(n){var t=Rz(n,"string");return typeof t=="symbol"?t:String(t)}function Rz(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Iz(n,t,e){var i=k.useRef(n!==void 0),s=k.useState(t),a=s[0],l=s[1],u=n!==void 0,h=i.current;return i.current=u,!u&&h&&a!==t&&l(t),[u?n:a,k.useCallback(function(f){for(var g=arguments.length,b=new Array(g>1?g-1:0),E=1;E<g;E++)b[E-1]=arguments[E];e&&e.apply(void 0,[f].concat(b)),l(f)},[e])]}function FI(n,t){return Object.keys(t).reduce(function(e,i){var s,a=e,l=a[mA(i)],u=a[i],h=UI(a,[mA(i),i].map(Cz)),f=t[i],g=Iz(u,l,n[f]),b=g[0],E=g[1];return Kv({},h,(s={},s[i]=b,s[f]=E,s))},n)}function Wv(n,t){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},Wv(n,t)}function Nz(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Wv(n,t)}var Dz=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sc(n,t){return Dz(n.querySelectorAll(t))}function kz(){const[,n]=k.useReducer(t=>t+1,0);return n}const pA=n=>!n||typeof n=="function"?n:t=>{n.current=t};function Oz(n,t){const e=pA(n),i=pA(t);return s=>{e&&e(s),i&&i(s)}}function Jg(n,t){return k.useMemo(()=>Oz(n,t),[n,t])}const _0=k.createContext(null);_0.displayName="NavContext";const hg=k.createContext(null),v0=(n,t=null)=>n!=null?String(n):t||null,BI=k.createContext(null),Mz="data-rr-ui-",Pz="rrUi";function ty(n){return`${Mz}${n}`}function jz(n){return`${Pz}${n}`}function Lz(n){const t=k.useRef(n);return k.useEffect(()=>{t.current=n},[n]),t}function uo(n){const t=Lz(n);return k.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Vz=["as","disabled"];function Uz(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Fz(n){return!n||n.trim()==="#"}function b0({tagName:n,disabled:t,href:e,target:i,rel:s,role:a,onClick:l,tabIndex:u=0,type:h}){n||(e!=null||i!=null||s!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:h||"button",disabled:t},f];const g=E=>{if((t||n==="a"&&Fz(e))&&E.preventDefault(),t){E.stopPropagation();return}l?.(E)},b=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:u,href:e,target:n==="a"?i:void 0,"aria-disabled":t||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:b},f]}const zI=k.forwardRef((n,t)=>{let{as:e,disabled:i}=n,s=Uz(n,Vz);const[a,{tagName:l}]=b0(Object.assign({tagName:e,disabled:i},s));return _.jsx(l,Object.assign({},s,a,{ref:t}))});zI.displayName="Button";const Bz=["as","active","eventKey"];function zz(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function HI({key:n,onClick:t,active:e,id:i,role:s,disabled:a}){const l=k.useContext(hg),u=k.useContext(_0),h=k.useContext(BI);let f=e;const g={role:s};if(u){!s&&u.role==="tablist"&&(g.role="tab");const b=u.getControllerId(n??null),E=u.getControlledId(n??null);g[ty("event-key")]=n,g.id=b||i,f=e==null&&n!=null?u.activeKey===n:e,(f||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(g["aria-controls"]=E)}return g.role==="tab"&&(g["aria-selected"]=f,f||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=uo(b=>{a||(t?.(b),n!=null&&l&&!b.isPropagationStopped()&&l(n,b))}),[g,{isActive:f}]}const $I=k.forwardRef((n,t)=>{let{as:e=zI,active:i,eventKey:s}=n,a=zz(n,Bz);const[l,u]=HI(Object.assign({key:v0(s,a.href),active:i},a));return l[ty("active")]=u.isActive,_.jsx(e,Object.assign({},a,l,{ref:t}))});$I.displayName="NavItem";const Hz=["as","onSelect","activeKey","role","onKeyDown"];function $z(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const gA=()=>{},yA=ty("event-key"),qI=k.forwardRef((n,t)=>{let{as:e="div",onSelect:i,activeKey:s,role:a,onKeyDown:l}=n,u=$z(n,Hz);const h=kz(),f=k.useRef(!1),g=k.useContext(hg),b=k.useContext(BI);let E,w;b&&(a=a||"tablist",s=b.activeKey,E=b.getControlledId,w=b.getControllerId);const C=k.useRef(null),N=G=>{const Q=C.current;if(!Q)return null;const Y=Sc(Q,`[${yA}]:not([aria-disabled=true])`),K=Q.querySelector("[aria-selected=true]");if(!K||K!==document.activeElement)return null;const B=Y.indexOf(K);if(B===-1)return null;let D=B+G;return D>=Y.length&&(D=0),D<0&&(D=Y.length-1),Y[D]},R=(G,Q)=>{G!=null&&(i?.(G,Q),g?.(G,Q))},L=G=>{if(l?.(G),!b)return;let Q;switch(G.key){case"ArrowLeft":case"ArrowUp":Q=N(-1);break;case"ArrowRight":case"ArrowDown":Q=N(1);break;default:return}Q&&(G.preventDefault(),R(Q.dataset[jz("EventKey")]||null,G),f.current=!0,h())};k.useEffect(()=>{if(C.current&&f.current){const G=C.current.querySelector(`[${yA}][aria-selected=true]`);G?.focus()}f.current=!1});const $=Jg(t,C);return _.jsx(hg.Provider,{value:R,children:_.jsx(_0.Provider,{value:{role:a,activeKey:v0(s),getControlledId:E||gA,getControllerId:w||gA},children:_.jsx(e,Object.assign({},u,{onKeyDown:L,ref:$,role:a}))})})});qI.displayName="Nav";const qz=Object.assign(qI,{Item:$I}),fh=k.createContext(null);fh.displayName="NavbarContext";const E0=k.createContext(null);E0.displayName="CardHeaderContext";const GI=k.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=Ye(t,"nav-item"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));GI.displayName="NavItem";function Gz(){const n=k.useRef(!0),t=k.useRef(()=>n.current);return k.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function Kz(n){const t=k.useRef(null);return k.useEffect(()=>{t.current=n}),t.current}const Wz=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yz=typeof document<"u",_A=Yz||Wz?k.useLayoutEffect:k.useEffect,Xz=["onKeyDown"];function Qz(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Zz(n){return!n||n.trim()==="#"}const KI=k.forwardRef((n,t)=>{let{onKeyDown:e}=n,i=Qz(n,Xz);const[s]=b0(Object.assign({tagName:"a"},i)),a=uo(l=>{s.onKeyDown(l),e?.(l)});return Zz(i.href)||i.role==="button"?_.jsx("a",Object.assign({ref:t},i,s,{onKeyDown:a})):_.jsx("a",Object.assign({ref:t},i,{onKeyDown:e}))});KI.displayName="Anchor";const WI=k.forwardRef(({bsPrefix:n,className:t,as:e=KI,active:i,eventKey:s,disabled:a=!1,...l},u)=>{n=Ye(n,"nav-link");const[h,f]=HI({key:v0(s,l.href),active:i,disabled:a,...l});return _.jsx(e,{...l,...h,ref:u,disabled:a,className:Oe(t,n,a&&"disabled",f.isActive&&"active")})});WI.displayName="NavLink";const YI=k.forwardRef((n,t)=>{const{as:e="div",bsPrefix:i,variant:s,fill:a=!1,justify:l=!1,navbar:u,navbarScroll:h,className:f,activeKey:g,...b}=FI(n,{activeKey:"onSelect"}),E=Ye(i,"nav");let w,C,N=!1;const R=k.useContext(fh),L=k.useContext(E0);return R?(w=R.bsPrefix,N=u??!0):L&&({cardHeaderBsPrefix:C}=L),_.jsx(qz,{as:e,ref:t,activeKey:g,className:Oe(f,{[E]:!N,[`${w}-nav`]:N,[`${w}-nav-scroll`]:N&&h,[`${C}-${s}`]:!!C,[`${E}-${s}`]:!!s,[`${E}-fill`]:a,[`${E}-justified`]:l}),...b})});YI.displayName="Nav";const Xs=Object.assign(YI,{Item:GI,Link:WI}),XI=k.forwardRef(({bsPrefix:n,className:t,as:e,...i},s)=>{n=Ye(n,"navbar-brand");const a=e||(i.href?"a":"span");return _.jsx(a,{...i,ref:s,className:Oe(t,n)})});XI.displayName="NavbarBrand";function T0(n){return n&&n.ownerDocument||document}function Jz(n){var t=T0(n);return t&&t.defaultView||window}function t9(n,t){return Jz(n).getComputedStyle(n,t)}var e9=/([A-Z])/g;function n9(n){return n.replace(e9,"-$1").toLowerCase()}var i9=/^ms-/;function fp(n){return n9(n).replace(i9,"-ms-")}var s9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function r9(n){return!!(n&&s9.test(n))}function _o(n,t){var e="",i="";if(typeof t=="string")return n.style.getPropertyValue(fp(t))||t9(n).getPropertyValue(fp(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?n.style.removeProperty(fp(s)):r9(s)?i+=s+"("+a+") ":e+=fp(s)+": "+a+";"}),i&&(e+="transform: "+i+";"),n.style.cssText+=";"+e}var ev={exports:{}},nv,vA;function a9(){if(vA)return nv;vA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nv=n,nv}var iv,bA;function o9(){if(bA)return iv;bA=1;var n=a9();function t(){}function e(){}return e.resetWarningCache=t,iv=function(){function i(l,u,h,f,g,b){if(b!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},iv}var EA;function l9(){return EA||(EA=1,ev.exports=o9()()),ev.exports}var c9=l9();const sv=fg(c9),TA={disabled:!1},QI=xr.createContext(null);var u9=function(t){return t.scrollTop},zd="unmounted",fl="exited",Tr="entering",ho="entered",vf="exiting",So=function(n){Nz(t,n);function t(i,s){var a;a=n.call(this,i,s)||this;var l=s,u=l&&!l.isMounting?i.enter:i.appear,h;return a.appearStatus=null,i.in?u?(h=fl,a.appearStatus=Tr):h=ho:i.unmountOnExit||i.mountOnEnter?h=zd:h=fl,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===zd?{status:fl}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Tr&&l!==ho&&(a=Tr):(l===Tr||l===ho)&&(a=vf)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,a,l,u;return a=l=u=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,u=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:u}},e.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Tr){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this);l&&u9(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fl&&this.setState({status:zd})},e.performEnter=function(s){var a=this,l=this.props.enter,u=this.context?this.context.isMounting:s,h=this.props.nodeRef?[u]:[Lu.findDOMNode(this),u],f=h[0],g=h[1],b=this.getTimeouts(),E=u?b.appear:b.enter;if(!s&&!l||TA.disabled){this.safeSetState({status:ho},function(){a.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:Tr},function(){a.props.onEntering(f,g),a.onTransitionEnd(E,function(){a.safeSetState({status:ho},function(){a.props.onEntered(f,g)})})})},e.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Lu.findDOMNode(this);if(!a||TA.disabled){this.safeSetState({status:fl},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:vf},function(){s.props.onExiting(u),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:fl},function(){s.props.onExited(u)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},e.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,a.nextCallback=null,s(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=h[0],g=h[1];this.props.addEndListener(f,g)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===zd)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=UI(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xr.createElement(QI.Provider,{value:null},typeof l=="function"?l(s,u):xr.cloneElement(xr.Children.only(l),u))},t}(xr.Component);So.contextType=QI;So.propTypes={};function Du(){}So.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Du,onEntering:Du,onEntered:Du,onExit:Du,onExiting:Du,onExited:Du};So.UNMOUNTED=zd;So.EXITED=fl;So.ENTERING=Tr;So.ENTERED=ho;So.EXITING=vf;function h9(n){return n.code==="Escape"||n.keyCode===27}function d9(){const n=k.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function mh(n){if(!n||typeof n=="function")return null;const{major:t}=d9();return t>=19?n.props.ref:n.ref}const ey=!!(typeof window<"u"&&window.document&&window.document.createElement);var Yv=!1,Xv=!1;try{var rv={get passive(){return Yv=!0},get once(){return Xv=Yv=!0}};ey&&(window.addEventListener("test",rv,rv),window.removeEventListener("test",rv,!0))}catch{}function f9(n,t,e,i){if(i&&typeof i!="boolean"&&!Xv){var s=i.once,a=i.capture,l=e;!Xv&&s&&(l=e.__once||function u(h){this.removeEventListener(t,u,a),e.call(this,h)},e.__once=l),n.addEventListener(t,l,Yv?i:a)}n.addEventListener(t,e,i)}function m9(n,t,e,i){var s=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(t,e,s),e.__once&&n.removeEventListener(t,e.__once,s)}function dg(n,t,e,i){return f9(n,t,e,i),function(){m9(n,t,e,i)}}function p9(n,t,e,i){if(i===void 0&&(i=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(t,e,i),n.dispatchEvent(s)}}function g9(n){var t=_o(n,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function y9(n,t,e){e===void 0&&(e=5);var i=!1,s=setTimeout(function(){i||p9(n,"transitionend",!0)},t+e),a=dg(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),a()}}function _9(n,t,e,i){e==null&&(e=g9(n)||0);var s=y9(n,e,i),a=dg(n,"transitionend",t);return function(){s(),a()}}function xA(n,t){const e=_o(n,t)||"",i=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*i}function x0(n,t){const e=xA(n,"transitionDuration"),i=xA(n,"transitionDelay"),s=_9(n,a=>{a.target===n&&(s(),t(a))},e+i)}function kd(...n){return n.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...s){t.apply(this,s),e.apply(this,s)}},null)}function ZI(n){n.offsetHeight}const wA=n=>!n||typeof n=="function"?n:t=>{n.current=t};function v9(n,t){const e=wA(n),i=wA(t);return s=>{e&&e(s),i&&i(s)}}function b9(n,t){return k.useMemo(()=>v9(n,t),[n,t])}function E9(n){return n&&"setState"in n?Lu.findDOMNode(n):n??null}const ny=xr.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:s,onExited:a,addEndListener:l,children:u,childRef:h,...f},g)=>{const b=k.useRef(null),E=b9(b,h),w=K=>{E(E9(K))},C=K=>B=>{K&&b.current&&K(b.current,B)},N=k.useCallback(C(n),[n]),R=k.useCallback(C(t),[t]),L=k.useCallback(C(e),[e]),$=k.useCallback(C(i),[i]),G=k.useCallback(C(s),[s]),Q=k.useCallback(C(a),[a]),Y=k.useCallback(C(l),[l]);return _.jsx(So,{ref:g,...f,onEnter:N,onEntered:L,onEntering:R,onExit:$,onExited:Q,onExiting:G,addEndListener:Y,nodeRef:b,children:typeof u=="function"?(K,B)=>u(K,{...B,ref:w}):xr.cloneElement(u,{ref:w})})});ny.displayName="TransitionWrapper";const T9={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function x9(n,t){const e=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=t[e],s=T9[n];return i+parseInt(_o(t,s[0]),10)+parseInt(_o(t,s[1]),10)}const w9={[fl]:"collapse",[vf]:"collapsing",[Tr]:"collapsing",[ho]:"collapse show"},JI=xr.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:s,className:a,children:l,dimension:u="height",in:h=!1,timeout:f=300,mountOnEnter:g=!1,unmountOnExit:b=!1,appear:E=!1,getDimensionValue:w=x9,...C},N)=>{const R=typeof u=="function"?u():u,L=k.useMemo(()=>kd(K=>{K.style[R]="0"},n),[R,n]),$=k.useMemo(()=>kd(K=>{const B=`scroll${R[0].toUpperCase()}${R.slice(1)}`;K.style[R]=`${K[B]}px`},t),[R,t]),G=k.useMemo(()=>kd(K=>{K.style[R]=null},e),[R,e]),Q=k.useMemo(()=>kd(K=>{K.style[R]=`${w(R,K)}px`,ZI(K)},i),[i,w,R]),Y=k.useMemo(()=>kd(K=>{K.style[R]=null},s),[R,s]);return _.jsx(ny,{ref:N,addEndListener:x0,...C,"aria-expanded":C.role?h:null,onEnter:L,onEntering:$,onEntered:G,onExit:Q,onExiting:Y,childRef:mh(l),in:h,timeout:f,mountOnEnter:g,unmountOnExit:b,appear:E,children:(K,B)=>xr.cloneElement(l,{...B,className:Oe(a,l.props.className,w9[K],R==="width"&&"collapse-horizontal")})})});JI.displayName="Collapse";const tN=k.forwardRef(({children:n,bsPrefix:t,...e},i)=>{t=Ye(t,"navbar-collapse");const s=k.useContext(fh);return _.jsx(JI,{in:!!(s&&s.expanded),...e,children:_.jsx("div",{ref:i,className:t,children:n})})});tN.displayName="NavbarCollapse";function S9(n){const t=k.useRef(n);return k.useEffect(()=>{t.current=n},[n]),t}function iy(n){const t=S9(n);return k.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const eN=k.forwardRef(({bsPrefix:n,className:t,children:e,label:i="Toggle navigation",as:s="button",onClick:a,...l},u)=>{n=Ye(n,"navbar-toggler");const{onToggle:h,expanded:f}=k.useContext(fh)||{},g=iy(b=>{a&&a(b),h&&h()});return s==="button"&&(l.type="button"),_.jsx(s,{...l,ref:u,onClick:g,"aria-label":i,className:Oe(t,n,!f&&"collapsed"),children:e||_.jsx("span",{className:`${n}-icon`})})});eN.displayName="NavbarToggle";const A9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",C9=typeof document<"u",R9=C9||A9?k.useLayoutEffect:k.useEffect,Qv=new WeakMap,SA=(n,t)=>{if(!n||!t)return;const e=Qv.get(t)||new Map;Qv.set(t,e);let i=e.get(n);return i||(i=t.matchMedia(n),i.refCount=0,e.set(i.media,i)),i};function I9(n,t=typeof window>"u"?void 0:window){const e=SA(n,t),[i,s]=k.useState(()=>e?e.matches:!1);return R9(()=>{let a=SA(n,t);if(!a)return s(!1);let l=Qv.get(t);const u=()=>{s(a.matches)};return a.refCount++,a.addListener(u),u(),()=>{a.removeListener(u),a.refCount--,a.refCount<=0&&l?.delete(a.media),a=void 0}},[n]),i}function N9(n){const t=Object.keys(n);function e(u,h){return u===h?h:u?`${u} and ${h}`:h}function i(u){return t[Math.min(t.indexOf(u)+1,t.length-1)]}function s(u){const h=i(u);let f=n[h];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function a(u){let h=n[u];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function l(u,h,f){let g;typeof u=="object"?(g=u,f=h,h=!0):(h=h||!0,g={[u]:h});let b=k.useMemo(()=>Object.entries(g).reduce((E,[w,C])=>((C==="up"||C===!0)&&(E=e(E,a(w))),(C==="down"||C===!0)&&(E=e(E,s(w))),E),""),[JSON.stringify(g)]);return I9(b,f)}return l}const D9=N9({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function av(n){n===void 0&&(n=T0());try{var t=n.activeElement;return!t||!t.nodeName?null:t}catch{return n.body}}function AA(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function k9(n){const t=k.useRef(n);return t.current=n,t}function O9(n){const t=k9(n);k.useEffect(()=>()=>t.current(),[])}function M9(n=document){const t=n.defaultView;return Math.abs(t.innerWidth-n.documentElement.clientWidth)}const CA=ty("modal-open");class w0{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:i=!1}={}){this.handleContainerOverflow=e,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return M9(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[i]:s.style[i]},t.scrollBarWidth&&(e[i]=`${parseInt(_o(s,i)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(CA,""),_o(s,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(CA),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const nN=k.createContext(ey?window:void 0);nN.Provider;function S0(){return k.useContext(nN)}const ov=(n,t)=>ey?n==null?(t||T0()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function P9(n,t){const e=S0(),[i,s]=k.useState(()=>ov(n,e?.document));if(!i){const a=ov(n);a&&s(a)}return k.useEffect(()=>{},[t,i]),k.useEffect(()=>{const a=ov(n);a!==i&&s(a)},[n,i]),i}function j9({children:n,in:t,onExited:e,mountOnEnter:i,unmountOnExit:s}){const a=k.useRef(null),l=k.useRef(t),u=uo(e);k.useEffect(()=>{t?l.current=!0:u(a.current)},[t,u]);const h=Jg(a,mh(n)),f=k.cloneElement(n,{ref:h});return t?f:s||!l.current&&i?null:f}const L9=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function V9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function U9(n){let{onEnter:t,onEntering:e,onEntered:i,onExit:s,onExiting:a,onExited:l,addEndListener:u,children:h}=n,f=V9(n,L9);const g=k.useRef(null),b=Jg(g,mh(h)),E=Q=>Y=>{Q&&g.current&&Q(g.current,Y)},w=k.useCallback(E(t),[t]),C=k.useCallback(E(e),[e]),N=k.useCallback(E(i),[i]),R=k.useCallback(E(s),[s]),L=k.useCallback(E(a),[a]),$=k.useCallback(E(l),[l]),G=k.useCallback(E(u),[u]);return Object.assign({},f,{nodeRef:g},t&&{onEnter:w},e&&{onEntering:C},i&&{onEntered:N},s&&{onExit:R},a&&{onExiting:L},l&&{onExited:$},u&&{addEndListener:G},{children:typeof h=="function"?(Q,Y)=>h(Q,Object.assign({},Y,{ref:b})):k.cloneElement(h,{ref:b})})}const F9=["component"];function B9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const z9=k.forwardRef((n,t)=>{let{component:e}=n,i=B9(n,F9);const s=U9(i);return _.jsx(e,Object.assign({ref:t},s))});function H9({in:n,onTransition:t}){const e=k.useRef(null),i=k.useRef(!0),s=uo(t);return _A(()=>{if(!e.current)return;let a=!1;return s({in:n,element:e.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[n,s]),_A(()=>(i.current=!1,()=>{i.current=!0}),[]),e}function $9({children:n,in:t,onExited:e,onEntered:i,transition:s}){const[a,l]=k.useState(!t);t&&a&&l(!1);const u=H9({in:!!t,onTransition:f=>{const g=()=>{f.isStale()||(f.in?i?.(f.element,f.initial):(l(!0),e?.(f.element)))};Promise.resolve(s(f)).then(g,b=>{throw f.in||l(!0),b})}}),h=Jg(u,mh(n));return a&&!t?null:k.cloneElement(n,{ref:h})}function RA(n,t,e){return n?_.jsx(z9,Object.assign({},e,{component:n})):t?_.jsx($9,Object.assign({},e,{transition:t})):_.jsx(j9,Object.assign({},e))}const q9=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function G9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}let lv;function K9(n){return lv||(lv=new w0({ownerDocument:n?.document})),lv}function W9(n){const t=S0(),e=n||K9(t),i=k.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>e.add(i.current),remove:()=>e.remove(i.current),isTopModal:()=>e.isTopModal(i.current),setDialogRef:k.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:k.useCallback(s=>{i.current.backdrop=s},[])})}const iN=k.forwardRef((n,t)=>{let{show:e=!1,role:i="dialog",className:s,style:a,children:l,backdrop:u=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:g,transition:b,runTransition:E,backdropTransition:w,runBackdropTransition:C,autoFocus:N=!0,enforceFocus:R=!0,restoreFocus:L=!0,restoreFocusOptions:$,renderDialog:G,renderBackdrop:Q=Dt=>_.jsx("div",Object.assign({},Dt)),manager:Y,container:K,onShow:B,onHide:D=()=>{},onExit:M,onExited:z,onExiting:H,onEnter:V,onEntering:U,onEntered:Rt}=n,vt=G9(n,q9);const W=S0(),ot=P9(K),Et=W9(Y),Lt=Gz(),P=Kz(e),[ut,Tt]=k.useState(!e),gt=k.useRef(null);k.useImperativeHandle(t,()=>Et,[Et]),ey&&!P&&e&&(gt.current=av(W?.document)),e&&ut&&Tt(!1);const xt=uo(()=>{if(Et.add(),Pt.current=dg(document,"keydown",it),ht.current=dg(document,"focus",()=>setTimeout(It),!0),B&&B(),N){var Dt,Kt;const se=av((Dt=(Kt=Et.dialog)==null?void 0:Kt.ownerDocument)!=null?Dt:W?.document);Et.dialog&&se&&!AA(Et.dialog,se)&&(gt.current=se,Et.dialog.focus())}}),wt=uo(()=>{if(Et.remove(),Pt.current==null||Pt.current(),ht.current==null||ht.current(),L){var Dt;(Dt=gt.current)==null||Dt.focus==null||Dt.focus($),gt.current=null}});k.useEffect(()=>{!e||!ot||xt()},[e,ot,xt]),k.useEffect(()=>{ut&&wt()},[ut,wt]),O9(()=>{wt()});const It=uo(()=>{if(!R||!Lt()||!Et.isTopModal())return;const Dt=av(W?.document);Et.dialog&&Dt&&!AA(Et.dialog,Dt)&&Et.dialog.focus()}),De=uo(Dt=>{Dt.target===Dt.currentTarget&&(f?.(Dt),u===!0&&D())}),it=uo(Dt=>{h&&h9(Dt)&&Et.isTopModal()&&(g?.(Dt),Dt.defaultPrevented||D())}),ht=k.useRef(),Pt=k.useRef(),te=(...Dt)=>{Tt(!0),z?.(...Dt)};if(!ot)return null;const ft=Object.assign({role:i,ref:Et.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},vt,{style:a,className:s,tabIndex:-1});let St=G?G(ft):_.jsx("div",Object.assign({},ft,{children:k.cloneElement(l,{role:"document"})}));St=RA(b,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:M,onExiting:H,onExited:te,onEnter:V,onEntering:U,onEntered:Rt,children:St});let Ct=null;return u&&(Ct=Q({ref:Et.setBackdropRef,onClick:De}),Ct=RA(w,C,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ct})),_.jsx(_.Fragment,{children:Lu.createPortal(_.jsxs(_.Fragment,{children:[Ct,St]}),ot)})});iN.displayName="Modal";const Y9=Object.assign(iN,{Manager:w0}),X9={[Tr]:"show",[ho]:"show"},sN=k.forwardRef(({className:n,children:t,transitionClasses:e={},onEnter:i,...s},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},u=k.useCallback((h,f)=>{ZI(h),i?.(h,f)},[i]);return _.jsx(ny,{ref:a,addEndListener:x0,...l,onEnter:u,childRef:mh(t),children:(h,f)=>k.cloneElement(t,{...f,className:Oe("fade",n,t.props.className,X9[h],e[h])})})});sN.displayName="Fade";const rN=k.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=Ye(t,"offcanvas-body"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));rN.displayName="OffcanvasBody";const Q9={[Tr]:"show",[ho]:"show"},aN=k.forwardRef(({bsPrefix:n,className:t,children:e,in:i=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:l=!1,...u},h)=>(n=Ye(n,"offcanvas"),_.jsx(ny,{ref:h,addEndListener:x0,in:i,mountOnEnter:s,unmountOnExit:a,appear:l,...u,childRef:mh(e),children:(f,g)=>k.cloneElement(e,{...g,className:Oe(t,e.props.className,(f===Tr||f===vf)&&`${n}-toggling`,Q9[f])})})));aN.displayName="OffcanvasToggling";const oN=k.createContext({onHide(){}}),Z9={"aria-label":sv.string,onClick:sv.func,variant:sv.oneOf(["white"])},A0=k.forwardRef(({className:n,variant:t,"aria-label":e="Close",...i},s)=>_.jsx("button",{ref:s,type:"button",className:Oe("btn-close",t&&`btn-close-${t}`,n),"aria-label":e,...i}));A0.displayName="CloseButton";A0.propTypes=Z9;const lN=k.forwardRef(({closeLabel:n="Close",closeVariant:t,closeButton:e=!1,onHide:i,children:s,...a},l)=>{const u=k.useContext(oN),h=iy(()=>{u?.onHide(),i?.()});return _.jsxs("div",{ref:l,...a,children:[s,e&&_.jsx(A0,{"aria-label":n,variant:t,onClick:h})]})});lN.displayName="AbstractModalHeader";const cN=k.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:i=!1,...s},a)=>(n=Ye(n,"offcanvas-header"),_.jsx(lN,{ref:a,...s,className:Oe(t,n),closeLabel:e,closeButton:i})));cN.displayName="OffcanvasHeader";const C0=n=>k.forwardRef((t,e)=>_.jsx("div",{...t,ref:e,className:Oe(t.className,n)})),J9=C0("h5"),uN=k.forwardRef(({className:n,bsPrefix:t,as:e=J9,...i},s)=>(t=Ye(t,"offcanvas-title"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));uN.displayName="OffcanvasTitle";function tH(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function eH(n,t){n.classList?n.classList.add(t):tH(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function IA(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nH(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=IA(n.className,t):n.setAttribute("class",IA(n.className&&n.className.baseVal||"",t))}const ku={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class hN extends w0{adjustAndStore(t,e,i){const s=e.style[t];e.dataset[t]=s,_o(e,{[t]:`${parseFloat(_o(e,t))+i}px`})}restore(t,e){const i=e.dataset[t];i!==void 0&&(delete e.dataset[t],_o(e,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(eH(e,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Sc(e,ku.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth)),Sc(e,ku.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-t.scrollBarWidth)),Sc(e,ku.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();nH(e,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Sc(e,ku.FIXED_CONTENT).forEach(a=>this.restore(i,a)),Sc(e,ku.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Sc(e,ku.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let cv;function iH(n){return cv||(cv=new hN(n)),cv}function sH(n){return _.jsx(aN,{...n})}function rH(n){return _.jsx(sN,{...n})}const dN=k.forwardRef(({bsPrefix:n,className:t,children:e,"aria-labelledby":i,placement:s="start",responsive:a,show:l=!1,backdrop:u=!0,keyboard:h=!0,scroll:f=!1,onEscapeKeyDown:g,onShow:b,onHide:E,container:w,autoFocus:C=!0,enforceFocus:N=!0,restoreFocus:R=!0,restoreFocusOptions:L,onEntered:$,onExit:G,onExiting:Q,onEnter:Y,onEntering:K,onExited:B,backdropClassName:D,manager:M,renderStaticNode:z=!1,...H},V)=>{const U=k.useRef();n=Ye(n,"offcanvas");const[Rt,vt]=k.useState(!1),W=iy(E),ot=D9(a||"xs","up");k.useEffect(()=>{vt(a?l&&!ot:l)},[l,a,ot]);const Et=k.useMemo(()=>({onHide:W}),[W]);function Lt(){return M||(f?(U.current||(U.current=new hN({handleContainerOverflow:!1})),U.current):iH())}const P=(xt,...wt)=>{xt&&(xt.style.visibility="visible"),Y?.(xt,...wt)},ut=(xt,...wt)=>{xt&&(xt.style.visibility=""),B?.(...wt)},Tt=k.useCallback(xt=>_.jsx("div",{...xt,className:Oe(`${n}-backdrop`,D)}),[D,n]),gt=xt=>_.jsx("div",{...xt,...H,className:Oe(t,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":i,children:e});return _.jsxs(_.Fragment,{children:[!Rt&&(a||z)&&gt({}),_.jsx(oN.Provider,{value:Et,children:_.jsx(Y9,{show:Rt,ref:V,backdrop:u,container:w,keyboard:h,autoFocus:C,enforceFocus:N&&!f,restoreFocus:R,restoreFocusOptions:L,onEscapeKeyDown:g,onShow:b,onHide:W,onEnter:P,onEntering:K,onEntered:$,onExit:G,onExiting:Q,onExited:ut,manager:Lt(),transition:sH,backdropTransition:rH,renderBackdrop:Tt,renderDialog:gt})})]})});dN.displayName="Offcanvas";const aH=Object.assign(dN,{Body:rN,Header:cN,Title:uN}),fN=k.forwardRef(({onHide:n,...t},e)=>{const i=k.useContext(fh),s=iy(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return _.jsx(aH,{ref:e,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:s})});fN.displayName="NavbarOffcanvas";const mN=k.forwardRef(({className:n,bsPrefix:t,as:e="span",...i},s)=>(t=Ye(t,"navbar-text"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));mN.displayName="NavbarText";const pN=k.forwardRef((n,t)=>{const{bsPrefix:e,expand:i=!0,variant:s="light",bg:a,fixed:l,sticky:u,className:h,as:f="nav",expanded:g,onToggle:b,onSelect:E,collapseOnSelect:w=!1,...C}=FI(n,{expanded:"onToggle"}),N=Ye(e,"navbar"),R=k.useCallback((...G)=>{E?.(...G),w&&g&&b?.(!1)},[E,w,g,b]);C.role===void 0&&f!=="nav"&&(C.role="navigation");let L=`${N}-expand`;typeof i=="string"&&(L=`${L}-${i}`);const $=k.useMemo(()=>({onToggle:()=>b?.(!g),bsPrefix:N,expanded:!!g,expand:i}),[N,g,i,b]);return _.jsx(fh.Provider,{value:$,children:_.jsx(hg.Provider,{value:R,children:_.jsx(f,{ref:t,...C,className:Oe(h,N,i&&L,s&&`${N}-${s}`,a&&`bg-${a}`,u&&`sticky-${u}`,l&&`fixed-${l}`)})})})});pN.displayName="Navbar";const mp=Object.assign(pN,{Brand:XI,Collapse:tN,Offcanvas:fN,Text:mN,Toggle:eN}),gN=k.forwardRef(({as:n,bsPrefix:t,variant:e="primary",size:i,active:s=!1,disabled:a=!1,className:l,...u},h)=>{const f=Ye(t,"btn"),[g,{tagName:b}]=b0({tagName:n,disabled:a,...u}),E=b;return _.jsx(E,{...g,...u,ref:h,disabled:a,className:Oe(l,f,s&&"active",e&&`${f}-${e}`,i&&`${f}-${i}`,u.href&&a&&"disabled")})});gN.displayName="Button";const yN=k.createContext(),_N=()=>{const n=k.useContext(yN);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},oH=({children:n})=>{const[t,e]=k.useState(null),[i,s]=k.useState(!0);k.useEffect(()=>M4(Vv,h=>{e(h),s(!1)}),[]);const l={user:t,loading:i,logout:async()=>{try{await P4(Vv)}catch(u){console.error("Error logging out:",u)}},isAuthenticated:!!t};return _.jsx(yN.Provider,{value:l,children:n})};function ia(){const{logout:n,user:t}=_N(),e=Ef(),i=async()=>{try{await n(),e("/login")}catch(s){console.error("Error logging out:",s)}};return _.jsx(mp,{expand:"lg",className:"bg-body-tertiary",children:_.jsxs(VI,{fluid:!0,children:[_.jsx(mp.Brand,{as:ra,to:"/KombuchaApp",children:"Kombucha App"}),_.jsx(mp.Toggle,{"aria-controls":"basic-navbar-nav"}),_.jsxs(mp.Collapse,{id:"basic-navbar-nav",children:[_.jsxs(Xs,{className:"me-auto",children:[_.jsx(Xs.Link,{as:ra,to:"/KombuchaApp",children:"Dashboard"}),_.jsx(Xs.Link,{as:ra,to:"/clientes",children:"Clientes"}),_.jsx(Xs.Link,{as:ra,to:"/kombuchas",children:"Kombuchas"}),_.jsx(Xs.Link,{as:ra,to:"/ventas",children:"Ventas"}),_.jsx(Xs.Link,{as:ra,to:"/rutas",children:"Rutas"}),_.jsx(Xs.Link,{as:ra,to:"/mapa",children:"Mapa"}),_.jsx(Xs.Link,{as:ra,to:"/recordatorios",children:"Recordatorios"}),_.jsx(Xs.Link,{as:ra,to:"/usuarios",children:"Usuarios"})]}),_.jsxs(Xs,{className:"ms-auto",children:[_.jsx(Xs.Item,{className:"d-flex align-items-center me-3",children:_.jsx("small",{className:"text-white",children:t?.email?t.email.split("@")[0]:""})}),_.jsx(Xs.Item,{children:_.jsx(gN,{variant:"danger",size:"sm",onClick:i,children:"Cerrar Sesión"})})]})]})]})})}const lH=({value:n,onChange:t,placeholder:e="Ingresa una dirección...",className:i="",restrictedCities:s=[],restrictedStates:a=[]})=>{const[l,u]=k.useState([]),[h,f]=k.useState(!1),[g,b]=k.useState(n||""),E=k.useRef(null),w=k.useRef(null);k.useEffect(()=>{window.google&&window.google.maps&&(E.current=new window.google.maps.places.AutocompleteService,w.current=new window.google.maps.places.PlacesService(document.createElement("div")))},[]),k.useEffect(()=>{b(n||"")},[n]);const C=$=>{const G=$.target.value;b(G),t({address:G,coordinates:null}),G.length>2&&E.current?E.current.getPlacePredictions({input:G,componentRestrictions:{country:"mx"},types:["address"]},(Q,Y)=>{if(Y===window.google.maps.places.PlacesServiceStatus.OK){let K=Q;(s.length>0||a.length>0)&&(K=Q.filter(B=>{const D=B.structured_formatting.secondary_text||"",M=B.description||"",z=s.length===0||s.some(V=>D.toLowerCase().includes(V.toLowerCase())||M.toLowerCase().includes(V.toLowerCase())),H=a.length===0||a.some(V=>D.toLowerCase().includes(V.toLowerCase())||M.toLowerCase().includes(V.toLowerCase()));return z&&H})),u(K),f(K.length>0)}else u([]),f(!1)}):(u([]),f(!1))},N=$=>{b($.description),f(!1),u([]),w.current&&w.current.getDetails({placeId:$.place_id,fields:["geometry","formatted_address"]},(G,Q)=>{if(Q===window.google.maps.places.PlacesServiceStatus.OK){const Y={lat:G.geometry.location.lat(),lng:G.geometry.location.lng()};t({address:$.description,coordinates:Y})}})},R=()=>{setTimeout(()=>{f(!1)},200)},L=()=>{l.length>0&&f(!0)};return _.jsxs("div",{className:`address-autocomplete ${i}`,children:[_.jsx("input",{type:"text",value:g,onChange:C,onBlur:R,onFocus:L,placeholder:e,className:"address-input",autoComplete:"off"}),h&&l.length>0&&_.jsx("div",{className:"suggestions-container",children:l.map(($,G)=>_.jsxs("div",{className:"suggestion-item",onClick:()=>N($),onMouseDown:Q=>Q.preventDefault(),children:[_.jsx("div",{className:"suggestion-main-text",children:$.structured_formatting.main_text}),_.jsx("div",{className:"suggestion-secondary-text",children:$.structured_formatting.secondary_text})]},$.place_id))})]})},ca={restrictedCities:["Puebla","Cholula","San Andrés Cholula","San Pedro Cholula"],restrictedStates:["Puebla"],defaultMapCenter:{lat:19.4326,lng:-99.1332},defaultZoom:12},cH=()=>ca.restrictedCities,uH=()=>ca.restrictedStates,hH=({showDetails:n=!1})=>ca.restrictedCities.length>0||ca.restrictedStates.length>0?_.jsxs("div",{className:"location-restrictions",children:[_.jsxs("div",{className:"restrictions-header",children:[_.jsx("span",{className:"restrictions-icon",children:"📍"}),_.jsx("span",{className:"restrictions-text",children:"Búsqueda limitada a ubicaciones específicas"})]}),n&&_.jsxs("div",{className:"restrictions-details",children:[ca.restrictedCities.length>0&&_.jsxs("div",{className:"restriction-group",children:[_.jsx("strong",{children:"Ciudades permitidas:"}),_.jsx("div",{className:"restriction-tags",children:ca.restrictedCities.map((e,i)=>_.jsx("span",{className:"restriction-tag city-tag",children:e},i))})]}),ca.restrictedStates.length>0&&_.jsxs("div",{className:"restriction-group",children:[_.jsx("strong",{children:"Estados permitidos:"}),_.jsx("div",{className:"restriction-tags",children:ca.restrictedStates.map((e,i)=>_.jsx("span",{className:"restriction-tag state-tag",children:e},i))})]})]})]}):null,dH=({address:n,coordinates:t,onClose:e})=>{const i=k.useRef(null),s=k.useRef(null),a=k.useRef(null);return k.useEffect(()=>{if(window.google&&window.google.maps&&i.current&&t){const l={lat:parseFloat(t.lat),lng:parseFloat(t.lng)};s.current=new window.google.maps.Map(i.current,{center:l,zoom:16,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),a.current=new window.google.maps.Marker({position:l,map:s.current,title:n,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#F54927",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3}});const u=new window.google.maps.InfoWindow({content:`
          <div style="padding: 12px; min-width: 250px;">
            <h3 style="margin: 0 0 8px 0; color: #333; font-size: 16px;">📍 Dirección Seleccionada</h3>
            <p style="margin: 8px 0; color: #666; line-height: 1.4;">
              <strong>Dirección:</strong><br>
              ${n}
            </p>
            <p style="margin: 8px 0; color: #666; font-size: 12px;">
              <strong>Coordenadas:</strong><br>
              ${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}
            </p>
          </div>
        `});u.open(s.current,a.current),a.current.addListener("click",()=>{u.open(s.current,a.current)})}},[n,t]),t?_.jsx("div",{className:"address-preview-overlay",children:_.jsxs("div",{className:"address-preview-container",children:[_.jsxs("div",{className:"address-preview-header",children:[_.jsx("h3",{children:"Vista Previa de la Dirección"}),_.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),_.jsxs("div",{className:"address-preview-content",children:[_.jsxs("div",{className:"address-info",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Dirección:"})," ",n]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Coordenadas:"})," ",t.lat.toFixed(6),", ",t.lng.toFixed(6)]})]}),_.jsx("div",{className:"map-preview-container",children:_.jsx("div",{ref:i,className:"map-preview"})})]}),_.jsx("div",{className:"address-preview-actions",children:_.jsx("button",{className:"confirm-btn",onClick:e,children:"Confirmar Dirección"})})]})}):null};function fH(){const[n,t]=k.useState([]),[e,i]=k.useState(!0),[s,a]=k.useState(!1),[l,u]=k.useState(null),[h,f]=k.useState("nombre"),[g,b]=k.useState("asc"),[E,w]=k.useState({nombre:"",telefono:"",direccion:"",direccionCoords:null,fechaRegistro:""}),[C,N]=k.useState(!1),R=async()=>{try{console.log("Fetching clients from Firebase...");const V=await si(cn(Ne,"clientes"));console.log("Firebase response:",V);const U=V.docs.map(Rt=>({id:Rt.id,...Rt.data()}));console.log("Processed clients data:",U),t(U)}catch(V){console.error("Error fetching clients:",V)}finally{i(!1)}};k.useEffect(()=>{R()},[]);const L=V=>{h===V?b(g==="asc"?"desc":"asc"):(f(V),b("asc"))},$=[...n].sort((V,U)=>{let Rt=V[h]||"",vt=U[h]||"";return h==="fechaRegistro"&&(Rt=Rt||"1900-01-01",vt=vt||"1900-01-01"),typeof Rt=="string"&&(Rt=Rt.toLowerCase(),vt=vt.toLowerCase()),g==="asc"?Rt>vt?1:-1:Rt<vt?1:-1}),G=V=>h!==V?"↕️":g==="asc"?"↑":"↓",Q=V=>{const{name:U,value:Rt}=V.target;w(vt=>({...vt,[U]:Rt}))},Y=V=>{w(U=>({...U,direccion:V.address,direccionCoords:V.coordinates?{lat:parseFloat(V.coordinates.lat),lng:parseFloat(V.coordinates.lng)}:null}))},K=()=>{E.direccionCoords&&E.direccion&&N(!0)},B=()=>{N(!1)},D=async V=>{V.preventDefault();try{const U={...E,fechaRegistro:E.fechaRegistro||th()};U.direccionCoords||delete U.direccionCoords,l?(await Nf(va(Ne,"clientes",l.id),U),u(null)):await Df(cn(Ne,"clientes"),U),w({nombre:"",telefono:"",direccion:"",direccionCoords:null}),a(!1),R()}catch(U){console.error("Error saving client:",U)}},M=V=>{u(V),w({nombre:V.nombre||"",telefono:V.telefono||"",direccion:V.direccion||"",direccionCoords:V.direccionCoords?{lat:parseFloat(V.direccionCoords.lat),lng:parseFloat(V.direccionCoords.lng)}:null}),a(!0)},z=async V=>{if(window.confirm("¿Estás seguro de que quieres eliminar este cliente?"))try{await jg(va(Ne,"clientes",V)),R()}catch(U){console.error("Error deleting client:",U)}},H=()=>{a(!1),u(null),w({nombre:"",telefono:"",direccion:"",direccionCoords:null})};return e?_.jsx("div",{className:"clientes-page",children:_.jsx("div",{className:"loading",children:"Cargando clientes..."})}):_.jsxs("div",{className:"clientes-page",children:[_.jsxs("div",{className:"clientes-header",children:[_.jsx("h1",{children:"Gestión de Clientes"}),_.jsx("button",{className:"add-cliente-btn",onClick:()=>a(!0),children:"+ Nuevo Cliente"})]}),s&&_.jsx("div",{className:"form-overlay",children:_.jsxs("div",{className:"form-container",children:[_.jsx("h2",{children:l?"Editar Cliente":"Nuevo Cliente"}),_.jsxs("form",{onSubmit:D,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"nombre",children:"Nombre *"}),_.jsx("input",{type:"text",id:"nombre",name:"nombre",value:E.nombre,onChange:Q,required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"telefono",children:"Teléfono"}),_.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:E.telefono,onChange:Q})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"direccion",children:"Dirección"}),_.jsx(hH,{showDetails:!0}),_.jsx(lH,{value:E.direccion,onChange:Y,placeholder:"Ingresa la dirección del cliente...",restrictedCities:cH(),restrictedStates:uH()}),E.direccionCoords&&_.jsxs("div",{className:"coordinates-info",children:[_.jsxs("small",{children:["📍 Coordenadas guardadas: ",E.direccionCoords.lat.toFixed(6),", ",E.direccionCoords.lng.toFixed(6)]}),_.jsx("button",{type:"button",className:"preview-map-btn",onClick:K,children:"🗺️ Ver en Mapa"})]})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",onClick:H,className:"cancel-btn",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"save-btn",children:l?"Actualizar":"Guardar"})]})]})]})}),_.jsx("div",{className:"clientes-content",children:n.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsx("p",{children:"No hay clientes registrados"}),_.jsx("button",{className:"add-first-cliente-btn",onClick:()=>a(!0),children:"Agregar primer cliente"})]}):_.jsx("div",{className:"table-container",children:_.jsxs("table",{className:"clientes-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{className:"sortable",onClick:()=>L("nombre"),children:["Nombre ",G("nombre")]}),_.jsxs("th",{className:"sortable",onClick:()=>L("telefono"),children:["Teléfono ",G("telefono")]}),_.jsxs("th",{className:"sortable",onClick:()=>L("direccion"),children:["Dirección ",G("direccion")]}),_.jsxs("th",{className:"sortable",onClick:()=>L("fechaRegistro"),children:["Fecha de Registro ",G("fechaRegistro")]}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:$.map(V=>_.jsxs("tr",{children:[_.jsx("td",{children:V.nombre}),_.jsx("td",{children:V.telefono||"-"}),_.jsx("td",{children:V.direccion||"-"}),_.jsx("td",{children:V.fechaRegistro||"-"}),_.jsxs("td",{className:"actions",children:[_.jsx("button",{className:"edit-btn",onClick:()=>M(V),children:"Editar"}),_.jsx("button",{className:"delete-btn",onClick:()=>z(V.id),children:"Eliminar"})]})]},V.id))})]})})}),C&&_.jsx(dH,{address:E.direccion,coordinates:E.direccionCoords,onClose:B})]})}const Zv=({clientes:n=[],center:t=null,zoom:e=12})=>{const i=k.useRef(null),s=k.useRef(null),a=k.useRef([]);return k.useEffect(()=>{if(window.google&&window.google.maps&&i.current){const l=t||ca.defaultMapCenter;s.current=new window.google.maps.Map(i.current,{center:l,zoom:e||ca.defaultZoom,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]})}},[t,e]),k.useEffect(()=>{if(a.current.forEach(l=>{l.setMap(null)}),a.current=[],s.current&&n.length>0){const l=new window.google.maps.LatLngBounds;let u=!1;n.forEach((h,f)=>{const g=parseFloat(h.direccionCoords?.lat),b=parseFloat(h.direccionCoords?.lng);if(h.direccionCoords&&!isNaN(g)&&!isNaN(b)){const E=new window.google.maps.Marker({position:{lat:g,lng:b},map:s.current,title:h.nombre,label:{text:(f+1).toString(),color:"white",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#F54927",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}}),w=new window.google.maps.InfoWindow({content:`
              <div style="padding: 10px; min-width: 200px;">
                <h3 style="margin: 0 0 8px 0; color: #333;">${h.nombre}</h3>
                <p style="margin: 5px 0; color: #666;">
                  <strong>Teléfono:</strong> ${h.telefono||"No disponible"}
                </p>
                <p style="margin: 5px 0; color: #666;">
                  <strong>Dirección:</strong> ${h.direccion||"No disponible"}
                </p>
                <p style="margin: 5px 0; color: #666;">
                  <strong>Registro:</strong> ${h.fechaRegistro||"No disponible"}
                </p>
              </div>
            `});E.addListener("click",()=>{w.open(s.current,E)}),a.current.push(E),l.extend(E.getPosition()),u=!0}}),u&&(s.current.fitBounds(l),window.google.maps.event.addListenerOnce(s.current,"bounds_changed",()=>{s.current.setZoom(Math.min(s.current.getZoom(),15))}))}},[n]),_.jsxs("div",{className:"map-view",children:[_.jsx("div",{ref:i,className:"map-container"}),_.jsxs("div",{className:"map-legend",children:[_.jsx("h3",{children:"Clientes en el mapa"}),_.jsx("div",{className:"legend-items",children:n.map((l,u)=>{const h=parseFloat(l.direccionCoords?.lat),f=parseFloat(l.direccionCoords?.lng);return l.direccionCoords&&!isNaN(h)&&!isNaN(f)?_.jsxs("div",{className:"legend-item",children:[_.jsx("div",{className:"legend-marker",style:{backgroundColor:"#F54927"},children:u+1}),_.jsx("span",{className:"legend-text",children:l.nombre})]},l.id):null})}),n.filter(l=>{const u=parseFloat(l.direccionCoords?.lat),h=parseFloat(l.direccionCoords?.lng);return l.direccionCoords&&!isNaN(u)&&!isNaN(h)}).length===0&&_.jsx("p",{className:"no-coordinates",children:"No hay clientes con coordenadas para mostrar en el mapa"})]})]})};function mH(){const[n,t]=k.useState([]),[e,i]=k.useState(!0),s=async()=>{try{console.log("Fetching clients for map...");const u=(await si(cn(Ne,"clientes"))).docs.map(h=>({id:h.id,...h.data()}));console.log("Clients with coordinates:",u.filter(h=>{const f=parseFloat(h.direccionCoords?.lat),g=parseFloat(h.direccionCoords?.lng);return h.direccionCoords&&!isNaN(f)&&!isNaN(g)})),t(u)}catch(l){console.error("Error fetching clients for map:",l)}finally{i(!1)}};if(k.useEffect(()=>{s()},[]),e)return _.jsx("div",{className:"map-page",children:_.jsx("div",{className:"loading",children:"Cargando mapa de clientes..."})});const a=n.filter(l=>{const u=parseFloat(l.direccionCoords?.lat),h=parseFloat(l.direccionCoords?.lng);return l.direccionCoords&&!isNaN(u)&&!isNaN(h)});return _.jsxs("div",{className:"map-page",children:[_.jsxs("div",{className:"map-header",children:[_.jsx("h1",{children:"Mapa de Clientes"}),_.jsxs("div",{className:"map-stats",children:[_.jsxs("span",{className:"stat-item",children:[_.jsx("strong",{children:"Total de clientes:"})," ",n.length]}),_.jsxs("span",{className:"stat-item",children:[_.jsx("strong",{children:"Con coordenadas:"})," ",a.length]})]})]}),a.length===0?_.jsx("div",{className:"no-coordinates-message",children:_.jsxs("div",{className:"message-content",children:[_.jsx("h2",{children:"No hay clientes con coordenadas"}),_.jsx("p",{children:"Para ver clientes en el mapa, necesitas agregar direcciones usando las sugerencias de Google Maps en la página de gestión de clientes."}),_.jsx("button",{className:"go-to-clients-btn",onClick:()=>window.location.href="/clientes",children:"Ir a Gestión de Clientes"})]})}):_.jsx("div",{className:"map-content",children:_.jsx(Zv,{clientes:n})})]})}const pH=()=>{const[n,t]=k.useState([]),[e,i]=k.useState(!0),[s,a]=k.useState(!1),[l,u]=k.useState(null),[h,f]=k.useState("nombre"),[g,b]=k.useState("asc"),[E,w]=k.useState(!1),[C,N]=k.useState(""),[R,L]=k.useState({nombre:"",precio:"",foto:"",descripcion:"",stock:""}),$=async()=>{try{i(!0);const U=(await si(cn(Ne,"kombuchas"))).docs.map(Rt=>({id:Rt.id,...Rt.data()}));t(U)}catch(V){console.error("Error fetching kombuchas:",V),N("Error al cargar las kombuchas")}finally{i(!1)}};k.useEffect(()=>{$()},[]);const G=V=>{f(V),b(g==="asc"?"desc":"asc")},Q=V=>h===V?g==="asc"?"▲":"▼":"",Y=V=>{const{name:U,value:Rt}=V.target;L(vt=>({...vt,[U]:Rt}))},K=async V=>{V.preventDefault(),w(!0),N("");try{if(!R.nombre.trim()||!R.precio.trim()){N("Nombre y precio son campos obligatorios");return}const U={...R,nombre:R.nombre.trim(),precio:parseFloat(R.precio)||0,stock:parseInt(R.stock)||0,fechaRegistro:l?l.fechaRegistro:ng(),fechaActualizacion:ng()};if(l)await Nf(va(Ne,"kombuchas",l.id),U),t(Rt=>Rt.map(vt=>vt.id===l.id?{...vt,...U}:vt)),u(null);else{const Rt=await Df(cn(Ne,"kombuchas"),U);t(vt=>[...vt,{id:Rt.id,...U}])}a(!1),z()}catch(U){console.error("Error saving kombucha:",U),N("Error al guardar la kombucha")}finally{w(!1)}},B=V=>{u(V),L({nombre:V.nombre||"",precio:V.precio?.toString()||"",foto:V.foto||"",descripcion:V.descripcion||"",stock:V.stock?.toString()||""}),a(!0)},D=async V=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta kombucha?"))try{await jg(va(Ne,"kombuchas",V)),t(U=>U.filter(Rt=>Rt.id!==V))}catch(U){console.error("Error deleting kombucha:",U),N("Error al eliminar la kombucha")}},M=()=>{a(!1),u(null),z()},z=()=>{L({nombre:"",precio:"",foto:"",descripcion:"",stock:""}),N("")},H=[...n].sort((V,U)=>{const Rt=V[h],vt=U[h];if(h==="precio"||h==="stock"){const W=parseFloat(Rt)||0,ot=parseFloat(vt)||0;return g==="asc"?W-ot:ot-W}return Rt&&vt?g==="asc"?Rt.toString().localeCompare(vt.toString()):vt.toString().localeCompare(Rt.toString()):0});return e?_.jsx("div",{className:"kombuchas-page",children:_.jsx("div",{className:"loading",children:"Cargando kombuchas..."})}):_.jsxs("div",{className:"kombuchas-page",children:[_.jsxs("div",{className:"kombuchas-header",children:[_.jsx("h1",{children:"Kombuchas"}),_.jsx("button",{className:"add-kombucha-btn",onClick:()=>a(!0),children:"+ Nueva Kombucha"})]}),C&&_.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:C}),_.jsx("div",{className:"kombuchas-content",children:n.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsx("p",{children:"No hay kombuchas registradas"}),_.jsx("button",{className:"add-first-kombucha-btn",onClick:()=>a(!0),children:"Agregar primera kombucha"})]}):_.jsx("div",{className:"table-container",children:_.jsxs("table",{className:"kombuchas-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{className:"sortable",onClick:()=>G("nombre"),children:["Nombre ",Q("nombre")]}),_.jsxs("th",{className:"sortable",onClick:()=>G("precio"),children:["Precio ",Q("precio")]}),_.jsx("th",{children:"Foto"}),_.jsx("th",{children:"Descripción"}),_.jsxs("th",{className:"sortable",onClick:()=>G("stock"),children:["Stock ",Q("stock")]}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:H.map(V=>_.jsxs("tr",{children:[_.jsx("td",{children:V.nombre}),_.jsxs("td",{className:"price-cell",children:["$",V.precio?.toFixed(2)||"0.00"]}),_.jsx("td",{children:V.foto?_.jsx("img",{src:V.foto,alt:V.nombre,className:"kombucha-image",onError:U=>{U.target.style.display="none",U.target.nextSibling.style.display="flex"}}):_.jsx("div",{className:"kombucha-image-placeholder",children:"Sin foto"})}),_.jsx("td",{children:V.descripcion||"-"}),_.jsx("td",{children:V.stock||0}),_.jsx("td",{children:_.jsxs("div",{className:"actions",children:[_.jsx("button",{className:"edit-btn",onClick:()=>B(V),children:"Editar"}),_.jsx("button",{className:"delete-btn",onClick:()=>D(V.id),children:"Eliminar"})]})})]},V.id))})]})})}),s&&_.jsx("div",{className:"form-overlay",children:_.jsxs("div",{className:"form-container",children:[_.jsx("h2",{children:l?"Editar Kombucha":"Nueva Kombucha"}),C&&_.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem"},children:C}),_.jsxs("form",{onSubmit:K,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"nombre",children:"Nombre *"}),_.jsx("input",{type:"text",id:"nombre",name:"nombre",value:R.nombre,onChange:Y,required:!0,placeholder:"Nombre de la kombucha"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"precio",children:"Precio *"}),_.jsx("input",{type:"number",id:"precio",name:"precio",value:R.precio,onChange:Y,required:!0,min:"0",step:"0.01",placeholder:"0.00"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"foto",children:"URL de la Foto"}),_.jsx("input",{type:"url",id:"foto",name:"foto",value:R.foto,onChange:Y,placeholder:"https://ejemplo.com/foto.jpg"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"descripcion",children:"Descripción"}),_.jsx("textarea",{id:"descripcion",name:"descripcion",value:R.descripcion,onChange:Y,rows:"3",placeholder:"Descripción de la kombucha"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"stock",children:"Stock"}),_.jsx("input",{type:"number",id:"stock",name:"stock",value:R.stock,onChange:Y,min:"0",placeholder:"0"})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",className:"cancel-btn",onClick:M,disabled:E,children:"Cancelar"}),_.jsx("button",{type:"submit",className:"save-btn",disabled:E,children:E?"Guardando...":l?"Actualizar":"Guardar"})]})]})]})})]})},gH=()=>{const[n,t]=k.useState([]),[e,i]=k.useState(!0),[s,a]=k.useState(!1),[l,u]=k.useState(null),[h,f]=k.useState("fecha"),[g,b]=k.useState("asc"),[E,w]=k.useState(!1),[C,N]=k.useState(""),[R,L]=k.useState([]),[$,G]=k.useState([]),[Q,Y]=k.useState(B1()),[K,B]=k.useState("sales"),[D,M]=k.useState({fecha:th(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"}),z=async()=>{try{i(!0);const St=(await si(cn(Ne,"ventas"))).docs.map(Ct=>({id:Ct.id,...Ct.data()}));t(St)}catch(ft){console.error("Error fetching sales:",ft),N("Error al cargar las ventas")}finally{i(!1)}},H=async()=>{try{const St=(await si(cn(Ne,"kombuchas"))).docs.map(Ct=>({id:Ct.id,...Ct.data()}));L(St)}catch(ft){console.error("Error fetching kombuchas:",ft)}},V=async()=>{try{const St=(await si(cn(Ne,"clientes"))).docs.map(Ct=>({id:Ct.id,...Ct.data()}));G(St)}catch(ft){console.error("Error fetching clientes:",ft)}};k.useEffect(()=>{z(),H(),V()},[]);const U=ft=>{f(ft),b(g==="asc"?"desc":"asc")},Rt=ft=>h===ft?g==="asc"?"▲":"▼":"",vt=ft=>{const{name:St,value:Ct}=ft.target;M(Dt=>({...Dt,[St]:Ct}))},W=(ft,St,Ct)=>{M(Dt=>{const Kt=[...Dt.items];if(Kt[ft]={...Kt[ft],[St]:Ct},St==="kombuchaId"&&Ct){const sn=R.find(ri=>ri.id===Ct);sn&&sn.precio&&(Kt[ft].precio=sn.precio)}const se=Kt.reduce((sn,ri)=>{const Dr=parseFloat(ri.cantidad)||0,sr=parseFloat(ri.precio)||0;return sn+Dr*sr},0);return{...Dt,items:Kt,total:se.toFixed(2)}})},ot=()=>{M(ft=>({...ft,items:[...ft.items,{kombuchaId:"",cantidad:1,precio:""}]}))},Et=ft=>{M(St=>{const Ct=St.items.filter((Kt,se)=>se!==ft);Ct.length===0&&Ct.push({kombuchaId:"",cantidad:1,precio:""});const Dt=Ct.reduce((Kt,se)=>{const sn=parseFloat(se.cantidad)||0,ri=parseFloat(se.precio)||0;return Kt+sn*ri},0);return{...St,items:Ct,total:Dt.toFixed(2)}})},Lt=async ft=>{ft.preventDefault(),w(!0),N("");try{if(!D.fecha.trim()||!D.cliente.trim()){N("Fecha y cliente son campos obligatorios");return}const St=D.items.filter(Dt=>Dt.kombuchaId&&Dt.cantidad>0);if(St.length===0){N("Debe agregar al menos un item con kombucha y cantidad");return}const Ct={fecha:D.fecha.trim(),cliente:D.cliente.trim(),items:St,total:parseFloat(D.total),estado:D.estado,fechaRegistro:l?l.fechaRegistro:ng(),fechaActualizacion:ng()};if(l)await Nf(va(Ne,"ventas",l.id),Ct),t(Dt=>Dt.map(Kt=>Kt.id===l.id?{...Kt,...Ct}:Kt)),u(null);else{const Dt=await Df(cn(Ne,"ventas"),Ct);t(Kt=>[...Kt,{id:Dt.id,...Ct}])}a(!1),gt()}catch(St){console.error("Error saving sale:",St),N("Error al guardar la venta")}finally{w(!1)}},P=ft=>{u(ft);let St=[];ft.items&&Array.isArray(ft.items)?St=ft.items:ft.kombucha&&(St=[{kombuchaId:ft.kombucha,cantidad:parseFloat(ft.cantidad)||1,precio:parseFloat(ft.precio)||0}]),St.length===0&&(St=[{kombuchaId:"",cantidad:1,precio:0}]);const Ct=St.reduce((Dt,Kt)=>{const se=parseFloat(Kt.cantidad)||0,sn=parseFloat(Kt.precio)||0;return Dt+se*sn},0);M({fecha:ft.fecha||"",cliente:ft.cliente||"",items:St,total:Ct.toFixed(2),estado:ft.estado||"pendiente"}),a(!0)},ut=async ft=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta venta?"))try{await jg(va(Ne,"ventas",ft)),t(St=>St.filter(Ct=>Ct.id!==ft))}catch(St){console.error("Error deleting sale:",St),N("Error al eliminar la venta")}},Tt=()=>{a(!1),u(null),gt()},gt=()=>{M({fecha:th(),cliente:"",items:[{kombuchaId:"",cantidad:1,precio:""}],total:"0.00",estado:"pendiente"})},xt=ft=>{const St=R.find(Ct=>Ct.id===ft);return St?St.nombre:"Kombucha no encontrada"},wt=ft=>{const St=$.find(Ct=>Ct.id===ft);return St?St.nombre:"Cliente no encontrado"},It=n.filter(ft=>Q?(ft.fecha?ft.fecha.slice(0,7):"")===Q:!0),De=()=>{const ft=It,St=ft.length,Ct=ft.reduce((se,sn)=>se+(parseFloat(sn.total)||0),0),Dt=ft.filter(se=>se.estado==="completada").length,Kt=ft.filter(se=>se.estado==="pendiente").length;return{totalSales:St,totalRevenue:Ct,completedSales:Dt,pendingSales:Kt}},it=()=>{const ft=It,St={};return ft.forEach(Ct=>{const Dt=Ct.cliente,Kt=wt(Dt);if(St[Dt]||(St[Dt]={clienteId:Dt,clienteName:Kt,totalPurchases:0,totalAmount:0,kombuchaCounts:{},lastPurchase:null}),Ct.items&&Array.isArray(Ct.items))Ct.items.forEach(se=>{const sn=xt(se.kombuchaId),ri=parseFloat(se.cantidad)||0;St[Dt].kombuchaCounts[sn]||(St[Dt].kombuchaCounts[sn]=0),St[Dt].kombuchaCounts[sn]+=ri,St[Dt].totalPurchases+=ri});else if(Ct.kombucha){const se=xt(Ct.kombucha),sn=parseFloat(Ct.cantidad)||0;St[Dt].kombuchaCounts[se]||(St[Dt].kombuchaCounts[se]=0),St[Dt].kombuchaCounts[se]+=sn,St[Dt].totalPurchases+=sn}St[Dt].totalAmount+=parseFloat(Ct.total)||0,(!St[Dt].lastPurchase||Ct.fecha>St[Dt].lastPurchase)&&(St[Dt].lastPurchase=Ct.fecha)}),Object.values(St).sort((Ct,Dt)=>Dt.totalPurchases-Ct.totalPurchases)},ht=De(),Pt=it(),te=[...It].sort((ft,St)=>{const Ct=ft[h],Dt=St[h];if(h==="precio"||h==="total"){const Kt=parseFloat(Ct)||0,se=parseFloat(Dt)||0;return g==="asc"?Kt-se:se-Kt}return Ct&&Dt?g==="asc"?Ct.toString().localeCompare(Dt.toString()):Dt.toString().localeCompare(Ct.toString()):0});return e?_.jsx("div",{className:"ventas-page",children:_.jsx("div",{className:"loading",children:"Cargando ventas..."})}):_.jsxs("div",{className:"ventas-page",children:[_.jsxs("div",{className:"ventas-header",children:[_.jsx("h1",{children:"Ventas"}),_.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[_.jsx("label",{style:{color:"#2d3748",fontWeight:"600",fontSize:"0.9rem"},children:"Filtrar por mes:"}),_.jsx("input",{type:"month",value:Q,onChange:ft=>Y(ft.target.value),style:{padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",backgroundColor:"white"}})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[_.jsx("button",{className:`view-toggle-btn ${K==="sales"?"active":""}`,onClick:()=>B("sales"),children:"Ventas"}),_.jsx("button",{className:`view-toggle-btn ${K==="clientSummary"?"active":""}`,onClick:()=>B("clientSummary"),children:"Resumen Clientes"})]}),_.jsx("button",{className:"add-venta-btn",onClick:()=>a(!0),children:"+ Nueva Venta"})]})]}),C&&_.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:C}),_.jsxs("div",{className:"ventas-content",children:[_.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f7fafc",borderBottom:"1px solid #e2e8f0",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[_.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Total Ventas"}),_.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#2d3748"},children:ht.totalSales})]}),_.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Ingresos Totales"}),_.jsxs("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#38a169"},children:["$",ht.totalRevenue.toFixed(2)]})]}),_.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Completadas"}),_.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#38a169"},children:ht.completedSales})]}),_.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#4a5568",fontSize:"0.9rem"},children:"Pendientes"}),_.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#d69e2e"},children:ht.pendingSales})]})]}),K==="clientSummary"&&_.jsxs("div",{style:{padding:"1.5rem"},children:[_.jsxs("h2",{style:{margin:"0 0 1.5rem 0",color:"#2d3748",fontSize:"1.5rem",fontWeight:"600",textAlign:"center"},children:["Resumen de Compras por Cliente - ",U_(Q)]}),Pt.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#718096",fontSize:"1.1rem"},children:["No hay compras registradas para ",U_(Q)]}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},children:Pt.map((ft,St)=>_.jsxs("div",{className:"client-summary-card",style:{backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"2px solid #f7fafc"},children:[_.jsxs("div",{children:[_.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#2d3748",fontSize:"1.2rem",fontWeight:"700"},children:ft.clienteName}),_.jsxs("p",{style:{margin:0,color:"#718096",fontSize:"0.9rem"},children:["Última compra: ",ft.lastPurchase||"N/A"]})]}),_.jsxs("div",{style:{textAlign:"right"},children:[_.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#38a169",marginBottom:"0.25rem"},children:ft.totalPurchases}),_.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Kombuchas"})]})]}),_.jsx("div",{style:{marginBottom:"1rem"},children:_.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#2d3748",marginBottom:"0.75rem"},children:["Total Gastado: $",ft.totalAmount.toFixed(2)]})}),_.jsxs("div",{children:[_.jsx("h4",{style:{margin:"0 0 0.75rem 0",color:"#4a5568",fontSize:"0.95rem",fontWeight:"600"},children:"Detalle por Tipo:"}),_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Object.entries(ft.kombuchaCounts).map(([Ct,Dt])=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:"#f7fafc",borderRadius:"6px",fontSize:"0.9rem"},children:[_.jsx("span",{style:{color:"#2d3748",fontWeight:"500"},children:Ct}),_.jsx("span",{style:{color:"#38a169",fontWeight:"600",fontSize:"1rem"},children:Dt})]},Ct))})]})]},ft.clienteId))})]}),K==="sales"&&_.jsx(_.Fragment,{children:te.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsxs("p",{children:["No hay ventas registradas para ",U_(Q)]}),_.jsx("button",{className:"add-venta-btn",onClick:()=>a(!0),children:"+ Nueva Venta"})]}):_.jsx("div",{className:"ventas-table-container",children:_.jsxs("table",{className:"ventas-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{className:"sortable",onClick:()=>U("fecha"),children:["Fecha ",Rt("fecha")]}),_.jsxs("th",{className:"sortable",onClick:()=>U("cliente"),children:["Cliente ",Rt("cliente")]}),_.jsx("th",{children:"Items"}),_.jsxs("th",{className:"sortable",onClick:()=>U("total"),children:["Total ",Rt("total")]}),_.jsxs("th",{className:"sortable",onClick:()=>U("estado"),children:["Estado ",Rt("estado")]}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:te.map(ft=>_.jsxs("tr",{children:[_.jsx("td",{children:ft.fecha}),_.jsx("td",{children:wt(ft.cliente)}),_.jsx("td",{children:ft.items&&Array.isArray(ft.items)?_.jsx("div",{style:{maxWidth:"300px"},children:ft.items.map((St,Ct)=>_.jsxs("div",{style:{marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"#f7fafc",borderRadius:"4px",fontSize:"0.85rem"},children:[_.jsx("strong",{children:xt(St.kombuchaId)}),_.jsx("br",{}),"Cantidad: ",St.cantidad," × $",St.precio?.toFixed(2)||"0.00"]},Ct))}):_.jsx("div",{children:ft.kombucha&&_.jsxs("div",{style:{padding:"0.5rem",backgroundColor:"#f7fafc",borderRadius:"4px",fontSize:"0.85rem"},children:[_.jsx("strong",{children:xt(ft.kombucha)}),_.jsx("br",{}),"Cantidad: ",ft.cantidad," × $",ft.precio?.toFixed(2)||"0.00"]})})}),_.jsxs("td",{className:"total-cell",children:["$",ft.total?.toFixed(2)||"0.00"]}),_.jsx("td",{children:_.jsx("span",{className:`status-badge status-${ft.estado}`,children:ft.estado})}),_.jsx("td",{children:_.jsxs("div",{className:"actions",children:[_.jsx("button",{className:"edit-btn",onClick:()=>P(ft),children:"Editar"}),_.jsx("button",{className:"delete-btn",onClick:()=>ut(ft.id),children:"Eliminar"})]})})]},ft.id))})]})})})]}),s&&_.jsx("div",{className:"form-overlay",children:_.jsxs("div",{className:"form-container",children:[_.jsx("h2",{children:l?"Editar Venta":"Nueva Venta"}),C&&_.jsx("div",{className:"error-message",style:{background:"#fed7d7",color:"#c53030",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem"},children:C}),_.jsxs("form",{onSubmit:Lt,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"fecha",children:"Fecha *"}),_.jsx("input",{type:"date",id:"fecha",name:"fecha",value:D.fecha,onChange:vt,required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),_.jsxs("select",{id:"cliente",name:"cliente",value:D.cliente,onChange:vt,required:!0,children:[_.jsx("option",{value:"",children:"Selecciona un cliente"}),$.map(ft=>_.jsx("option",{value:ft.id,children:ft.nombre},ft.id))]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Productos de la Venta *"}),_.jsx("div",{style:{marginBottom:"1rem"},children:_.jsx("button",{type:"button",onClick:ot,style:{background:"#4299e1",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.9rem"},children:"+ Agregar Producto"})}),D.items.map((ft,St)=>_.jsxs("div",{style:{border:"1px solid #667eea",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",backgroundColor:"rgb(102, 126, 234)",color:"white"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsxs("h4",{style:{color:"white",margin:0},children:["Producto ",St+1]}),D.items.length>1&&_.jsx("button",{type:"button",onClick:()=>Et(St),style:{background:"#f56565",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"3px",cursor:"pointer",fontSize:"0.8rem"},children:"Eliminar"})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[_.jsxs("div",{children:[_.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Kombucha *"}),_.jsxs("select",{value:ft.kombuchaId,onChange:Ct=>W(St,"kombuchaId",Ct.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0,children:[_.jsx("option",{value:"",children:"Selecciona una kombucha"}),R.map(Ct=>_.jsxs("option",{value:Ct.id,children:[Ct.nombre," - $",Ct.precio?.toFixed(2)||"0.00"]},Ct.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Cantidad *"}),_.jsx("input",{type:"number",value:ft.cantidad,onChange:Ct=>W(St,"cantidad",Ct.target.value),min:"1",style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"white",color:"#2d3748"},required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",display:"block"},children:"Precio *"}),_.jsx("input",{type:"number",value:ft.precio,readOnly:!0,style:{width:"100%",padding:"0.5rem",border:"2px solid #667eea",borderRadius:"5px",backgroundColor:"#f7fafc",color:"#4a5568",cursor:"not-allowed"}}),_.jsx("small",{style:{color:"white",fontSize:"0.7rem"},children:"Precio automático del producto"})]})]}),_.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"5px",textAlign:"center"},children:_.jsxs("strong",{style:{color:"white"},children:["Subtotal: $",((parseFloat(ft.cantidad)||0)*(parseFloat(ft.precio)||0)).toFixed(2)]})})]},St))]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"total",children:"Total *"}),_.jsx("input",{type:"number",id:"total",name:"total",value:D.total,readOnly:!0,style:{backgroundColor:"#f7fafc",color:"#4a5568",cursor:"not-allowed",fontSize:"1.2rem",fontWeight:"bold"}}),_.jsx("small",{style:{color:"white",fontSize:"0.8rem"},children:"Calculado automáticamente (suma de todos los productos)"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"estado",children:"Estado *"}),_.jsxs("select",{id:"estado",name:"estado",value:D.estado,onChange:vt,required:!0,children:[_.jsx("option",{value:"pendiente",children:"Pendiente"}),_.jsx("option",{value:"completada",children:"Completada"})]})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",className:"cancel-btn",onClick:Tt,disabled:E,children:"Cancelar"}),_.jsx("button",{type:"submit",className:"save-btn",disabled:E,children:E?"Guardando...":l?"Actualizar":"Guardar"})]})]})]})})]})},yH=()=>{const[n,t]=k.useState([]),[e,i]=k.useState([]),[s,a]=k.useState(!0),[l,u]=k.useState(!1),[h,f]=k.useState(null),[g,b]=k.useState("nombre"),[E,w]=k.useState("asc"),[C,N]=k.useState(!1),[R,L]=k.useState(""),[$,G]=k.useState([]),[Q,Y]=k.useState(""),[K,B]=k.useState(!1),[D,M]=k.useState(null),[z,H]=k.useState({nombre:"",notas:"",clientes:[]}),V=async()=>{try{a(!0);const Pt=(await si(cn(Ne,"rutas"))).docs.map(te=>({id:te.id,...te.data()}));t(Pt)}catch(ht){console.error("Error fetching routes:",ht),L("Error al cargar las rutas")}finally{a(!1)}},U=async()=>{try{const Pt=(await si(cn(Ne,"clientes"))).docs.map(te=>({id:te.id,...te.data()}));i(Pt)}catch(ht){console.error("Error fetching clients:",ht)}};k.useEffect(()=>{V(),U()},[]);const Rt=ht=>{b(ht),w(E==="asc"?"desc":"asc")},vt=ht=>g===ht?E==="asc"?"▲":"▼":"",W=ht=>{const{name:Pt,value:te}=ht.target;H(ft=>({...ft,[Pt]:te}))},ot=ht=>{G(Pt=>Pt.includes(ht)?Pt.filter(te=>te!==ht):[...Pt,ht])},Et=e.filter(ht=>ht.nombre.toLowerCase().includes(Q.toLowerCase())||ht.direccion.toLowerCase().includes(Q.toLowerCase())),Lt=async ht=>{if(ht.preventDefault(),!z.nombre.trim()){L("El nombre de la ruta es requerido");return}if($.length===0){L("Debe seleccionar al menos un cliente");return}N(!0),L("");try{const Pt={...z,clientes:$,fechaCreacion:th()};h?await Nf(va(Ne,"rutas",h.id),Pt):await Df(cn(Ne,"rutas"),Pt),u(!1),f(null),wt(),V()}catch(Pt){console.error("Error saving route:",Pt),L("Error al guardar la ruta")}finally{N(!1)}},P=ht=>{f(ht),H({nombre:ht.nombre,notas:ht.notas||"",clientes:ht.clientes||[]}),G(ht.clientes||[]),u(!0)},ut=async ht=>{if(window.confirm("¿Está seguro de que desea eliminar esta ruta?"))try{await jg(va(Ne,"rutas",ht)),V()}catch(Pt){console.error("Error deleting route:",Pt),L("Error al eliminar la ruta")}},Tt=()=>{u(!1),f(null),wt()},gt=ht=>{M(ht),B(!0)},xt=()=>{B(!1),M(null)},wt=()=>{H({nombre:"",notas:"",clientes:[]}),G([]),Y(""),L("")},It=ht=>{const Pt=e.find(te=>te.id===ht);return Pt?Pt.nombre:"Cliente no encontrado"},De=ht=>{const Pt=e.find(te=>te.id===ht);return Pt?Pt.direccion:"Dirección no encontrada"},it=[...n].sort((ht,Pt)=>{let te=ht[g]||"",ft=Pt[g]||"";return typeof te=="string"&&(te=te.toLowerCase(),ft=ft.toLowerCase()),E==="asc"?te>ft?1:-1:te<ft?1:-1});return s?_.jsx("div",{className:"loading",children:"Cargando rutas..."}):_.jsxs("div",{className:"ruta-page",children:[_.jsxs("div",{className:"ruta-header",children:[_.jsx("h1",{children:"Gestión de Rutas de Entrega"}),_.jsx("button",{className:"add-ruta-btn",onClick:()=>u(!0),children:"Crear Nueva Ruta"})]}),R&&_.jsx("div",{className:"error-message",children:R}),l&&_.jsx("div",{className:"form-overlay",children:_.jsxs("div",{className:"form-container",children:[_.jsx("h2",{children:h?"Editar Ruta":"Crear Nueva Ruta"}),_.jsxs("form",{onSubmit:Lt,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"nombre",children:"Nombre de la Ruta *"}),_.jsx("input",{type:"text",id:"nombre",name:"nombre",value:z.nombre,onChange:W,required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"notas",children:"Notas"}),_.jsx("textarea",{id:"notas",name:"notas",value:z.notas,onChange:W,rows:"3"})]}),_.jsxs("div",{className:"clientes-selection",children:[_.jsx("h3",{children:"Seleccionar Clientes"}),_.jsx("div",{className:"search-container",children:_.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:Q,onChange:ht=>Y(ht.target.value),className:"search-input"})}),_.jsx("div",{className:"clientes-list",children:Et.map(ht=>_.jsxs("div",{className:`cliente-item ${$.includes(ht.id)?"selected":""}`,onClick:()=>ot(ht.id),children:[_.jsx("input",{type:"checkbox",checked:$.includes(ht.id),onChange:Pt=>{Pt.stopPropagation(),ot(ht.id)},onClick:Pt=>Pt.stopPropagation()}),_.jsxs("div",{className:"cliente-info",children:[_.jsx("strong",{children:ht.nombre}),_.jsx("span",{children:ht.direccion})]})]},ht.id))}),$.length>0&&_.jsxs("div",{className:"selected-clients",children:[_.jsxs("h4",{children:["Clientes Seleccionados (",$.length,")"]}),_.jsx("div",{className:"selected-list",children:$.map((ht,Pt)=>_.jsxs("div",{className:"ordered-client",children:[_.jsx("span",{className:"order-number",children:Pt+1}),_.jsx("span",{children:It(ht)}),_.jsx("span",{className:"address",children:De(ht)})]},ht))})]}),$.length>0&&_.jsxs("div",{className:"map-section",children:[_.jsx("h4",{children:"Vista del Mapa"}),(()=>{const ht=$.map(Pt=>e.find(ft=>ft.id===Pt)).filter(Pt=>Pt&&Pt.direccionCoords);return ht.length>0?_.jsx("div",{className:"map-container",children:_.jsx(Zv,{clientes:ht})}):_.jsxs("div",{className:"no-coordinates-message",children:[_.jsx("p",{children:"Los clientes seleccionados no tienen coordenadas de ubicación configuradas."}),_.jsx("p",{children:"Para ver la ubicación en el mapa, asegúrate de que los clientes tengan su dirección configurada correctamente."})]})})()]})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",className:"cancel-btn",onClick:Tt,children:"Cancelar"}),_.jsx("button",{type:"submit",className:"save-btn",disabled:C,children:C?"Guardando...":h?"Actualizar":"Crear"})]})]})]})}),K&&D&&_.jsx("div",{className:"form-overlay",children:_.jsxs("div",{className:"route-map-modal",children:[_.jsxs("div",{className:"modal-header",children:[_.jsxs("h2",{children:["Mapa de la Ruta: ",D.nombre]}),_.jsx("button",{className:"close-btn",onClick:xt,children:"×"})]}),_.jsx("div",{className:"map-view",children:(()=>{const ht=D.clientes.map(Pt=>e.find(ft=>ft.id===Pt)).filter(Pt=>Pt&&Pt.direccionCoords);return ht.length>0?_.jsx("div",{className:"route-map-container",children:_.jsx(Zv,{clientes:ht})}):_.jsxs("div",{className:"no-coordinates-message",children:[_.jsx("p",{children:"Esta ruta no tiene clientes con coordenadas de ubicación configuradas."}),_.jsx("p",{children:"Para ver la ubicación en el mapa, asegúrate de que los clientes tengan su dirección configurada correctamente."})]})})()})]})}),_.jsxs("div",{className:"ruta-content",children:[_.jsx("div",{className:"table-container",children:_.jsxs("table",{className:"rutas-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>Rt("nombre"),children:["Nombre ",vt("nombre")]}),_.jsx("th",{children:"Clientes"}),_.jsxs("th",{onClick:()=>Rt("fechaCreacion"),children:["Fecha Creación ",vt("fechaCreacion")]}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:it.map(ht=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsxs("div",{className:"ruta-name",children:[_.jsx("strong",{children:ht.nombre}),ht.notas&&_.jsx("span",{className:"description",children:ht.notas})]})}),_.jsxs("td",{children:[_.jsxs("div",{className:"clientes-count",children:[ht.clientes?.length||0," clientes"]}),ht.clientes&&ht.clientes.length>0&&_.jsxs("div",{className:"route-preview",children:[ht.clientes.slice(0,3).map((Pt,te)=>_.jsxs("span",{className:"route-step",children:[te+1,". ",It(Pt)]},Pt)),ht.clientes.length>3&&_.jsxs("span",{className:"more-clients",children:["+",ht.clientes.length-3," más"]})]})]}),_.jsx("td",{children:ht.fechaCreacion}),_.jsx("td",{children:_.jsxs("div",{className:"actions",children:[_.jsx("button",{className:"view-btn",onClick:()=>gt(ht),children:"Ver Mapa"}),_.jsx("button",{className:"edit-btn",onClick:()=>P(ht),children:"Editar"}),_.jsx("button",{className:"delete-btn",onClick:()=>ut(ht.id),children:"Eliminar"})]})})]},ht.id))})]})}),it.length===0&&_.jsx("div",{className:"empty-state",children:_.jsx("p",{children:"No hay rutas creadas. Crea tu primera ruta para comenzar."})})]})]})},_H=({notifications:n,sales:t,onDateClick:e,onReminderClick:i,onSaleClick:s})=>{const[a,l]=k.useState(new Date),[u,h]=k.useState([]),[f,g]=k.useState({}),[b,E]=k.useState({});k.useEffect(()=>{const K=a.getFullYear(),B=a.getMonth(),D=new Date(K,B,1),M=new Date(K,B+1,0),z=new Date(D);z.setDate(z.getDate()-D.getDay());const H=[],V=new Date(z);for(;V<=M||H.length<42;)H.push(new Date(V)),V.setDate(V.getDate()+1);h(H)},[a]),k.useEffect(()=>{const K={};n.filter(D=>D.status==="pending").forEach(D=>{const M=D.reminderDate;K[M]||(K[M]=[]),K[M].push(D)}),g(K)},[n]),k.useEffect(()=>{const K={};t&&t.length>0&&t.forEach(B=>{const D=B.fecha?B.fecha.split("T")[0]:null;D&&(K[D]||(K[D]=[]),K[D].push(B))}),E(K)},[t]);const w=K=>{l(B=>{const D=new Date(B);return D.setMonth(D.getMonth()+K),D})},C=K=>K.toLocaleDateString("es-ES",{month:"long",year:"numeric",timeZone:"America/Mexico_City"}),N=K=>{const B=new Date;return K.toDateString()===B.toDateString()},R=K=>K.getMonth()===a.getMonth(),L=K=>K.toISOString().split("T")[0],$=K=>{switch(Rp(K)){case"high":return"#e74c3c";case"medium":return"#f39c12";case"low":return"#27ae60";default:return"#95a5a6"}},G=K=>{const B=L(K),D=f[B]||[];e(K,D)},Q=K=>{i(K)},Y=K=>{s(K)};return _.jsxs("div",{className:"reminder-calendar",children:[_.jsxs("div",{className:"calendar-header",children:[_.jsx("button",{className:"calendar-nav-btn",onClick:()=>w(-1),children:"‹"}),_.jsx("h3",{className:"calendar-title",children:C(a)}),_.jsx("button",{className:"calendar-nav-btn",onClick:()=>w(1),children:"›"})]}),_.jsxs("div",{className:"calendar-grid",children:[["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"].map(K=>_.jsx("div",{className:"calendar-day-header",children:K},K)),u.map((K,B)=>{const D=L(K),M=f[D]||[],z=b[D]||[],H=N(K),V=R(K);return _.jsxs("div",{className:`calendar-day ${H?"today":""} ${V?"":"other-month"}`,onClick:()=>G(K),children:[_.jsx("div",{className:"day-number",children:K.getDate()}),M.length>0&&_.jsxs("div",{className:"reminders-indicator",children:[M.map((U,Rt)=>_.jsxs("div",{className:"reminder-item",children:[_.jsx("div",{className:"reminder-dot",style:{backgroundColor:$(U)},onClick:vt=>{vt.stopPropagation(),Q(U)},title:`${U.customerName} - ${U.isDue?`${U.daysOverdue} días vencido`:`${U.daysUntilDue} días restantes`}`}),_.jsx("span",{className:"customer-name-tooltip",children:U.customerName})]},U.notificationId)),M.length>3&&_.jsxs("div",{className:"more-reminders",children:["+",M.length-3]})]}),z.length>0&&_.jsxs("div",{className:"sales-indicator",children:[z.map((U,Rt)=>_.jsxs("div",{className:"sale-item",children:[_.jsx("div",{className:"sale-dot",style:{backgroundColor:(()=>{const vt=U.estado==="completada"||U.estado==="completed"||U.estado==="Completado";return console.log(`Sale ${U.id} estado: "${U.estado}", isCompleted: ${vt}`),vt?"#007bff":"#6f42c1"})()},onClick:vt=>{vt.stopPropagation(),Y(U)},title:`Venta ${U.id} - ${U.estado||"pendiente"} - $${parseFloat(U.total||0).toFixed(2)}`}),_.jsxs("span",{className:"sale-info-tooltip",children:["Venta $",parseFloat(U.total||0).toFixed(2)]})]},U.id)),z.length>3&&_.jsxs("div",{className:"more-sales",children:["+",z.length-3]})]})]},B)})]}),_.jsxs("div",{className:"calendar-legend",children:[_.jsxs("div",{className:"legend-item",children:[_.jsx("div",{className:"legend-dot high-priority"}),_.jsx("span",{children:"Alta prioridad"})]}),_.jsxs("div",{className:"legend-item",children:[_.jsx("div",{className:"legend-dot medium-priority"}),_.jsx("span",{children:"Media prioridad"})]}),_.jsxs("div",{className:"legend-item",children:[_.jsx("div",{className:"legend-dot low-priority"}),_.jsx("span",{children:"Baja prioridad"})]}),_.jsxs("div",{className:"legend-item",children:[_.jsx("div",{className:"legend-dot completed-sale"}),_.jsx("span",{children:"Venta completada"})]}),_.jsxs("div",{className:"legend-item",children:[_.jsx("div",{className:"legend-dot pending-sale"}),_.jsx("span",{children:"Venta pendiente"})]})]})]})},NA=()=>{const[n,t]=k.useState([]),[e,i]=k.useState(!0),[s,a]=k.useState("all"),[l,u]=k.useState({}),[h,f]=k.useState(null),[g,b]=k.useState(!1),[E,w]=k.useState(""),[C,N]=k.useState(!0),[R,L]=k.useState(null),[$,G]=k.useState([]),[Q,Y]=k.useState([]),[K,B]=k.useState([]),[D,M]=k.useState([]),[z,H]=k.useState(!1),[V,U]=k.useState(null),Rt=async()=>{try{i(!0);const[it,ht,Pt]=await Promise.all([si(cn(Ne,"ventas")),si(cn(Ne,"clientes")),si(cn(Ne,"notifications"))]),te=it.docs.map(Kt=>({id:Kt.id,...Kt.data()})),ft=ht.docs.map(Kt=>({id:Kt.id,...Kt.data()})),St={};Pt.docs.forEach(Kt=>{const se=Kt.data();St[se.notificationId]=se.status});const Dt=e0(te,ft).map(Kt=>({...Kt,status:St[Kt.notificationId]||"pending"}));t(Dt),u(ig(Dt)),B(te),M(ft)}catch(it){console.error("Error fetching notifications:",it)}finally{i(!1)}};k.useEffect(()=>{Rt()},[]);const vt=async(it,ht,Pt="")=>{try{const te={notificationId:it,status:ht,notes:Pt,updatedAt:new Date().toISOString(),updatedBy:"user"},St=(await si(cn(Ne,"notifications"))).docs.find(Ct=>Ct.data().notificationId===it);St?await Nf(va(Ne,"notifications",St.id),te):await Df(cn(Ne,"notifications"),te),t(Ct=>Ct.map(Dt=>Dt.notificationId===it?{...Dt,status:ht,notes:Pt}:Dt)),u(ig(n))}catch(te){console.error("Error saving notification status:",te)}},W=it=>{f(it),w(""),b(!0)},ot=async()=>{h&&(await vt(h.notificationId,"contacted",E),b(!1),f(null),w(""))},Et=async it=>{await vt(it,"dismissed")},Lt=async it=>{await vt(it,"pending")},P=(it,ht)=>{L(it),G(ht),a("all")},ut=it=>{f(it),w(""),b(!0)},Tt=it=>{U(it),H(!0)},gt=it=>{const ht=D.find(Pt=>Pt.id===it);return ht?ht.nombre:"Cliente no encontrado"},xt=()=>{let it=n;switch(R&&(R.toISOString().split("T")[0],it=$),s){case"pending":return it.filter(ht=>ht.status==="pending");case"overdue":return it.filter(ht=>ht.status==="pending"&&ht.isDue);case"upcoming":return it.filter(ht=>ht.status==="pending"&&!ht.isDue);case"contacted":return it.filter(ht=>ht.status==="contacted");case"dismissed":return it.filter(ht=>ht.status==="dismissed");default:return it}},wt=it=>`priority-${Rp(it)}`,It=it=>{switch(it){case"pending":return"⏳";case"contacted":return"✅";case"dismissed":return"❌";default:return"📋"}};if(e)return _.jsx("div",{className:"recordatorios-page",children:_.jsx("div",{className:"loading",children:"Cargando recordatorios..."})});const De=xt();return _.jsxs("div",{className:"recordatorios-page",children:[_.jsxs("div",{className:"recordatorios-header",children:[_.jsx("h1",{children:"Recordatorios de Clientes"}),_.jsxs("div",{className:"stats-summary",children:[_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-number",children:l.pending}),_.jsx("span",{className:"stat-label",children:"Pendientes"})]}),_.jsxs("div",{className:"stat-item overdue",children:[_.jsx("span",{className:"stat-number",children:l.overdue}),_.jsx("span",{className:"stat-label",children:"Vencidos"})]}),_.jsxs("div",{className:"stat-item upcoming",children:[_.jsx("span",{className:"stat-number",children:l.upcoming}),_.jsx("span",{className:"stat-label",children:"Próximos"})]})]})]}),_.jsxs("div",{className:"view-controls",children:[_.jsxs("div",{className:"view-toggle",children:[_.jsx("button",{className:`view-btn ${C?"active":""}`,onClick:()=>N(!0),children:"📅 Vista Calendario"}),_.jsx("button",{className:`view-btn ${C?"":"active"}`,onClick:()=>N(!1),children:"📋 Vista Lista"})]}),R&&_.jsxs("div",{className:"selected-date-info",children:[_.jsxs("span",{children:[_l(R.toISOString().split("T")[0])," -",$.length," recordatorios"]}),_.jsx("button",{className:"clear-date-btn",onClick:()=>{L(null),G([])},children:"✕ Limpiar"})]})]}),C&&_.jsx(_H,{notifications:n,sales:K,onDateClick:P,onReminderClick:ut,onSaleClick:Tt}),_.jsxs("div",{className:"filter-controls",children:[_.jsxs("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>a("all"),children:["Todos (",l.total,")"]}),_.jsxs("button",{className:`filter-btn ${s==="pending"?"active":""}`,onClick:()=>a("pending"),children:["Pendientes (",l.pending,")"]}),_.jsxs("button",{className:`filter-btn ${s==="overdue"?"active":""}`,onClick:()=>a("overdue"),children:["Vencidos (",l.overdue,")"]}),_.jsxs("button",{className:`filter-btn ${s==="upcoming"?"active":""}`,onClick:()=>a("upcoming"),children:["Próximos (",l.upcoming,")"]}),_.jsxs("button",{className:`filter-btn ${s==="contacted"?"active":""}`,onClick:()=>a("contacted"),children:["Contactados (",l.contacted,")"]}),_.jsxs("button",{className:`filter-btn ${s==="dismissed"?"active":""}`,onClick:()=>a("dismissed"),children:["Descartados (",l.dismissed,")"]})]}),_.jsx("div",{className:"notifications-content",children:De.length===0?_.jsx("div",{className:"empty-state",children:_.jsx("p",{children:"No hay recordatorios para mostrar"})}):_.jsx("div",{className:"notifications-grid",children:De.map(it=>_.jsxs("div",{className:`notification-card ${wt(it)} ${it.status}`,children:[_.jsxs("div",{className:"notification-header",children:[_.jsxs("div",{className:"customer-info",children:[_.jsx("h3",{children:it.customerName}),_.jsxs("div",{className:"status-badge",children:[It(it.status),it.status==="pending"&&it.isDue?"Vencido":it.status==="pending"?"Pendiente":it.status==="contacted"?"Contactado":"Descartado"]})]}),_.jsx("div",{className:"priority-indicator",children:Rp(it)==="high"?"🔴":Rp(it)==="medium"?"🟡":"🟢"})]}),_.jsxs("div",{className:"notification-details",children:[_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"label",children:"Última compra:"}),_.jsx("span",{className:"value",children:_l(it.lastSaleDate)})]}),_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"label",children:"Kombuchas:"}),_.jsx("span",{className:"value text-center",children:it.totalKombuchas})]}),_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"label",children:"Días de espera:"}),_.jsx("span",{className:"value",children:it.daysToWait})]}),_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"label",children:"Fecha recordatorio:"}),_.jsx("span",{className:"value",children:_l(it.reminderDate)})]}),it.isDue&&_.jsxs("div",{className:"detail-row overdue",children:[_.jsx("span",{className:"label",children:"Días de retraso:"}),_.jsx("span",{className:"value",children:it.daysOverdue})]}),!it.isDue&&_.jsxs("div",{className:"detail-row upcoming",children:[_.jsx("span",{className:"label",children:"Días restantes:"}),_.jsx("span",{className:"value",children:it.daysUntilDue})]}),it.customerPhone&&_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"label",children:"Teléfono:"}),_.jsx("span",{className:"value",children:it.customerPhone})]}),it.customerAddress&&_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"label",children:"Dirección:"}),_.jsx("span",{className:"value",children:it.customerAddress})]})]}),_.jsx("div",{className:"notification-message",children:z1(it)}),it.notes&&_.jsxs("div",{className:"notification-notes",children:[_.jsx("strong",{children:"Notas:"})," ",it.notes]}),_.jsxs("div",{className:"notification-actions",children:[it.status==="pending"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"action-btn contact-btn",onClick:()=>W(it),children:"📞 Contactar"}),_.jsx("button",{className:"action-btn dismiss-btn",onClick:()=>Et(it.notificationId),children:"❌ Descartar"})]}),it.status==="contacted"&&_.jsx("button",{className:"action-btn reset-btn",onClick:()=>Lt(it.notificationId),children:"🔄 Reactivar"}),it.status==="dismissed"&&_.jsx("button",{className:"action-btn reset-btn",onClick:()=>Lt(it.notificationId),children:"🔄 Reactivar"})]})]},it.notificationId))})}),g&&h&&_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h2",{children:"Contactar Cliente"}),_.jsxs("div",{className:"customer-summary",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Cliente:"})," ",h.customerName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Teléfono:"})," ",h.customerPhone||"No disponible"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Última compra:"})," ",_l(h.lastSaleDate)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Kombuchas compradas:"})," ",h.totalKombuchas]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"contactNotes",children:"Notas del contacto:"}),_.jsx("textarea",{id:"contactNotes",value:E,onChange:it=>w(it.target.value),placeholder:"Describe el resultado del contacto...",rows:"4"})]}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{className:"cancel-btn",onClick:()=>b(!1),children:"Cancelar"}),_.jsx("button",{className:"submit-btn",onClick:ot,children:"Marcar como Contactado"})]})]})}),z&&V&&_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h2",{children:"Detalles de Venta"}),_.jsxs("div",{className:"sale-summary",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"ID de Venta:"})," ",V.id]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Fecha:"})," ",_l(V.fecha)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Total:"})," $",parseFloat(V.total||0).toFixed(2)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Estado:"})," ",V.estado||"Pendiente"]}),V.cliente&&_.jsxs("p",{children:[_.jsx("strong",{children:"Cliente:"})," ",gt(V.cliente)]})]}),V.items&&V.items.length>0&&_.jsxs("div",{className:"sale-items",children:[_.jsx("h3",{children:"Productos Vendidos"}),_.jsx("div",{className:"items-list",children:V.items.map((it,ht)=>_.jsxs("div",{className:"item-row",children:[_.jsxs("span",{className:"item-name",children:["Producto ",ht+1]}),_.jsxs("span",{className:"item-quantity",children:["Cantidad: ",it.cantidad]}),_.jsxs("span",{className:"item-price",children:["Precio: $",parseFloat(it.precio||0).toFixed(2)]})]},ht))})]}),_.jsx("div",{className:"modal-actions",children:_.jsx("button",{className:"cancel-btn",onClick:()=>H(!1),children:"Cerrar"})})]})})]})},vH=()=>{const[n,t]=k.useState(""),[e,i]=k.useState(""),[s,a]=k.useState(""),[l,u]=k.useState(!1),h=Ef(),f=async g=>{g.preventDefault(),a(""),u(!0);try{await D4(Vv,n,e),h("/KombuchaApp")}catch(b){switch(console.error("Login error:",b),b.code){case"auth/user-not-found":a("Usuario no encontrado. Contacte al administrador.");break;case"auth/wrong-password":a("Contraseña incorrecta.");break;case"auth/invalid-email":a("Email inválido.");break;case"auth/too-many-requests":a("Demasiados intentos fallidos. Intente más tarde.");break;default:a("Error al iniciar sesión. Intente nuevamente.")}}finally{u(!1)}};return _.jsx("div",{className:"login-container",children:_.jsxs("div",{className:"login-card",children:[_.jsxs("div",{className:"login-header",children:[_.jsx("h1",{children:"Kombucha App"}),_.jsx("p",{children:"Iniciar Sesión"})]}),_.jsxs("form",{onSubmit:f,className:"login-form",children:[s&&_.jsx("div",{className:"error-message",children:s}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"email",children:"Email"}),_.jsx("input",{type:"email",id:"email",value:n,onChange:g=>t(g.target.value),required:!0,disabled:l,placeholder:"Ingrese su email"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"password",children:"Contraseña"}),_.jsx("input",{type:"password",id:"password",value:e,onChange:g=>i(g.target.value),required:!0,disabled:l,placeholder:"Ingrese su contraseña"})]}),_.jsx("button",{type:"submit",className:"login-button",disabled:l,children:l?"Iniciando sesión...":"Iniciar Sesión"})]}),_.jsxs("div",{className:"login-footer",children:[_.jsx("p",{children:"Esta es una aplicación privada. Solo usuarios autorizados pueden acceder."}),_.jsx("p",{children:"Para solicitar acceso, contacte al administrador."})]})]})})},sa=({children:n})=>{const{user:t,loading:e}=_N();return e?_.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",color:"#666"},children:"Cargando..."}):t?n:_.jsx(Mk,{to:"/login",replace:!0})},Jv=k.forwardRef(({bsPrefix:n,bg:t="primary",pill:e=!1,text:i,className:s,as:a="span",...l},u)=>{const h=Ye(n,"badge");return _.jsx(a,{ref:u,...l,className:Oe(s,h,e&&"rounded-pill",i&&`text-${i}`,t&&`bg-${t}`)})});Jv.displayName="Badge";const R0=k.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=Ye(t,"card-body"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));R0.displayName="CardBody";const vN=k.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=Ye(t,"card-footer"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));vN.displayName="CardFooter";const bN=k.forwardRef(({bsPrefix:n,className:t,as:e="div",...i},s)=>{const a=Ye(n,"card-header"),l=k.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return _.jsx(E0.Provider,{value:l,children:_.jsx(e,{ref:s,...i,className:Oe(t,a)})})});bN.displayName="CardHeader";const EN=k.forwardRef(({bsPrefix:n,className:t,variant:e,as:i="img",...s},a)=>{const l=Ye(n,"card-img");return _.jsx(i,{ref:a,className:Oe(e?`${l}-${e}`:l,t),...s})});EN.displayName="CardImg";const TN=k.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},s)=>(t=Ye(t,"card-img-overlay"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));TN.displayName="CardImgOverlay";const xN=k.forwardRef(({className:n,bsPrefix:t,as:e="a",...i},s)=>(t=Ye(t,"card-link"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));xN.displayName="CardLink";const bH=C0("h6"),wN=k.forwardRef(({className:n,bsPrefix:t,as:e=bH,...i},s)=>(t=Ye(t,"card-subtitle"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));wN.displayName="CardSubtitle";const SN=k.forwardRef(({className:n,bsPrefix:t,as:e="p",...i},s)=>(t=Ye(t,"card-text"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));SN.displayName="CardText";const EH=C0("h5"),AN=k.forwardRef(({className:n,bsPrefix:t,as:e=EH,...i},s)=>(t=Ye(t,"card-title"),_.jsx(e,{ref:s,className:Oe(n,t),...i})));AN.displayName="CardTitle";const CN=k.forwardRef(({bsPrefix:n,className:t,bg:e,text:i,border:s,body:a=!1,children:l,as:u="div",...h},f)=>{const g=Ye(n,"card");return _.jsx(u,{ref:f,...h,className:Oe(t,g,e&&`bg-${e}`,i&&`text-${i}`,s&&`border-${s}`),children:a?_.jsx(R0,{children:l}):l})});CN.displayName="Card";const Od=Object.assign(CN,{Img:EN,Title:AN,Subtitle:wN,Body:R0,Link:xN,Text:SN,Header:bN,Footer:vN,ImgOverlay:TN}),RN=k.forwardRef(({bsPrefix:n,className:t,striped:e,bordered:i,borderless:s,hover:a,size:l,variant:u,responsive:h,...f},g)=>{const b=Ye(n,"table"),E=Oe(t,b,u&&`${b}-${u}`,l&&`${b}-${l}`,e&&`${b}-${typeof e=="string"?`striped-${e}`:"striped"}`,i&&`${b}-bordered`,s&&`${b}-borderless`,a&&`${b}-hover`),w=_.jsx("table",{...f,className:E,ref:g});if(h){let C=`${b}-responsive`;return typeof h=="string"&&(C=`${C}-${h}`),_.jsx("div",{className:C,children:w})}return w});RN.displayName="Table";const TH=()=>{const[n,t]=k.useState([]),[e,i]=k.useState(!0),[s,a]=k.useState("");return k.useEffect(()=>{(async()=>{try{i(!0);const u=cn(Ne,"users"),f=(await si(u)).docs.map(g=>({id:g.id,...g.data()}));t(f)}catch(u){console.error("Error fetching users:",u),a("Error al cargar usuarios")}finally{i(!1)}})()},[]),e?_.jsx("div",{className:"user-management-container",children:_.jsx(Od,{children:_.jsx(Od.Body,{children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"spinner-border",role:"status",children:_.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),_.jsx("p",{className:"mt-2",children:"Cargando usuarios..."})]})})})}):_.jsx("div",{className:"user-management-container",children:_.jsxs(Od,{children:[_.jsxs(Od.Header,{children:[_.jsx("h4",{children:"Gestión de Usuarios"}),_.jsx("p",{className:"text-muted mb-0",children:"Vista de usuarios registrados en la aplicación"})]}),_.jsxs(Od.Body,{children:[s&&_.jsx("div",{className:"alert alert-warning",role:"alert",children:s}),_.jsx("div",{className:"admin-notice",children:_.jsxs("div",{className:"alert alert-info",role:"alert",children:[_.jsx("strong",{children:"Nota para Administradores:"}),_.jsx("br",{}),"Para agregar, editar o eliminar usuarios, use el"," ",_.jsx("a",{href:"https://console.firebase.google.com/project/kombuchaapp/authentication/users",target:"_blank",rel:"noopener noreferrer",className:"alert-link",children:"Firebase Console"}),"."]})}),n.length>0?_.jsxs(RN,{responsive:!0,striped:!0,hover:!0,children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"ID"}),_.jsx("th",{children:"Email"}),_.jsx("th",{children:"Nombre"}),_.jsx("th",{children:"Rol"}),_.jsx("th",{children:"Estado"}),_.jsx("th",{children:"Última Actividad"})]})}),_.jsx("tbody",{children:n.map(l=>_.jsxs("tr",{children:[_.jsx("td",{children:l.id}),_.jsx("td",{children:l.email}),_.jsx("td",{children:l.name||"N/A"}),_.jsx("td",{children:_.jsx(Jv,{bg:l.role==="admin"?"danger":"primary",children:l.role||"user"})}),_.jsx("td",{children:_.jsx(Jv,{bg:l.active?"success":"secondary",children:l.active?"Activo":"Inactivo"})}),_.jsx("td",{children:l.lastActivity?new Date(l.lastActivity.toDate()).toLocaleDateString("es-ES"):"N/A"})]},l.id))})]}):_.jsx("div",{className:"text-center py-4",children:_.jsxs("p",{className:"text-muted",children:["No hay usuarios registrados en Firestore.",_.jsx("br",{}),"Los usuarios de autenticación se gestionan desde Firebase Console."]})})]})]})})},xH=()=>!1;function wH(){return _.jsx(oH,{children:_.jsxs("div",{className:"App",children:[xH(),_.jsx(rO,{children:_.jsxs(jk,{children:[_.jsx(Qs,{path:"/login",element:_.jsx(vH,{})}),_.jsx(Qs,{path:"/",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(dA,{})]})})}),_.jsx(Qs,{path:"/KombuchaApp",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(dA,{})]})})}),_.jsx(Qs,{path:"/clientes",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(fH,{})]})})}),_.jsx(Qs,{path:"/kombuchas",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(pH,{})]})})}),_.jsx(Qs,{path:"/ventas",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(gH,{})]})})}),_.jsx(Qs,{path:"/rutas",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(yH,{})]})})}),_.jsx(Qs,{path:"/mapa",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(mH,{})]})})}),_.jsx(Qs,{path:"/recordatorios",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(NA,{})]})})}),_.jsx(Qs,{path:"/KombuchaApp/recordatorios",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(NA,{})]})})}),_.jsx(Qs,{path:"/usuarios",element:_.jsx(sa,{children:_.jsxs(_.Fragment,{children:[_.jsx(ia,{}),_.jsx(TH,{})]})})})]})})]})})}HD.createRoot(document.getElementById("root")).render(_.jsx(k.StrictMode,{children:_.jsx(wH,{})}));
